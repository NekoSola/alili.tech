<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="用 Vuex 构建一个笔记应用"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>用 Vuex 构建一个笔记应用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4q3cte6e2zu/",
				"appid": "1613049289050283", 
				"title": "用 Vuex 构建一个笔记应用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-11T02:30:49"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/habbobsjbh/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/3w4rq2vmuyy/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&text=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&text=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&title=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&is_video=false&description=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&title=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&title=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&title=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4q3cte6e2zu%2f&title=%e7%94%a8%20Vuex%20%e6%9e%84%e5%bb%ba%e4%b8%80%e4%b8%aa%e7%ac%94%e8%ae%b0%e5%ba%94%e7%94%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">用 Vuex 构建一个笔记应用</h1><div class="meta"><div class="postdate"><time datetime="2019-02-11" itemprop="datePublished">2019-02-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e原文：\x3ca href=\x22https:\/\/coligo.io\/learn-vuex-by-building-notes-app\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eLearn Vuex by Building a Notes App\x3c\/a\x3e，有删改。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e本文假设读者熟悉 \x3ca href=\x22http:\/\/vuejs.github.io\/vuex\/en\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVuex 文档\x3c\/a\x3e 的内容。如果不熟悉，you definitely should！\x3c\/p\x3e\n\x3cp\x3e在这个教程里面，我们会通过构建一个笔记应用来学习怎么用 Vuex。我会简单地介绍一下 Vuex 的基础内容， 什么时候该用它以及用 Vuex 的时候该怎么组织代码，然后我会一步一步地把这些概念应用到这个笔记应用里面。\x3c\/p\x3e\n\x3cp\x3e这个是我们要构建的笔记应用的截图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcH4\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcH4\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e你可以从 \x3ca href=\x22https:\/\/github.com\/coligo-io\/notes-app-vuejs-vuex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub Repo\x3c\/a\x3e 下载源码，这里是 \x3ca href=\x22https:\/\/coligo-io.github.io\/notes-app-vuejs-vuex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo\x3c\/a\x3e 的地址。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eVuex 概述\x3c\/h2\x3e\n\x3cp\x3eVuex 是一个主要应用在中大型单页应用的类似于 \x3ca href=\x22https:\/\/facebook.github.io\/flux\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFlux\x3c\/a\x3e 的数据管理架构。它主要帮我们更好地组织代码，以及把应用内的的状态保持在可维护、可理解的状态。\x3c\/p\x3e\n\x3cp\x3e如果你不太理解 Vue.js 应用里的状态是什么意思的话，你可以想象一下你此前写的 Vue 组件里面的 data 字段。Vuex 把状态分成\x3cstrong\x3e组件内部状态\x3c\/strong\x3e和\x3cstrong\x3e应用级别状态\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e组件内部状态：仅在一个组件内使用的状态(data 字段)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e应用级别状态：多个组件共用的状态\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e举个例子：比如说有一个父组件，它有两个子组件。这个父组件可以用 props 向子组件传递数据，这条数据通道很好理解。\x3c\/p\x3e\n\x3cp\x3e那如果这两个子组件相互之间需要共享数据呢?或者子组件需要向父组件传递数据呢?这两个问题在应用体量较小的时候都好解决，只要用\x3ca href=\x22http:\/\/cn.vuejs.org\/guide\/components.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e自定义事件\x3c\/a\x3e即可。\x3c\/p\x3e\n\x3cp\x3e但是随着应用规模的扩大：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e追踪这些事件越来越难了。这个事件是哪个组件触发的？谁在监听它？\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e业务逻辑遍布各个组件，导致各种意想不到的问题。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e由于要显式地分发和监听事件，父组件和子组件强耦合。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eVuex 要解决的就是这些问题，Vuex 背后有四个核心的概念：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e状态树\x3c\/strong\x3e: 包含所有应用级别状态的对象\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eGetters\x3c\/strong\x3e: 在组件内部获取 store 中状态的函数\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eMutations\x3c\/strong\x3e: 修改状态的事件回调函数\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eActions\x3c\/strong\x3e: 组件内部用来分发 mutations 事件的函数\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e下面这张图完美地解释了一个 Vuex 应用内部的数据流动：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcIk\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcIk\x22 alt=\x222.png\x22 title=\x222.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这张图的重点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e数据流动是单向的\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e组件可以调用 actions\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eActions 是用来分发 mutations 的\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e只有 mutations 可以修改状态\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3estore 是反应式的，即，状态的变化会在组件内部得到反映\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e搭建项目\x3c\/h2\x3e\n\x3cp\x3e项目结构是这样的： \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcIx\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcIx\x22 alt=\x223.png\x22 title=\x223.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ecomponents\/\x3c\/strong\x3e包含所有的组件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3evuex\/\x3c\/strong\x3e包含 Vuex 相关的文件 (store, actions)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ebuild.js\x3c\/strong\x3e是 webpack 将要输出的文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eindex.html\x3c\/strong\x3e是要渲染的页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3emain.js\x3c\/strong\x3e是应用的入口点，包含了根实例\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3estyle.css\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ewebpack.config.js\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e新建项目：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22mkdir vuex-notes-app \x26amp;\x26amp; cd vuex-note-app\nnpm init -y\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3emkdir\x3c\/span\x3e vuex-\x3cspan class=\x22hljs-keyword\x22\x3enotes\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3eapp\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e vuex-\x3cspan class=\x22hljs-keyword\x22\x3enote\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3eapp\x3c\/span\x3e\nnpm init -\x3cspan class=\x22hljs-built_in\x22\x3ey\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装依赖：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install\\\n  webpack webpack-dev-server\\\n  vue-loader vue-html-loader css-loader vue-style-loader vue-hot-reload-api\\\n  babel-loader babel-core babel-plugin-transform-runtime babel-preset-es2015\\\n  babel-runtime@5\\\n  --save-dev\n\nnpm install vue vuex --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  webpack webpack-dev-server\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  vue-loader vue-html-loader css-loader vue-style-loader vue-hot-reload-api\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-loader babel-core babel-plugin-transform-runtime babel-preset-es2015\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  babel-runtime@\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\\\x3c\/span\x3e\n  --save-dev\n\n\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install vue vuex --save\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后配置 Webpack:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nmodule.exports = {\n  entry: \x27.\/main.js\x27,\n  output: {\n    path: __dirname,\n    filename: \x27build.js\x27\n  },\n  module: {\n    loaders: [\n      {\n        test: \/\\.vue$\/,\n        loader: \x27vue\x27\n      },\n      {\n        test: \/\\.js$\/,\n        loader: \x27babel\x27,\n        exclude: \/node_modules\/\n      }\n    ]\n  },\n  babel: {\n    presets: [\x27es2015\x27],\n    plugins: [\x27transform-runtime\x27]\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/main.js\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: __dirname,\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27build.js\x27\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eloaders\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.vue$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n      },\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27babel\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e\n      }\n    ]\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ebabel\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3epresets\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27es2015\x27\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27transform-runtime\x27\x3c\/span\x3e]\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在 package.json 里面配置一下 npm script:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;scripts\x26quot;: {\n  \x26quot;dev\x26quot;: \x26quot;webpack-dev-server --inline --hot\x26quot;,\n  \x26quot;build\x26quot;: \x26quot;webpack -p\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22dev\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22webpack-dev-server --inline --hot\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22webpack -p\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e后面测试和生产的时候直接运行\x3ccode\x3enpm run dev\x3c\/code\x3e和\x3ccode\x3enpm run build\x3c\/code\x3e就行了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e创建 Vuex Store\x3c\/h2\x3e\n\x3cp\x3e在 vuex\/文件夹下创建一个 store.js:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport Vuex from \x27vuex\x27\n\nVue.use(Vuex)\n\nconst state = {\n  notes: [],\n  activeNote: {}\n}\n\nconst mutations = { ... }\n\nexport default new Vuex.Store({\n  state,\n  mutations\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vuex \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vuex\x27\x3c\/span\x3e\n\nVue.use(Vuex)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e state = {\n  \x3cspan class=\x22hljs-attr\x22\x3enotes\x3c\/span\x3e: [],\n  \x3cspan class=\x22hljs-attr\x22\x3eactiveNote\x3c\/span\x3e: {}\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e mutations = { ... }\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vuex.Store({\n  state,\n  mutations\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我用下面这张图把应用分解成多个组件，并把组件内部需要的数据对应到 store.js 里的 state。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcIB\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcIB\x22 alt=\x224.png\x22 title=\x224.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eApp\x3c\/strong\x3e, 根组件，就是最外面那个红色的盒子\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eToolbar\x3c\/strong\x3e 是左边的绿色竖条，包括三个按钮\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eNotesList\x3c\/strong\x3e 是包含了笔记标题列表的紫色框。用户可以点击所有笔记(All Notes)或者收藏笔记(Favorites)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eEditor\x3c\/strong\x3e 是右边这个可以编辑笔记内容的黄色框\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3estore.js 里面的状态对象会包含所有应用级别的状态，也就是各个组件需要共享的状态。\x3c\/p\x3e\n\x3cp\x3e笔记列表(\x3ccode\x3enotes: []\x3c\/code\x3e)包含了 NodesList 组件要渲染的 notes 对象。当前笔记(activeNote: {})则包含当前选中的笔记对象，多个组件都需要这个对象：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eToolbar 组件的收藏和删除按钮都对应这个对象\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eNotesList 组件通过 CSS 高亮显示这个对象\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eEditor 组件展示及编辑这个笔记对象的内容。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e聊完了状态(state),我们来看看 mutations, 我们要实现的 mutation 方法包括：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e添加笔记到数组里 (state.notes)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e把选中的笔记设置为「当前笔记」(state.activeNote)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e删掉当前笔记\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e编辑当前笔记\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e收藏\/取消收藏当前笔记\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e首先,要添加一条新笔记，我们需要做的是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e新建一个对象\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e初始化属性\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3epush 到\x3ccode\x3estate.notes\x3c\/code\x3e里去\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e把新建的这条笔记设为当前笔记(activeNote)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ADD_NOTE (state) {\n  const new Note = {\n    text: \x27New note\x27,\n    favorite: fals\n  }\n  state.notes.push(newNote)\n  state.activeNote=  newNote\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eADD_NOTE (state) {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Note = {\n    \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27New note\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3efavorite\x3c\/span\x3e: fals\n  }\n  state.notes.push(newNote)\n  state.activeNote=  newNote\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后，编辑笔记需要用笔记内容 text 作参数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22EDIT_NOTE (state, text) {\n  state.activeNote.text = text\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eEDIT_NOTE (state, text) {\n  state.activeNote.text = text\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e剩下的这些 mutations 很简单就不一一赘述了。整个 vuex\/store.js 是这个样子的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport Vuex from \x27vuex\x27\n\nVue.use(Vuex)\n\nconst state = {\n  note: [],\n  activeNote: {}\n}\n\nconst mutations = {\n  ADD_NOTE (state) {\n    const newNote = {\n      text: \x27New Note\x27,\n      favorite: false\n    }\n    state.notes.push(newNote)\n    state.activeNote = newNote\n  },\n\n  EDIT_NOTE (state, text) {\n    state.activeNote.text = text\n  },\n\n  DELETE_NOTE (state) {\n    state.notes.$remove(state.activeNote)\n    state.activeNote = state.notes[0]\n  },\n\n  TOGGLE_FAVORITE (state) {\n    state.activeNote.favorite = !state.activeNote.favorite\n  },\n\n  SET_ACTIVE_NOTE (state, note) {\n    state.activeNote = note\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vuex \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vuex\x27\x3c\/span\x3e\n\nVue.use(Vuex)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e state = {\n  \x3cspan class=\x22hljs-attr\x22\x3enote\x3c\/span\x3e: [],\n  \x3cspan class=\x22hljs-attr\x22\x3eactiveNote\x3c\/span\x3e: {}\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e mutations = {\n  ADD_NOTE (state) {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e newNote = {\n      \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27New Note\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3efavorite\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n    state.notes.push(newNote)\n    state.activeNote = newNote\n  },\n\n  EDIT_NOTE (state, text) {\n    state.activeNote.text = text\n  },\n\n  DELETE_NOTE (state) {\n    state.notes.$remove(state.activeNote)\n    state.activeNote = state.notes[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]\n  },\n\n  TOGGLE_FAVORITE (state) {\n    state.activeNote.favorite = !state.activeNote.favorite\n  },\n\n  SET_ACTIVE_NOTE (state, note) {\n    state.activeNote = note\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vuex.Store({\n  state,\n  mutations\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来聊 actions, actions 是组件内用来分发 mutations 的函数。它们接收 store 作为第一个参数。比方说，当用户点击 Toolbar 组件的添加按钮时，我们想要调用一个能分发\x3ccode\x3eADD_NOTE\x3c\/code\x3e mutation 的 action。现在我们在 vuex\/文件夹下创建一个 actions.js 并在里面写上 \x3ccode\x3eaddNote\x3c\/code\x3e函数:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ actions.js\nexport const addNote = ({ dispatch }) =\x3e {\n  dispatch(\x27ADD_NOTE\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ actions.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e addNote = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27ADD_NOTE\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e剩下的这些 actions 都跟这个差不多：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export const addNote = ({ dispatch }) =\x3e {\n  dispatch(\x27ADD_NOTE\x27)\n}\n\nexport const editNote = ({ dispatch }, e) =\x3e {\n  dispatch(\x27EDIT_NOTE\x27, e.target.value)\n}\n\nexport const deleteNote = ({ dispatch }) =\x3e {\n  dispatch(\x27DELETE_NOTE\x27)\n}\n\nexport const updateActiveNote = ({ dispatch }, note) =\x3e {\n  dispatch(\x27SET_ACTIVE_NOTE\x27, note)\n}\n\nexport const toggleFavorite = ({ dispatch }) =\x3e {\n  dispatch(\x27TOGGLE_FAVORITE\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e addNote = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27ADD_NOTE\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e editNote = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }, e\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27EDIT_NOTE\x27\x3c\/span\x3e, e.target.value)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e deleteNote = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27DELETE_NOTE\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e updateActiveNote = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }, note\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27SET_ACTIVE_NOTE\x27\x3c\/span\x3e, note)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e toggleFavorite = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ dispatch }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  dispatch(\x3cspan class=\x22hljs-string\x22\x3e\x27TOGGLE_FAVORITE\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，在 vuex 文件夹里面要写的代码就都写完了。这里面包括了 store.js 里的 state 和 mutations,以及 actions.js 里面用来分发 mutations 的 actions。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e构建 Vue 组件\x3c\/h2\x3e\n\x3cp\x3e最后这个小结，我们来实现四个组件 (App, Toolbar, NoteList 和 Editor) 并学习怎么在这些组件里面获取 Vuex store 里的数据以及调用 actions。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e创建根实例 - main.js\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3emain.js\x3c\/strong\x3e是应用的入口文件，里面有根实例，我们要把 Vuex store 加到到这个根实例里面，进而注入到它所有的子组件里面：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport store from \x27.\/vuex\/store\x27\nimport App from \x27.\/components\/App.vue\x27\n\nnew Vue({\n  store, \/\/ 注入到所有子组件\n  el: \x27body\x27,\n  components: { App }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/vuex\/store\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/App.vue\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n  store, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注入到所有子组件\x3c\/span\x3e\n  el: \x3cspan class=\x22hljs-string\x22\x3e\x27body\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecomponents\x3c\/span\x3e: { App }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eApp - 根组件\x3c\/h3\x3e\n\x3cp\x3e根组件 \x3cstrong\x3eApp\x3c\/strong\x3e 会 import 其余三个组件：Toolbar, NotesList 和 Editor:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;app\x26quot;\x3e\n    \x3ctoolbar\x3e\x3c\/toolbar\x3e\n    \x3cnotes-list\x3e\x3c\/notes-list\x3e\n    \x3ceditor\x3e\x3c\/editor\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport Toolbar from \x27.\/Toolbar.vue\x27\nimport NotesList from \x27.\/NotesList.vue\x27\nimport Editor from \x27.\/Editor.vue\x27\n\nexport default {\n  components: {\n    Toolbar,\n    NotesList,\n    Editor\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etoolbar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etoolbar\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3enotes-list\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3enotes-list\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eeditor\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eeditor\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Toolbar \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Toolbar.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e NotesList \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/NotesList.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Editor \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Editor.vue\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n  components: {\n    Toolbar,\n    NotesList,\n    Editor\n  }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把 App 组件放到 index.html 里面，用 BootStrap 提供基本样式，在 style.css 里写组件相关的样式:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- index.html --\x3e\n\n\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n  \x3chead\x3e\n    \x3cmeta charset=\x26quot;utf-8\x26quot;\x3e\n    \x3ctitle\x3eNotes | coligo.io\x3c\/title\x3e\n    \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/3.3.6\/css\/bootstrap.min.css\x26quot;\x3e\n    \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;styles.css\x26quot;\x3e\n  \x3c\/head\x3e\n  \x3cbody\x3e\n    \x3capp\x3e\x3c\/app\x3e\n    \x3cscript src=\x26quot;build.js\x26quot;\x3e\x3c\/script\x3e\n  \x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;!-- index.html --\x26gt;\n\n\x26lt;!DOCTYPE html\x26gt;\n\x26lt;html lang=\x22en\x22\x26gt;\n  \x26lt;head\x26gt;\n    \x26lt;meta charset=\x22utf-8\x22\x26gt;\n    \x26lt;title\x26gt;Notes | coligo.io\x26lt;\/title\x26gt;\n    \x26lt;link rel=\x22stylesheet\x22 href=\x22https:\/\/maxcdn.bootstrapcdn.com\/bootstrap\/3.3.6\/css\/bootstrap.min.css\x22\x26gt;\n    \x26lt;link rel=\x22stylesheet\x22 href=\x22styles.css\x22\x26gt;\n  \x26lt;\/head\x26gt;\n  \x26lt;body\x26gt;\n    \x26lt;app\x26gt;\x26lt;\/app\x26gt;\n    \x26lt;script src=\x22build.js\x22\x26gt;\x26lt;\/script\x26gt;\n  \x26lt;\/body\x26gt;\n\x26lt;\/html\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eToolbar\x3c\/h3\x3e\n\x3cp\x3eToolbar 组件提供给用户三个按钮：创建新笔记，收藏当前选中的笔记和删除当前选中的笔记。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcIC\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcIC\x22 alt=\x225.png\x22 title=\x225.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这对于 Vuex 来说是个绝佳的用例，因为 Toolbar 组件需要知道「当前选中的笔记」是哪一条，这样我们才能删除、收藏\/取消收藏它。前面说了「当前选中的笔记」是各个组件都需要的，不应该单独存在于任何一个组件里面，这时候我们就能发现共享数据的必要性了。\x3c\/p\x3e\n\x3cp\x3e每当用户点击笔记列表中的某一条时，NodeList 组件会调用\x3ccode\x3eupdateActiveNote()\x3c\/code\x3e action 来分发 \x3ccode\x3eSET_ACTIVE_NOTE\x3c\/code\x3e mutation, 这个 mutation 会把当前选中的笔记设为 \x3ccode\x3eactiveNote\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e也就是说，Toolbar 组件需要从 state 获取 \x3ccode\x3eactiveNote\x3c\/code\x3e 属性：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22vuex: {\n  getters: {\n    activeNote: state =\x3e state.activeNote\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3evuex: {\n  \x3cspan class=\x22hljs-attr\x22\x3egetters\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eactiveNote\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.activeNote\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们也需要把这三个按钮所对应的 actions 引进来,因此 Toolbar.vue 就是这样的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;toolbar\x26quot;\x3e\n    \x3ci @click=\x26quot;addNote\x26quot; class=\x26quot;glyphicon glyphicon-plus\x26quot;\x3e\x3c\/i\x3e\n    \x3ci @click=\x26quot;toggleFavorite\x26quot;\n      class=\x26quot;glyphicon glyphicon-star\x26quot;\n      :class=\x26quot;{starred: activeNote.favorite}\x26quot;\x3e\x3c\/i\x3e\n    \x3ci @click=\x26quot;deleteNote\x26quot; class=\x26quot;glyphicon glyphicon-remove\x26quot;\x3e\x3c\/i\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport { addNote, deleteNote, toggleFavorite } from \x27..\/vuex\/actions\x27\n\nexport default {\n  vuex: {\n    getters: {\n      activeNote: state =\x3e state.activeNote\n    },\n    actions: {\n      addNote,\n      deleteNote,\n      toggleFavorite\n    }\n  }\n}\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toolbar\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22addNote\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22glyphicon glyphicon-plus\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22toggleFavorite\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22glyphicon glyphicon-star\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{starred: activeNote.favorite}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22deleteNote\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22glyphicon glyphicon-remove\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ addNote, deleteNote, toggleFavorite }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22javascript\x22\x3e \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n  vuex: {\n    getters: {\n      activeNote: state =\x26gt; state.activeNote\n    }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e,\n    actions: \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n      addNote,\n      deleteNote,\n      toggleFavorite\n    }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意到当 \x3ccode\x3eactiveNote.favorite === true\x3c\/code\x3e的时候，收藏按钮还有一个 starred 的类名，这个类的作用是对收藏按钮提供高亮显示。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVvcIZ\x22 src=\x22https:\/\/static.alili.tech\/img\/bVvcIZ\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eNotesList\x3c\/h3\x3e\n\x3cp\x3eNotesList 组件主要有三个功能：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e把笔记列表渲染出来\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e允许用户选择\x22所有笔记\x22或者只显示\x22收藏的笔记\x22\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当用户点击某一条时，调用\x3ccode\x3eupdateActiveNote\x3c\/code\x3eaction 来更新 store 里的 \x3ccode\x3eactiveNote\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e显然，在 NoteLists 里需要 store 里的\x3ccode\x3enotes array\x3c\/code\x3e和\x3ccode\x3eactiveNote\x3c\/code\x3e:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22vuex: {\n  getters: {\n    notes: state =\x3e state.notes,\n    activeNote: state =\x3e state.activeNote\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3evuex: {\n  \x3cspan class=\x22hljs-attr\x22\x3egetters\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3enotes\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.notes,\n    \x3cspan class=\x22hljs-attr\x22\x3eactiveNote\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.activeNote\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当用户点击某一条笔记时，把它设为当前笔记：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { updateActiveNote } from \x27..\/vuex\/actions\x27\n\nexport default {\n  vuex: {\n    getters: {\n      \/\/ as shown above\n    },\n    actions: {\n      updateActiveNote\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { updateActiveNote } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3evuex\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3egetters\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ as shown above\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eactions\x3c\/span\x3e: {\n      updateActiveNote\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来，根据用户点击的是\x22所有笔记\x22还是\x22收藏笔记\x22来展示过滤后的列表：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { updateActiveNote } from \x27..\/vuex\/actions\x27\n\nexport default {\n  data () {\n    return {\n      show: \x27all\x27\n    }\n  },\n  vuex: {\n    \/\/ as shown above\n  },\n  computed: {\n    filteredNotes () {\n      if (this.show === \x27all\x27){\n        return this.notes\n      } else if (this.show === \x27favorites\x27) {\n        return this.notes.filter(note =\x3e note.favorite)\n      }\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { updateActiveNote } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3eshow\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3evuex\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ as shown above\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    filteredNotes () {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.show === \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.notes\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.show === \x3cspan class=\x22hljs-string\x22\x3e\x27favorites\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.notes.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enote\x3c\/span\x3e =\x26gt;\x3c\/span\x3e note.favorite)\n      }\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里组件内的 show 属性是作为组件内部状态出现的，很明显，它只在 NoteList 组件内出现。\x3c\/p\x3e\n\x3cp\x3e以下是完整的 NotesList.vue:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;notes-list\x26quot;\x3e\n\n    \x3cdiv id=\x26quot;list-header\x26quot;\x3e\n      \x3ch2\x3eNotes | coligo\x3c\/h2\x3e\n      \x3cdiv class=\x26quot;btn-group btn-group-justified\x26quot; role=\x26quot;group\x26quot;\x3e\n        \x3c!-- All Notes button --\x3e\n        \x3cdiv class=\x26quot;btn-group\x26quot; role=\x26quot;group\x26quot;\x3e\n          \x3cbutton type=\x26quot;button\x26quot; class=\x26quot;btn btn-default\x26quot;\n            @click=\x26quot;show = \x27all\x27\x26quot;\n            :class=\x26quot;{active: show === \x27all\x27}\x26quot;\x3e\n            All Notes\n          \x3c\/button\x3e\n        \x3c\/div\x3e\n        \x3c!-- Favorites Button --\x3e\n        \x3cdiv class=\x26quot;btn-group\x26quot; role=\x26quot;group\x26quot;\x3e\n          \x3cbutton type=\x26quot;button\x26quot; class=\x26quot;btn btn-default\x26quot;\n            @click=\x26quot;show = \x27favorites\x27\x26quot;\n            :class=\x26quot;{active: show === \x27favorites\x27}\x26quot;\x3e\n            Favorites\n          \x3c\/button\x3e\n        \x3c\/div\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\n    \x3c!-- render notes in a list --\x3e\n    \x3cdiv class=\x26quot;container\x26quot;\x3e\n      \x3cdiv class=\x26quot;list-group\x26quot;\x3e\n        \x3ca v-for=\x26quot;note in filteredNotes\x26quot;\n          class=\x26quot;list-group-item\x26quot; href=\x26quot;#\x26quot;\n          :class=\x26quot;{active: activeNote === note}\x26quot;\n          @click=\x26quot;updateActiveNote(note)\x26quot;\x3e\n          \x3ch4 class=\x26quot;list-group-item-heading\x26quot;\x3e\n            \x22{{\x22note.text.trim().substring(0, 30)\x22}}\x22\n          \x3c\/h4\x3e\n        \x3c\/a\x3e\n      \x3c\/div\x3e\n    \x3c\/div\x3e\n\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport { updateActiveNote } from \x27..\/vuex\/actions\x27\n\nexport default {\n  data () {\n    return {\n      show: \x27all\x27\n    }\n  },\n  vuex: {\n    getters: {\n      notes: state =\x3e state.notes,\n      activeNote: state =\x3e state.activeNote\n    },\n    actions: {\n      updateActiveNote\n    }\n  },\n  computed: {\n    filteredNotes () {\n      if (this.show === \x27all\x27){\n        return this.notes\n      } else if (this.show === \x27favorites\x27) {\n        return this.notes.filter(note =\x3e note.favorite)\n      }\n    }\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode class=\x22vue\x22\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22notes-list\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list-header\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3eNotes | coligo\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh2\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-group btn-group-justified\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erole\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22group\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- All Notes button --\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-group\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erole\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22group\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn btn-default\x22\x3c\/span\x3e\n            @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22show = \x27all\x27\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{active: show === \x27all\x27}\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            All Notes\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- Favorites Button --\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-group\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erole\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22group\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn btn-default\x22\x3c\/span\x3e\n            @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22show = \x27favorites\x27\x22\x3c\/span\x3e\n            \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{active: show === \x27favorites\x27}\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            Favorites\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- render notes in a list --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list-group\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22note in filteredNotes\x22\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list-group-item\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{active: activeNote === note}\x22\x3c\/span\x3e\n          @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22updateActiveNote(note)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh4\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list-group-item-heading\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22note.text.trim().substring(0, 30)\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh4\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { updateActiveNote } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  data () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3eshow\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3evuex\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3egetters\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3enotes\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.notes,\n      \x3cspan class=\x22hljs-attr\x22\x3eactiveNote\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e state.activeNote\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eactions\x3c\/span\x3e: {\n      updateActiveNote\n    }\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n    filteredNotes () {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.show === \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.notes\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.show === \x3cspan class=\x22hljs-string\x22\x3e\x27favorites\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.notes.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3enote\x3c\/span\x3e =\x26gt;\x3c\/span\x3e note.favorite)\n      }\n    }\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个组件的几个要点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e用前30个字符当作该笔记的标题\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当用户点击一条笔记，该笔记变成当前选中笔记\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在\x22all\x22和\x22favorite\x22之间选择实际上就是设置 show 属性\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过\x3ccode\x3e:class=\x22\x22\x3c\/code\x3e设置样式\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eEditor\x3c\/h3\x3e\n\x3cp\x3eEditor 组件是最简单的，它只做两件事：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e从 store 获取当前笔记\x3ccode\x3eactiveNote\x3c\/code\x3e，把它的内容展示在 textarea\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在用户更新笔记的时候，调用 \x3ccode\x3eeditNote()\x3c\/code\x3e action\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e以下是完整的 Editor.vue:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv id=\x26quot;note-editor\x26quot;\x3e\n    \x3ctextarea\n      :value=\x26quot;activeNoteText\x26quot;\n      @input=\x26quot;editNote\x26quot;\n      class=\x26quot;form-control\x26quot;\x3e\n    \x3c\/textarea\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscript\x3e\nimport { editNote } from \x27..\/vuex\/actions\x27\n\nexport default {\n  vuex: {\n    getters: {\n      activeNoteText: state =\x3e state.activeNote.text\n    },\n    actions: {\n      editNote\n    }\n  }\n}\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode class=\x22vue\x22\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22note-editor\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etextarea\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3e:value\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22activeNoteText\x22\x3c\/span\x3e\n      @\x3cspan class=\x22hljs-attr\x22\x3einput\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22editNote\x22\x3c\/span\x3e\n      \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22form-control\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etextarea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ editNote }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22javascript\x22\x3e \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/vuex\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n  vuex: {\n    getters: {\n      activeNoteText: state =\x26gt; state.activeNote.text\n    }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e,\n    actions: \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n      editNote\n    }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e\n  }\n}\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的 textarea 不用 v-model 的原因在 vuex 文档里面有\x3ca href=\x22http:\/\/vuejs.github.io\/vuex\/en\/forms.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e详细的说明\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e至此，这个应用的代码就写完了，不明白的地方可以看\x3ca href=\x22https:\/\/github.com\/coligo-io\/notes-app-vuejs-vuex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源代码\x3c\/a\x3e, 然后动手操练一遍。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>用 Vuex 构建一个笔记应用</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005015164">https://segmentfault.com/a/1190000005015164</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4q3cte6e2zu/" target="_blank">https://alili.tech/archive/4q3cte6e2zu/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>