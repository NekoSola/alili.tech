<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Redux 状态管理方法与实例"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Redux 状态管理方法与实例 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/y89j6qezpo/",
				"appid": "1613049289050283", 
				"title": "Redux 状态管理方法与实例 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-07T02:30:15"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2ke6v03112w/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/56s39pc6n5u/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&text=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&text=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&title=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&is_video=false&description=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&title=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&title=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&title=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fy89j6qezpo%2f&title=Redux%20%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%b3%95%e4%b8%8e%e5%ae%9e%e4%be%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Redux 状态管理方法与实例</h1><div class="meta"><div class="postdate"><time datetime="2019-02-07" itemprop="datePublished">2019-02-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e状态管理是目前构建单页应用中不可或缺的一环，也是值得花时间学习的知识点。React官方推荐我们使用Redux来管理我们的React应用，同时也提供了Redux的文档来供我们学习，中文版地址为\x3ca href=\x22http:\/\/cn.redux.js.org\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cn.redux.js.org\/index.html\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e虽然官方文档上说只需几分钟就能上手 Redux，但是我个人认为即便你看个两三天也可能上手不了，因为文档里面的知识点不仅数量较多，而且还艰涩难懂，不结合一些实例来看很难用于实际项目中去。\x3c\/p\x3e\n\x3cp\x3e但是不要担心自己学不会，这不我就给大家带来了这篇干货，也是我学习Redux的心得体验。\x3c\/p\x3e\n\x3cp\x3e如果你对如何构建React单页应用还不了解的可以先移步我的上一篇文章\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000005703694\x22\x3e《React 构建单页应用方法与实例》\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e那么下面我就将介绍如何利用Redux来管理你的React项目了，而这里我主要教你构建的是基于\x3cstrong\x3eReact \x2b Redux \x2b React-Router\x3c\/strong\x3e的方法，这也是官方文档里介绍的比较少但是项目中却必备的知识点。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e项目目录\x3c\/h2\x3e\n\x3cp\x3e首先，一个基于React \x2b Redux \x2b React-Router的项目目录可以按照我下方的图片来构建：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVy2Or\x22 src=\x22https:\/\/static.alili.tech\/img\/bVy2Or\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e其中assets目录用于存放项目的静态资源，如css\/图片等，src目录则用于存放React的组件资源。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e入口文件配置\x3c\/h2\x3e\n\x3cp\x3e在webpack的配置项中，我们需要一个或多个入口文件，这里我就不展示关于package.json及webpack.config.js的文件配置，最后我会提供整个项目的下载链接供大家参考。这里我主要介绍下入口文件index.js的配置说明。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27  \/\/ 引入React\nimport { render } from \x27react-dom\x27 \/\/ 引入render方法\nimport { Provider } from \x27react-redux\x27 \/\/ 利用Provider可以使我们的 store 能为下面的组件所用\nimport { Router, browserHistory } from \x27react-router\x27 \/\/ Browser history 是由 React Router 创建浏览器应用推荐的 history\nimport { syncHistoryWithStore } from \x27react-router-redux\x27 \/\/ 利用react-router-redux提供的syncHistoryWithStore我们可以结合store同步导航事件\n\nimport finalCreateStore from \x27.\/src\/store\/configureStore\x27  \/\/引入增强后的store\nimport DevTools from \x27.\/src\/containers\/DevTools\x27  \/\/ 引入Redux调试工具DevTools\nimport reducer from \x27.\/src\/reducers\x27  \/\/ 引入reducers集合\nimport routes from \x27.\/src\/routes\x27   \/\/ 引入路由配置\n\nimport \x27.\/assets\/css\/bootstrap.min.css\x27  \/\/ 引入样式文件\n\n\/\/ 给增强后的store传入reducer\nconst store = finalCreateStore(reducer)\n\n\/\/ 创建一个增强版的history来结合store同步导航事件\nconst history = syncHistoryWithStore(browserHistory, store)\n\nrender(\n    {\/* 利用Provider包裹页面 *\/}\n    \x3cProvider store={store}\x3e\n        \x3cdiv\x3e\n            {\/* 渲染根路由 *\/}\n            \x3cRouter history={history} routes={routes} \/\x3e\n            {\/* 渲染调试组件 *\/}\n            \x3cDevTools \/\x3e\n        \x3c\/div\x3e\n    \x3c\/Provider\x3e,\n    document.getElementById(\x27mount\x27)\n)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入React\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { render } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入render方法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Provider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用Provider可以使我们的 store 能为下面的组件所用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Router, browserHistory } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Browser history 是由 React Router 创建浏览器应用推荐的 history\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { syncHistoryWithStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用react-router-redux提供的syncHistoryWithStore我们可以结合store同步导航事件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e finalCreateStore \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/store\/configureStore\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/引入增强后的store\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e DevTools \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/containers\/DevTools\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入Redux调试工具DevTools\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e reducer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/reducers\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入reducers集合\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e routes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/routes\x27\x3c\/span\x3e   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入路由配置\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/assets\/css\/bootstrap.min.css\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入样式文件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 给增强后的store传入reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = finalCreateStore(reducer)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一个增强版的history来结合store同步导航事件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e history = syncHistoryWithStore(browserHistory, store)\n\nrender(\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* 利用Provider包裹页面 *\/\x3c\/span\x3e}\n    \x26lt;Provider store={store}\x26gt;\n        \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            {\/* 渲染根路由 *\/}\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRouter\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehistory\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{history}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eroutes\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{routes}\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n            {\/* 渲染调试组件 *\/}\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eDevTools\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27mount\x27\x3c\/span\x3e)\n)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在入口文件中我们尽量只需要保留基本的东西，其余的配置代码我们可以放到相应的配置文件中去，比如路由、reducers及store的配置等。这里我都把它们放置到了独立的js中，只在入口文件中通过import引入，这样管理和维护起来会非常方便，但也会相应增加理解的难度，然而一旦上手就会很容易。那么接下来我们再来看下store配置吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3estore配置\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import thunk from \x27redux-thunk\x27 \/\/ redux-thunk 支持 dispatch function，并且可以异步调用它\nimport createLogger from \x27redux-logger\x27 \/\/ 利用redux-logger打印日志\nimport { createStore, applyMiddleware, compose } from \x27redux\x27 \/\/ 引入redux createStore、中间件及compose \nimport DevTools from \x27..\/containers\/DevTools\x27 \/\/ 引入DevTools调试组件\n\n\/\/ 调用日志打印方法\nconst loggerMiddleware = createLogger()\n\n\/\/ 创建一个中间件集合\nconst middleware = [thunk, loggerMiddleware]\n\n\/\/ 利用compose增强store，这个 store 与 applyMiddleware 和 redux-devtools 一起使用\nconst finalCreateStore = compose(\n    applyMiddleware(...middleware),\n    DevTools.instrument(),\n)(createStore)\n\nexport default finalCreateStore\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e thunk \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-thunk\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ redux-thunk 支持 dispatch function，并且可以异步调用它\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e createLogger \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-logger\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用redux-logger打印日志\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore, applyMiddleware, compose } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入redux createStore、中间件及compose \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e DevTools \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/containers\/DevTools\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入DevTools调试组件\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 调用日志打印方法\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e loggerMiddleware = createLogger()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一个中间件集合\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e middleware = [thunk, loggerMiddleware]\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用compose增强store，这个 store 与 applyMiddleware 和 redux-devtools 一起使用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e finalCreateStore = compose(\n    applyMiddleware(...middleware),\n    DevTools.instrument(),\n)(createStore)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e finalCreateStore\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我们需要了解中间件（Middleware）的概念。middleware 是指可以被嵌入在框架接收请求到产生响应过程之中的代码，你可以在一个项目中使用多个独立的第三方 middleware，如上面的redux-thunk和redux-logger。详细资料请参考官方文档：\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/advanced\/Middleware.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cn.redux.js.org\/docs\/advanced\/Middleware.html\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e路由配置\x3c\/h2\x3e\n\x3cp\x3e上面的入口文件配置中我们把路由配置部分单独放到了routes.js的文件中，这里我们就来看下其配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27 \/\/ 引入react\nimport { Route, IndexRoute } from \x27react-router\x27 \/\/ 引入react路由\nimport { App, Home, Foo, Bar, Antd } from \x27.\/containers\x27 \/\/ 引入各容器组件\n\nexport default (\n    \x3cRoute path=\x26quot;\/\x26quot; component={App}\x3e\n        \x3cIndexRoute component={Home}\/\x3e\n        \x3cRoute path=\x26quot;index\x26quot; component={Home}\/\x3e\n        \x3cRoute path=\x26quot;foo\x26quot; component={Foo}\/\x3e\n        \x3cRoute path=\x26quot;bar\x26quot; component={Bar}\/\x3e\n        \x3cRoute path=\x26quot;antd\x26quot; component={Antd}\/\x3e\n    \x3c\/Route\x3e\n)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3eimport React from \x27react\x27 \/\/ 引入react\nimport \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ Route, IndexRoute }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e from \x27react-router\x27 \/\/ 引入react路由\nimport \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{ App, Home, Foo, Bar, Antd }\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e from \x27.\/containers\x27 \/\/ 引入各容器组件\n\nexport default (\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{App}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eIndexRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{Home}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22index\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{Home}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22foo\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{Foo}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22bar\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{Bar}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22antd\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e=\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{Antd}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eRoute\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n)\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的路由配置和不使用redux时候是一样的，唯一需要了解的是\x3cstrong\x3e容器组件\x3c\/strong\x3e和\x3cstrong\x3e展示组件\x3c\/strong\x3e的概念。上面配置文件中的路由加载的组件都可以认为是容器组件。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e顾名思义，展示组件包含在容器组件中，只用作页面展示，不会定义数据如何读取如何改变，只通过this.props接受数据和回调函数；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e而容器组件中包含各展示组件的数据，即Props，它们为展示组件或其他组件提供数据和方法。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e我们应该把它们放在不同的文件夹中，以示区别，如上面“项目目录”中的containers和components文件夹分别存放容器组件和展示组件。具体说明可以参考文章：\x3ca href=\x22http:\/\/www.jianshu.com\/p\/6fa2b21f5df3\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.jianshu.com\/p\/6fa2b21f5df3\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e根组件配置\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component } from \x27react\x27 \/\/ 引入React\nimport { Link } from \x27react-router\x27 \/\/ 引入Link处理导航跳转\n\nexport default class App extends Component {\n    render() {\n        return(\n            \x3cdiv\x3e\n                \x3cnav className=\x26quot;navbar navbar-default\x26quot;\x3e\n                    \x3cdiv className=\x26quot;container-fluid\x26quot;\x3e\n                        \x3cdiv className=\x26quot;navbar-header\x26quot;\x3e\n                            \x3cspan className=\x26quot;navbar-brand\x26quot; href=\x26quot;#\x26quot;\x3e\n                                \x3cLink to=\x26quot;\/\x26quot;\x3eRedux\x3c\/Link\x3e\n                            \x3c\/span\x3e\n                        \x3c\/div\x3e\n                        \x3cul className=\x26quot;nav navbar-nav\x26quot;\x3e\n                            \x3cli\x3e\n                                \x3cLink to=\x26quot;\/index\x26quot; activeStyle=\x22{{\x22color: \x27#555\x27, backgroundColor: \x27#e7e7e7\x27\x22}}\x22\x3e计数器\x3c\/Link\x3e\n                            \x3c\/li\x3e\n                            \x3cli\x3e\n                                \x3cLink to=\x26quot;\/foo\x26quot; activeStyle=\x22{{\x22color: \x27#555\x27, backgroundColor: \x27#e7e7e7\x27\x22}}\x22\x3e静态数据\x3c\/Link\x3e\n                            \x3c\/li\x3e\n                            \x3cli\x3e\n                                \x3cLink to=\x26quot;\/bar\x26quot; activeStyle=\x22{{\x22color: \x27#555\x27, backgroundColor: \x27#e7e7e7\x27\x22}}\x22\x3e动态数据\x3c\/Link\x3e\n                            \x3c\/li\x3e\n                            \x3cli\x3e\n                                \x3cLink to=\x26quot;\/antd\x26quot; activeStyle=\x22{{\x22color: \x27#555\x27, backgroundColor: \x27#e7e7e7\x27\x22}}\x22\x3e结合antd\x3c\/Link\x3e\n                            \x3c\/li\x3e\n                        \x3c\/ul\x3e\n                    \x3c\/div\x3e\n                \x3c\/nav\x3e\n                \x3cdiv className=\x26quot;panel panel-default\x26quot;\x3e\n                    \x3cdiv className=\x26quot;panel-body\x26quot;\x3e\n                        { this.props.children }\n                    \x3c\/div\x3e\n                \x3c\/div\x3e\n            \x3c\/div\x3e\n        )\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入React\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Link } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入Link处理导航跳转\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApp\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3enav\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22navbar navbar-default\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container-fluid\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22navbar-header\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22navbar-brand\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eRedux\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22nav navbar-nav\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/index\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eactiveStyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22color:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3e555\x3c\/span\x3e\x27, \x3cspan class=\x22hljs-attr\x22\x3ebackgroundColor:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3ee7e7e7\x3c\/span\x3e\x27\x22}}\x22\x26gt;\x3c\/span\x3e计数器\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/foo\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eactiveStyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22color:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3e555\x3c\/span\x3e\x27, \x3cspan class=\x22hljs-attr\x22\x3ebackgroundColor:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3ee7e7e7\x3c\/span\x3e\x27\x22}}\x22\x26gt;\x3c\/span\x3e静态数据\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/bar\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eactiveStyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22color:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3e555\x3c\/span\x3e\x27, \x3cspan class=\x22hljs-attr\x22\x3ebackgroundColor:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3ee7e7e7\x3c\/span\x3e\x27\x22}}\x22\x26gt;\x3c\/span\x3e动态数据\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/antd\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eactiveStyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22color:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3e555\x3c\/span\x3e\x27, \x3cspan class=\x22hljs-attr\x22\x3ebackgroundColor:\x3c\/span\x3e \x27#\x3cspan class=\x22hljs-attr\x22\x3ee7e7e7\x3c\/span\x3e\x27\x22}}\x22\x26gt;\x3c\/span\x3e结合antd\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eLink\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3enav\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22panel panel-default\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22panel-body\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        { this.props.children }\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        )\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e整个根组件App.js主要渲染了整个应用的导航和可变区域，这其实和Redux没有关系。需要注意的是to中的URL地址需要和routes.js中的path地址名称一致。\x3c\/p\x3e\n\x3cp\x3e写到这里还没有介绍Redux中的Action及Reducer的配置，那么接下来就来介绍下。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eAction配置\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { INCREASE, DECREASE, GETSUCCESS, REFRESHDATA } from \x27..\/constants\x27  \/\/ 引入action类型名常量\nimport \x27whatwg-fetch\x27  \/\/ 可以引入fetch来进行Ajax\n\n\/\/ 这里的方法返回一个action对象\nexport const increase = n =\x3e {\n    return {\n        type: INCREASE,\n        amount: n\n    }\n}\n\nexport const decrease = n =\x3e {\n    return {\n        type: DECREASE,\n        amount: n\n    }\n}\n\nexport const refreshData = () =\x3e {\n    return {\n        type: REFRESHDATA\n    }\n}\n\nexport const getSuccess = (json) =\x3e {\n    return {\n        type: GETSUCCESS,\n        json\n    }\n}\n\nfunction fetchPosts() {\n    return dispatch =\x3e {\n        return fetch(\x27data.json\x27)\n            .then((res) =\x3e { console.log(res.status); return res.json() })\n            .then((data) =\x3e {\n                dispatch(getSuccess(data))\n            })\n            .catch((e) =\x3e { console.log(e.message) })\n        }\n}\n\n\/\/ 这里的方法返回一个函数进行异步操作\nexport function fetchPostsIfNeeded() {\n\n    \/\/ 注意这个函数也接收了 getState() 方法\n    \/\/ 它让你选择接下来 dispatch 什么\n    return (dispatch, getState) =\x3e {\n        return dispatch(fetchPosts())\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { INCREASE, DECREASE, GETSUCCESS, REFRESHDATA } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/constants\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入action类型名常量\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27whatwg-fetch\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 可以引入fetch来进行Ajax\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里的方法返回一个action对象\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e increase = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: INCREASE,\n        amount: n\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e decrease = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: DECREASE,\n        amount: n\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e refreshData = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: REFRESHDATA\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getSuccess = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ejson\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: GETSUCCESS,\n        json\n    }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efetchPosts\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetch(\x3cspan class=\x22hljs-string\x22\x3e\x27data.json\x27\x3c\/span\x3e)\n            .then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(res.status); \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e res.json() })\n            .then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n                dispatch(getSuccess(data))\n            })\n            .catch(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.message) })\n        }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里的方法返回一个函数进行异步操作\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efetchPostsIfNeeded\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意这个函数也接收了 getState() 方法\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 它让你选择接下来 dispatch 什么\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3edispatch, getState\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dispatch(fetchPosts())\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面返回一个action对象的方法叫做“\x3cstrong\x3eaction 创建函数\x3c\/strong\x3e”，它就是生成action的方法，也是store数据的唯一来源。\x3c\/p\x3e\n\x3cp\x3e上面返回一个函数的方法叫做“\x3cstrong\x3e异步action\x3c\/strong\x3e”，这里使用的是Redux Thunk middleware，要引入redux-thunk这个专门的库才能使用，这样我们就可以实现异步Ajax请求改变状态等功能了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3eReducer配置\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ reducers\/count.js\nimport { INCREASE, DECREASE, GETSUCCESS, REFRESHDATA } from \x27..\/constants\x27 \/\/ 引入action类型常量名\n\n\/\/ 初始化state数据\nconst initialState = {\n    number: 1,\n    lists: [\n        {text: \x27整个应用的 state 被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个 store 中。\x27}, \n        {text: \x27惟一改变 state 的方法就是触发 action，action 是一个用于描述已发生事件的普通对象。\x27},\n        {text: \x27为了描述 action 如何改变 state tree ，你需要编写 reducers。\x27},\n        {text: \x27就是这样，现在你应该明白 Redux 是怎么回事了。\x27}\n    ],\n    data: []\n}\n\n\/\/ 通过dispatch action进入\nexport default function update(state = initialState, action) {\n\n    \/\/ 根据不同的action type进行state的更新\n    switch(action.type) {\n        case INCREASE:\n            return Object.assign({}, state, { number: state.number \x2b action.amount })\n            break\n        case DECREASE:\n            return Object.assign({}, state, { number: state.number - action.amount })\n            break\n        case GETSUCCESS:\n            return Object.assign({}, state, { data: action.json })\n        case REFRESHDATA:\n            return Object.assign({}, state, { data: [] })\n        default:\n            return state\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/\/ reducers\/count.js\nimport { INCREASE, DECREASE, GETSUCCESS, REFRESHDATA } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27..\/constants\x27 \/\/ 引入action类型常量名\n\n\/\/ 初始化\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e数据\nconst initialState = {\n    number: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    lists: [\n        {text: \x27整个应用的 \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e 被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个 store 中。\x27}, \n        {text: \x27惟一改变 \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e 的方法就是触发 action，action 是一个用于描述已发生事件的普通对象。\x27},\n        {text: \x27为了描述 action 如何改变 \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e tree ，你需要编写 reducers。\x27},\n        {text: \x27就是这样，现在你应该明白 Redux 是怎么回事了。\x27}\n    ],\n    data: []\n}\n\n\/\/ 通过dispatch action进入\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e function update(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e = initialState, action) {\n\n    \/\/ 根据不同的action type进行\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e的更新\n    switch(action.type) {\n        case INCREASE:\n            return Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { number: \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.number \x2b action.amount })\n            break\n        case DECREASE:\n            return Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { number: \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.number - action.amount })\n            break\n        case GETSUCCESS:\n            return Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { data: action.json })\n        case REFRESHDATA:\n            return Object.assign({}, \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { data: [] })\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n            return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ reducers\/index.js\nimport { combineReducers } from \x27redux\x27 \/\/ 利用combineReducers 合并reducers\nimport { routerReducer } from \x27react-router-redux\x27 \/\/ 将routerReducer一起合并管理\nimport update from \x27.\/count\x27 \/\/ 引入update这个reducer\n\nexport default combineReducers({\n    update,\n    routing: routerReducer\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reducers\/index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { combineReducers } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用combineReducers 合并reducers\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { routerReducer } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将routerReducer一起合并管理\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e update \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/count\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入update这个reducer\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e combineReducers({\n    update,\n    \x3cspan class=\x22hljs-attr\x22\x3erouting\x3c\/span\x3e: routerReducer\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我们主要需要了解如何通过combineReducers来合并reducers，同时在进入reducer方法后我们必须返回一个state的处理结果来更新state状态，否则会报错。还需注意的是在合并reducers的时候，需要加上routerReducer这个由“react-router-redux”提供的reducer来管理路由的状态更新。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e容器组件\x3c\/h2\x3e\n\x3cp\x3e上文提到了容器组件和展示组件的区别和含义，这里我们需要在容器组件使用connect来搭配Redux来进行状态管理，这是很关键的一步。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component, PropTypes } from \x27react\x27 \/\/ 引入React\nimport { connect } from \x27react-redux\x27 \/\/ 引入connect \nimport List from \x27..\/components\/List\x27  \/\/ 引入展示组件List\n\nexport default class Foo extends Component {\n    render() {\n    \n        \/\/ 通过this.props获取到lists的值\n        const { lists } = this.props\n\n        return(\n            \x3cdiv\x3e\n                \x3cul className=\x26quot;list-group\x26quot;\x3e\n                    {将值传入展示组件}\n                    { lists.map((e, index) =\x3e \n                        \x3cList text={e.text} key={index}\x3e\x3c\/List\x3e\n                    )}\n                \x3c\/ul\x3e\n            \x3c\/div\x3e\n        )\n    }\n}\n\n\/\/ 验证组件中的参数类型\nFoo.propTypes = {\n    lists: PropTypes.arrayOf(PropTypes.shape({\n        text: PropTypes.string.isRequired\n    }).isRequired).isRequired\n}\n\n\/\/ 获取state中的lists值\nconst getList = state =\x3e {\n    return {\n        lists: state.update.lists\n    }\n}\n\n\/\/ 利用connect将组件与Redux绑定起来\nexport default connect(getList)(Foo)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component, PropTypes } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入React\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { connect } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入connect \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e List \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/List\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入展示组件List\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eFoo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    render() {\n    \n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过this.props获取到lists的值\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { lists } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props\n\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22list-group\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    {将值传入展示组件}\n                    { lists.map((e, index) =\x26gt; \n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eList\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{e.text}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{index}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eList\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    )}\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        )\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 验证组件中的参数类型\x3c\/span\x3e\nFoo.propTypes = {\n    \x3cspan class=\x22hljs-attr\x22\x3elists\x3c\/span\x3e: PropTypes.arrayOf(PropTypes.shape({\n        \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: PropTypes.string.isRequired\n    }).isRequired).isRequired\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取state中的lists值\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e getList = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3elists\x3c\/span\x3e: state.update.lists\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 利用connect将组件与Redux绑定起来\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e connect(getList)(Foo)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在容器组件中我们需要获取state中的初始状态的时候，我们需要使用connect。任何一个从 connect() 包装好的组件都可以得到一个 dispatch 方法作为组件的 props，以及得到全局 state 中所需的任何内容。connect() 的唯一参数是 selector。此方法可以从 Redux store 接收到全局的 state，然后返回组件中需要的 props。详资料请参考文档：\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/basics\/UsageWithReact.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cn.redux.js.org\/docs\/basics\/UsageWithReact.html\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e展示组件\x3c\/h2\x3e\n\x3cp\x3e上面的容器组件中引入了一个展示组件List，我们来看下它的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component, PropTypes } from \x27react\x27\n\nexport default class List extends Component {\n    render() {\n        return(\n            \x3cli className=\x26quot;list-group-item\x26quot;\x3e{this.props.text}\x3c\/li\x3e\n        )\n    }\n}\n\nList.propTypes = {\n    text: PropTypes.string.isRequired\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eReact\x3c\/span\x3e, { \x3cspan class=\x22hljs-type\x22\x3eComponent\x3c\/span\x3e, \x3cspan class=\x22hljs-type\x22\x3ePropTypes\x3c\/span\x3e } from \x3cspan class=\x22hljs-symbol\x22\x3e\x27reac\x3c\/span\x3et\x27\n\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eList\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e(\n            \x26lt;li className=\x3cspan class=\x22hljs-string\x22\x3e\x22list-group-item\x22\x3c\/span\x3e\x26gt;{\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.text}\x26lt;\/li\x26gt;\n        )\n    }\n}\n\n\x3cspan class=\x22hljs-type\x22\x3eList\x3c\/span\x3e.propTypes = {\n    text: \x3cspan class=\x22hljs-type\x22\x3ePropTypes\x3c\/span\x3e.string.isRequired\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从中我们可以发现，展示组件没有connect的方法，数据是通过this.props来获取的，这样的方式能够是数据的变化清晰可查，便于管理和维护。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3edemo演示\x3c\/h2\x3e\n\x3cp\x3e最后我们来看下这个demo：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVy3Du\x22 src=\x22https:\/\/static.alili.tech\/img\/bVy3Du\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e整个demo的代码我都上传到了我的github，需要的童鞋可以访问：\x3ca href=\x22https:\/\/github.com\/luozhihao\/redux-basic-example\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/luozhihao\/redux-basic-example\x3c\/a\x3e下载。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e总结\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3eRedux的知识点繁多，这里只做了大概的介绍，剩下的还需要自己不断的摸索和实践。希望本文能够帮助你了解利用redux构建项目的大体流程。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e此致敬礼\x3c\/p\x3e\n\x3cp\x3e本文地址：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000005933397\x22\x3ehttps:\/\/segmentfault.com\/a\/1190000005933397\x3c\/a\x3e\x3cbr\x3e博客园：\x3ca href=\x22http:\/\/www.cnblogs.com\/luozhihao\/p\/5660496.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cnblogs.com\/luozhihao\/p\/5660496.html\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Redux 状态管理方法与实例</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005933397">https://segmentfault.com/a/1190000005933397</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/y89j6qezpo/" target="_blank">https://alili.tech/archive/y89j6qezpo/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>