<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="用最简单易懂的道理告诉你，为什么JavaScript在现代引擎（V8，JavaScriptCore）下，能表现出卓越性能！"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>用最简单易懂的道理告诉你，为什么JavaScript在现代引擎（V8，JavaScriptCore）下，能表现出卓越性能！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/zlvsdlib9bb/",
				"appid": "1613049289050283", 
				"title": "用最简单易懂的道理告诉你，为什么JavaScript在现代引擎（V8，JavaScriptCore）下，能表现出卓越性能！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-10T02:30:42"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/vyn9t1ebvhq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/jy6ximowuh/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&text=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&text=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&title=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&is_video=false&description=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&title=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&title=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&title=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzlvsdlib9bb%2f&title=%e7%94%a8%e6%9c%80%e7%ae%80%e5%8d%95%e6%98%93%e6%87%82%e7%9a%84%e9%81%93%e7%90%86%e5%91%8a%e8%af%89%e4%bd%a0%ef%bc%8c%e4%b8%ba%e4%bb%80%e4%b9%88JavaScript%e5%9c%a8%e7%8e%b0%e4%bb%a3%e5%bc%95%e6%93%8e%ef%bc%88V8%ef%bc%8cJavaScriptCore%ef%bc%89%e4%b8%8b%ef%bc%8c%e8%83%bd%e8%a1%a8%e7%8e%b0%e5%87%ba%e5%8d%93%e8%b6%8a%e6%80%a7%e8%83%bd%ef%bc%81"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">用最简单易懂的道理告诉你，为什么JavaScript在现代引擎（V8，JavaScriptCore）下，能表现出卓越性能！</h1><div class="meta"><div class="postdate"><time datetime="2019-02-10" itemprop="datePublished">2019-02-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e简单性能测试\x3c\/h2\x3e\n\x3cp\x3e首先，我们先来做一个简单的性能测试，对比一下Java，JavaScript，PHP，Ruby这四门语言。这个性能测试，是计算斐波那契数列（兔子数列）。比如计算n=5的兔子数列，结果是:1,1,2,3,5,8,13,21,34,55（1\x2b1=2...21\x2b34=35）。\x3c\/p\x3e\n\x3cp\x3e这很容易通过一个递归来实现，JavaScript代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fs(n) {\n        if (n \x3c= 2) {\n            return 1;\n        } else {\n            return fs(n - 1) \x2b fs(n - 2);\n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efs\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fs(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x2b fs(n - \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看出，这个测试主要偏重CPU栈操作。\x3c\/p\x3e\n\x3cp\x3e以上面这个函数为基础，加上一些逻辑，分别使用Java，JavaScript，PHP，Ruby这四门语言编写了脚本，计算n=40的兔子数列，我们看一下结果吧。（代码在本文最后，^_^）\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e首先是Java，编译出字节码耗时约1s，运行字节码耗时约1s，666。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e其次是JavaScript，在node环境下运行耗时约3.5s，在浏览器环境（Safari）下约8s，66。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e接着是Ruby，出人意料的结果，约39s，6不起来了。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最后是PHP，约80s，233。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eC或者C\x2b\x2b的代码我没有写，肯定跑得比狗还快。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这个简单性能测试并不能说明语言优劣，只是比较好玩而已，代码在本文最后，有兴趣可以去运行一下。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eJava鹤立鸡群的原因\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e静态类型vs动态类型\x3c\/h3\x3e\n\x3cp\x3e静态类型语言指的是编译的时候就能够知道每个变量的类型，我们编程的时候当然也需要给定类型，如Java中的整型int，浮点型float等。\x3c\/p\x3e\n\x3cp\x3e动态类型语言指的是运行的时候才能够知道每个变量的类型，编程的时候也无需显示指定类型，如JavaScript中的var，PHP中的$。\x3c\/p\x3e\n\x3cp\x3e看上去，静态类型还是动态类型对性能没什么影响，实际上却影响很大。\x3c\/p\x3e\n\x3cp\x3e概括来说就是，静态类型语言在编译后会大量利用类型已知的优势，比如int类型，占用4个字节，编译后的代码就可以使用内存地址加偏移量的方法存取变量。而地址＋偏移量的算法汇编非常容易实现。\x3c\/p\x3e\n\x3cp\x3e那动态类型语言是如何做的呢？概括的来说就是当做字符串通通存下来，之后存取就用字符串匹配。\x3c\/p\x3e\n\x3cp\x3e可以感受到这儿存在的性能差异了吗？\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e编译型vs解释性\x3c\/h3\x3e\n\x3cp\x3e编译型语言，就像C\/C\x2b\x2b，代码要经过编译器编译成可执行程序后才可以运行。这个编译过程没什么时间要求，所以编译器可以做大量代码优化措施，有时候编译要好久好久。\x3c\/p\x3e\n\x3cp\x3e解释型语言，就像JavaScript，就是引擎直接读源码，然后就出结果，当然这样子做效率非常低。就像靠人脑去读源码，然后写答案一样。\x3c\/p\x3e\n\x3cp\x3e奇葩型语言，就像Java，有编译过程，但编译产出的是中间代码（字节码），这个过程也有充分的时间做优化。也有解释过程，字节码需要由Java虚拟机解释执行。\x3c\/p\x3e\n\x3cp\x3e从这儿，大概可以理解，为什么C\/C\x2b\x2b运行效率比Java更高。因为不管怎么说，直接运行二进制码都比解释执行字节码来得快吧。\x3c\/p\x3e\n\x3cp\x3e所以，有趣的事情就来了，C\/C\x2b\x2b是大哥，Java是二哥，一群解释型脚本语言是小弟们。大哥，独孤求败。二哥，想法子和大哥站在一条线上。小弟们，尽全力跟上二哥。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e现代JavaScript引擎的努力\x3c\/h2\x3e\n\x3cp\x3e先来看看，Java虚拟机做了哪些努力？\x3c\/p\x3e\n\x3cp\x3eJava想的肯定是优化虚拟机解释执行字节码的速度，这儿正是和大哥拉开差距的地方。从大哥那学了很多招。其中重要的一招就是JIT（Just-In-Time），主要的思想就是解释器在解释字节码的时候，会将部分字节码转化成本地代码（汇编代码），这样可以被CPU直接执行，而不是解释执行，从而极大地提高性能。\x3c\/p\x3e\n\x3cp\x3e重点来看看，JavaScript引擎做了哪些努力？\x3cbr\x3eJavaScript从前辈那里学习了很多，总结来说有：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e优化数据表示，弥补动态类型的性能缺陷\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e引入一个编译过程，而不是直接解释执行，但这个编译过程和运行是一起的，时间的权衡变得非常重要。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eJIT技术，与Java中的JIT原理相同\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eV8引擎与JavaScriptCore引擎\x3c\/h3\x3e\n\x3cp\x3e各个JavaScript优化的具体实现不太一样。\x3c\/p\x3e\n\x3cp\x3e举例子来说，V8引擎对于编译和JIT的做法是，在编译阶段的过程是：源码＝》抽象语法树＝》本地代码。其中从抽象语法树到本地代码的过程使用的是JIT全码生成器，其作用是将抽象语法树转换成各个硬件平台和直接运行的本地代码。V8引擎的这种思路看起来像想要越过二哥Java，直接学大哥C\/C\x2b\x2b啊。\x3c\/p\x3e\n\x3cp\x3e而JavaScriptCore引擎的做法是更接近二哥的，在编译阶段的过程是：源码＝》抽象语法树＝》字节码（中间代码）。对这个阶段像极了二哥Java的编译过程，只是这里小弟可没有充裕的时间做优化。于是大量的字节码优化措施被延后，比如JIT。JavaScriptCore引擎使用DFG JIT、LLVM等继续对字节码做优化。\x3c\/p\x3e\n\x3cp\x3e权衡时间很重要，一个很好的优化措施但耗时太多，引入之后反而让JavaScript整体的运行时间变长了，得不偿失。另外，还有许多人提出，要不要完全抄二哥的，就是也引入一个提前编译的过程，233\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eRuby、PHP为什么在前面的测试中落败\x3c\/h2\x3e\n\x3cp\x3e具体原因可能还是在引擎吧，可能它们的引擎远没有像V8这么努力。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e首先，对于底层的理解，有助于编写上层的代码。比如现在我们去理解JavaScript代码的时候，会更深刻。具体可以看这篇文章试试，\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000005017794\x22\x3e《通过这一段代码，让我们重新认识JavaScript》\x3c\/a\x3e。\x3cbr\x3e其次，多一些话题吧，比如以后和同伴谈起V8引擎（装B）的时候，说我这个例子还不错吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e性能测试代码，Java、JavaScript、Ruby、PHP计算斐波那契数列（兔子数列）\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eJava\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import java.util.Date;\npublic class Fbnq {\n    public static void main(String []args) {\n        int num = 40;\n        long startTime = new Date().getTime();\n        \/\/System.out.println(startTime);\n        String result = fslog(num);\n        long endTime = new Date().getTime();\n        \/\/System.out.println(endTime);\n        float needTme = (endTime - startTime)\/1000;\n        \n        System.out.println(\x26quot;time:\x26quot;\x2bneedTme\x2b\x26quot;s,result:\x26quot;\x2bresult);\n    }\n    public static int fs (int n){\n        if(n \x3c= 2){\n            return 1;\n        }else{\n            return fs(n-1)\x2bfs(n-2);\n        }\n    }\n    public static String fslog(int num){\n        String rsString = \x26quot;\x26quot;;\n        for(int i=1;i\x3c=num;i\x2b\x2b){\n            int rs = fs(i);\n            System.out.println(rs);\n            if(i == 1){\n                rsString = rsString \x2b rs;\n            }else{\n                rsString = rsString \x2b \x26quot;,\x26quot; \x2b rs;\n            }\n        }\n        return rsString;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22java hljs\x22\x3e\x3ccode class=\x22java\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e java.util.Date;\n\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eFbnq\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emain\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String []args)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e num = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e startTime = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Date().getTime();\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/System.out.println(startTime);\x3c\/span\x3e\n        String result = fslog(num);\n        \x3cspan class=\x22hljs-keyword\x22\x3elong\x3c\/span\x3e endTime = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Date().getTime();\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/System.out.println(endTime);\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efloat\x3c\/span\x3e needTme = (endTime - startTime)\/\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n        \n        System.out.println(\x3cspan class=\x22hljs-string\x22\x3e\x22time:\x22\x3c\/span\x3e\x2bneedTme\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22s,result:\x22\x3c\/span\x3e\x2bresult);\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efs\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e n)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(n \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fs(n-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\x2bfs(n-\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n        }\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e String \x3cspan class=\x22hljs-title\x22\x3efslog\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e num)\x3c\/span\x3e\x3c\/span\x3e{\n        String rsString = \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e i=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;i\x26lt;=num;i\x2b\x2b){\n            \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e rs = fs(i);\n            System.out.println(rs);\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(i == \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e){\n                rsString = rsString \x2b rs;\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                rsString = rsString \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22,\x22\x3c\/span\x3e \x2b rs;\n            }\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e rsString;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3eJavaScript\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var num = 40;\nvar startDate = new Date().getTime();\nvar result = logfs(num);\nvar endDate = new Date().getTime();\n\nconsole.log(\x26quot;time:\x26quot; \x2b ((endDate - startDate) \/ 1000) \x2b \x26quot;s\x26quot;, \x26quot;result:\x26quot; \x2b result);\n\nfunction logfs(num) {\n    var rsString = \x26quot;\x26quot;;\n    for (var i = 1; i \x3c= num; i\x2b\x2b) {\n        var rs = fs(i);\n        if (i === 1) {\n            rsString = rsString \x2b rs;\n        } else {\n            rsString = rsString \x2b \x26quot;,\x26quot; \x2b rs;\n        }\n        console.log(rs);\n    }\n    return rsString;\n    function fs(n) {\n        if (n \x3c= 2) {\n            return 1;\n        } else {\n            return fs(n - 1) \x2b fs(n - 2);\n        }\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e num = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e startDate = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e().getTime();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = logfs(num);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e endDate = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e().getTime();\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22time:\x22\x3c\/span\x3e \x2b ((endDate - startDate) \/ \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22s\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22result:\x22\x3c\/span\x3e \x2b result);\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3elogfs\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3enum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rsString = \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i \x26lt;= num; i\x2b\x2b) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rs = fs(i);\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (i === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) {\n            rsString = rsString \x2b rs;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            rsString = rsString \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22,\x22\x3c\/span\x3e \x2b rs;\n        }\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(rs);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e rsString;\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efs\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3en\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (n \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fs(n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x2b fs(n - \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n        }\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3eRuby\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22def fs (n)\n    if n \x3c 2\n        return 1;\n    else\n        return (fs (n-1)) \x2b (fs (n-2));\n    end\nend\n\ndef fslog (num)\n    num = num - 1;\n    rsString = \x26quot;\x26quot;;\n    for i in 1..num\n        rs = fs i;\n        puts rs;\n        if i === 1\n            rsString = rsString \x2b \x26quot;#{rs}\x26quot;;\n        else\n            rsString = rsString \x2b \x26quot;,#{rs}\x26quot;;\n        end\n        \n    end\n    return rsString;\nend\n\nnum = 40;\nstartTime = Time.now.to_f*1000;\nrsString = fslog num;\nendTime = Time.now.to_f*1000;\n\nneedTime = (endTime - startTime)\/1000;\n\nputs \x26quot;time:#{needTime}s,result:#{rsString}\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22ruby hljs\x22\x3e\x3ccode class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efs\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(n)\x3c\/span\x3e\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e n \x26lt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (fs (n-\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) \x2b (fs (n-\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e));\n    \x3cspan class=\x22hljs-keyword\x22\x3eend\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eend\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efslog\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(num)\x3c\/span\x3e\x3c\/span\x3e\n    num = num - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    rsString = \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e i \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e..num\n        rs = fs i;\n        puts rs;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e i === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n            rsString = rsString \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-subst\x22\x3e#{rs}\x3c\/span\x3e\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e\n            rsString = rsString \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22,\x3cspan class=\x22hljs-subst\x22\x3e#{rs}\x3c\/span\x3e\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3eend\x3c\/span\x3e\n        \n    \x3cspan class=\x22hljs-keyword\x22\x3eend\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e rsString;\n\x3cspan class=\x22hljs-keyword\x22\x3eend\x3c\/span\x3e\n\nnum = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\nstartTime = Time.now.to_f*\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\nrsString = fslog num;\nendTime = Time.now.to_f*\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n\nneedTime = (endTime - startTime)\/\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n\nputs \x3cspan class=\x22hljs-string\x22\x3e\x22time:\x3cspan class=\x22hljs-subst\x22\x3e#{needTime}\x3c\/span\x3es,result:\x3cspan class=\x22hljs-subst\x22\x3e#{rsString}\x3c\/span\x3e\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3ePhp\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c?php\n    $num = 40;\n    $startTime = microtime(true)*1000;\n    var_dump($startTime);\n    consoleLog($startTime);\n    $result = fslog($num);\n    $endTime = microtime(true)*1000;\n\n\n\n    consoleLog(\x26quot;time:\x26quot;.(($endTime - $startTime)\/1000).\x26quot;s,result:\x26quot;.$result);\n\n    function fs($n){\n        if ($n \x3c= 2) {\n            return 1;\n        } else {\n            return fs($n - 1) \x2b fs($n - 2);\n        }\n    }\n    function fslog($num){\n        $rsString = \x26quot;\x26quot;;\n        for($i=1;$i\x3c=$num;$i\x2b\x2b){\n            $rs = fs($i);\n            if($i===1){\n                $rsString = $rsString.\x26quot;\x26quot;.$rs;\n            }else{\n                $rsString = $rsString.\x26quot;,\x26quot;.$rs;\n            }\n            consoleLog($rs);\n        }\n        return $rsString;\n    }\n    function consoleLog($str){\n        echo $str.\x26quot;\\n\x26quot;;\n    }\n?\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22php hljs\x22\x3e\x3ccode class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?php\x3c\/span\x3e\n    $num = \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e;\n    $startTime = microtime(\x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e)*\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n    var_dump($startTime);\n    consoleLog($startTime);\n    $result = fslog($num);\n    $endTime = microtime(\x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e)*\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e;\n\n\n\n    consoleLog(\x3cspan class=\x22hljs-string\x22\x3e\x22time:\x22\x3c\/span\x3e.(($endTime - $startTime)\/\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e).\x3cspan class=\x22hljs-string\x22\x3e\x22s,result:\x22\x3c\/span\x3e.$result);\n\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efs\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e($n)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ($n \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fs($n - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x2b fs($n - \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n        }\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efslog\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e($num)\x3c\/span\x3e\x3c\/span\x3e{\n        $rsString = \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e($i=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;$i\x26lt;=$num;$i\x2b\x2b){\n            $rs = fs($i);\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($i===\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e){\n                $rsString = $rsString.\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e.$rs;\n            }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n                $rsString = $rsString.\x3cspan class=\x22hljs-string\x22\x3e\x22,\x22\x3c\/span\x3e.$rs;\n            }\n            consoleLog($rs);\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e $rsString;\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3econsoleLog\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e($str)\x3c\/span\x3e\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eecho\x3c\/span\x3e $str.\x3cspan class=\x22hljs-string\x22\x3e\x22\\n\x22\x3c\/span\x3e;\n    }\n\x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e参考\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e《你所不知道的JavaScript（上卷）》\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e《WebKit技术内幕》\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e《深入浅出Node.js》\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>用最简单易懂的道理告诉你，为什么JavaScript在现代引擎（V8，JavaScriptCore）下，能表现出卓越性能！</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005148418">https://segmentfault.com/a/1190000005148418</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/zlvsdlib9bb/" target="_blank">https://alili.tech/archive/zlvsdlib9bb/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>