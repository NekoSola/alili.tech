<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="immutability因React官方出镜之使用总结分享！"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>immutability因React官方出镜之使用总结分享！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/jofx4lzpmfk/",
				"appid": "1613049289050283", 
				"title": "immutability因React官方出镜之使用总结分享！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-13T02:31:23"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/u5uwxenrbl/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/zw94enx297s/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&text=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&text=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&title=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&is_video=false&description=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&title=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&title=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&title=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjofx4lzpmfk%2f&title=immutability%e5%9b%a0React%e5%ae%98%e6%96%b9%e5%87%ba%e9%95%9c%e4%b9%8b%e4%bd%bf%e7%94%a8%e6%80%bb%e7%bb%93%e5%88%86%e4%ba%ab%ef%bc%81"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">immutability因React官方出镜之使用总结分享！</h1><div class="meta"><div class="postdate"><time datetime="2019-02-13" itemprop="datePublished">2019-02-13</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLBX?w=1008\x26amp;h=298\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLBX?w=1008\x26amp;h=298\x22 alt=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8\x22 title=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e引言\x3c\/h2\x3e\n\x3cp\x3e　　之前项目中遇到数据拷贝、引用之间数据层级嵌套过深，拷贝的值相互之间影响的问题，后来引入了\x3ccode\x3eimmutability-helper\x3c\/code\x3e，使用过程中的一些总结，跟大家分享下，至于为什么不是\x3ccode\x3eimmutable\x3c\/code\x3e，请看下文分解，这里是\x3ca href=\x22https:\/\/honeybadger8.github.io\/blog\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e@IT·平头哥联盟\x3c\/a\x3e，我是\x3ccode\x3e首席填坑官\x3c\/code\x3e——\x3ca href=\x22https:\/\/github.com\/meibin08\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e苏南\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e​　　相信大家在面试\/工作中都遇到过js对象\/数组的拷贝问题，面试官问你，你一般怎么做？？在现在ES6盛行的当下，不会一点ES6都不好意思说自己是前端(其实我一般都说自己是\x3cstrong\x3e攻城狮、切图崽\x3c\/strong\x3e😝)，我们想的大多第一想法，如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eObject.assign\x3c\/code\x3e - 最方便;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e[...]\x3c\/code\x3e - 最有逼格;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eJSON.parse\x3c\/code\x3e、\x3ccode\x3eJSON.stringify\x3c\/code\x3e - 完美组合;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$.extend()\x3c\/code\x3e - jQuery时代的引领潮流时尚前沿的API;\x3c\/li\x3e\n\x3cli\x3e最后想到的才是自己递归实现一个;\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e　　但是通常我们使用的\x3ccode\x3eObject.assign\x3c\/code\x3e属于浅拷贝，当数据嵌套层级较深时，就……呵呵了；而\x3ccode\x3eJSON.parse、stringify\x3c\/code\x3e它应该是创建一个临时可能很大的字符串，然后又访问解析器，性能是比较慢的。于是后来发现了 \x3ccode\x3eimmutable\x3c\/code\x3e「不可变数据」，曾经我也一度特别喜欢它，但时间久了，慢慢发现，它过于有个性了些、凡事都都没有任何商量的余地，所有的数据，从创建、变更、插入、删除等操作，都要按它的套路来，对于我这种一生放荡不羁爱自由的人来说，长时间的约束，是不能忍的；都说两人如果三观不合，是无法长久下去的，可能也是缘份吧，在后来的某一天偶然的闲逛中邂逅了新欢 ————\x3ca href=\x22https:\/\/reactjs.org\/docs\/update.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eImmutability Helpers\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e　　嗯，今天的主题就是给大家分享一下，\x3ccode\x3eImmutability Helpers\x3c\/code\x3e的一些用法，会介绍API的使用操作和小技巧，如有不理解不对，请纠正：\x3cbr\x3e　　\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cstrong\x3e太兴奋了\x3c\/strong\x3e，差点忘了，补充一下,一个简单的拷贝：\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/实现一个简单的递归数据拷贝\n  let customClone = (rawObj)=\x3e{\n    let copyObj = {};\n\n    for (var key in rawObj) {\n      if( typeof rawObj[key] === \x27object\x27 \x26amp;\x26amp; Object.prototype.toString.call(rawObj[key]) !== \x27[object Array]\x27){\n          copyObj[key] = customClone(rawObj[key]);\n      }else{\n          copyObj[key] = rawObj[key];\n      };\n    };\n    return copyObj;\n  };\n  let objA =  {\x26quot;name\x26quot;:\x26quot;苏南\x26quot;,\x26quot;sex\x26quot;:\x26quot;男\x26quot;,\x26quot;height\x26quot;:\x26quot;176\x26quot;};\n  let objB =  customClone(objA);\n      objB.signature = \x26quot;宝剑锋从磨砺出，梅花香自苦寒来，做有温度的攻城狮\x26quot;;\n\n  console.log(objA);\n  console.log(objB);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/实现一个简单的递归数据拷贝\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e customClone = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3erawObj\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e copyObj = {};\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e key \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e rawObj) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e( \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e rawObj[key] === \x3cspan class=\x22hljs-string\x22\x3e\x27object\x27\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.prototype.toString.call(rawObj[key]) !== \x3cspan class=\x22hljs-string\x22\x3e\x27[object Array]\x27\x3c\/span\x3e){\n          copyObj[key] = customClone(rawObj[key]);\n      }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n          copyObj[key] = rawObj[key];\n      };\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e copyObj;\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e objA =  {\x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22苏南\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22sex\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22男\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22height\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22176\x22\x3c\/span\x3e};\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e objB =  customClone(objA);\n      objB.signature = \x3cspan class=\x22hljs-string\x22\x3e\x22宝剑锋从磨砺出，梅花香自苦寒来，做有温度的攻城狮\x22\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(objA);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(objB);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLB5?w=1116\x26amp;h=684\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLB5?w=1116\x26amp;h=684\x22 alt=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,展示Object.assign拷贝问题\x22 title=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,展示Object.assign拷贝问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3e补充一个\x3c\/strong\x3e \x3ccode\x3eObject.assign\x3c\/code\x3e 的坑 :\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let data = {\n    a:1,\n    b:2,\n    children:{\n      name:\x26quot;苏南\x26quot;,\n      organization:\x26quot;@IT·平头哥联盟\x26quot;,\n      job:\x26quot;首席填坑官\x26quot;,\n      address:\x26quot;ShenZhen\x26quot;,\n      age:18\n    }\n  };\n  let data2 = Object.assign({},data);\n  data2.children.age = 28;\n  data2.children.job = \x26quot;首席甩锅官\x26quot;;\n  data2.b = 666;\n  console.log(\x26quot;我是原始数据 data:\x26quot;,data);\n  console.log(\x26quot;我是复制后的数据 data2:\x26quot;,data2);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode\x3e  let data = {\n    a:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-keyword\x22\x3eb:2,\n\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e    children:\x3c\/span\x3e{\n\x3cspan class=\x22hljs-symbol\x22\x3e      name:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22苏南\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e      organization:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22@IT·平头哥联盟\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e      job:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22首席填坑官\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e      address:\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22ShenZhen\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e      age:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e\n    }\n  }\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  let data2 = Object.assign({},data)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  data2.children.age = \x3cspan class=\x22hljs-number\x22\x3e28\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  data2.children.\x3cspan class=\x22hljs-keyword\x22\x3ejob \x3c\/span\x3e= \x3cspan class=\x22hljs-string\x22\x3e\x22首席甩锅官\x22\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  data2.\x3cspan class=\x22hljs-keyword\x22\x3eb \x3c\/span\x3e= \x3cspan class=\x22hljs-number\x22\x3e666\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22我是原始数据 data:\x22\x3c\/span\x3e,data)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22我是复制后的数据 data2:\x22\x3c\/span\x3e,data2)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLB7?w=1532\x26amp;h=904\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLB7?w=1532\x26amp;h=904\x22 alt=\x22公众号：honeyBadger8,展示Object.assign拷贝问题\x22 title=\x22公众号：honeyBadger8,展示Object.assign拷贝问题\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eimmutable 最后的一次回顾\x3c\/h2\x3e\n\x3cp\x3e　　都说有了新欢，忘了旧爱，但我不是那种无情无义的人，最后正式介绍一下 \x3ccode\x3eimmutable\x3c\/code\x3e，为我俩的……画上一个圆满的句号：\x3c\/p\x3e\n\x3cp\x3e　　再次强调，并不是觉得\x3ccode\x3eimmutable\x3c\/code\x3e不好，不够强大，只是自己个人观点，有些不喜欢而已，各位\x3ccode\x3eimmutable\x3c\/code\x3e粉勿喷，想了解更多的同学可以\x3ca href=\x22http:\/\/facebook.github.io\/immutable-js\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e点击这里\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3eImmutable data encourages pure functions (data-in, data-out) and lends itself to much simpler application development and enabling techniques from functional programming such as lazy evaluation.\x3c\/blockquote\x3e\n\x3ch5\x3e使用示例：\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \n  const list1 = List([ 1, 2, 3 ]);\n  const list2 = List([ 4, 5, 6 ]);\n  const array = [ 7, 8, 9 ];\n  const list3 = list1.concat(list2, array);\n  console.log(list3) \/\/ List\x26nbsp;{size: 9, _origin: 0, _capacity: 9, _level: 5, _root: null,\x26nbsp;…} 是不能直接获取到数据的，须使用get,-- list3.get(0)\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e list1 = List([ \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e ]);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e list2 = List([ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e ]);\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e array = [ \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e ];\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e list3 = list1.concat(list2, array);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(list3) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ List\x26nbsp;{size: 9, _origin: 0, _capacity: 9, _level: 5, _root: null,\x26nbsp;…} 是不能直接获取到数据的，须使用get,-- list3.get(0)\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \n  let data = fromJS({\n    obj:{}\n  });\n  let data1 = {\n    a:1,\n    b:2,\n    children:{\n      name:\x26quot;苏南\x26quot;,\n    }\n  };\n  let data2 = data.mergeIn([\x27obj\x27],data1,{c:666});\n  console.log(\x26quot;获取的数据：\x26quot;,data2.getIn([\x27obj\x27,\x27c\x27]));\n  console.log(\x26quot;这里是由formJS创建的数据：\x26quot;,data2.getIn([\x27obj\x27,\x27children\x27,\x27name\x27]));\/\/\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = fromJS({\n    \x3cspan class=\x22hljs-attr\x22\x3eobj\x3c\/span\x3e:{}\n  });\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data1 = {\n    \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22苏南\x22\x3c\/span\x3e,\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data2 = data.mergeIn([\x3cspan class=\x22hljs-string\x22\x3e\x27obj\x27\x3c\/span\x3e],data1,{\x3cspan class=\x22hljs-attr\x22\x3ec\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e666\x3c\/span\x3e});\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22获取的数据：\x22\x3c\/span\x3e,data2.getIn([\x3cspan class=\x22hljs-string\x22\x3e\x27obj\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27c\x27\x3c\/span\x3e]));\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22这里是由formJS创建的数据：\x22\x3c\/span\x3e,data2.getIn([\x3cspan class=\x22hljs-string\x22\x3e\x27obj\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27children\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e]));\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCa?w=1368\x26amp;h=560\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCa?w=1368\x26amp;h=560\x22 alt=\x22公众号：honeyBadger8,展示Object.assign拷贝问题\x22 title=\x22公众号：honeyBadger8,展示Object.assign拷贝问题\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e使用immutable后，所有数据都要类似选择器，一个一个往下选择，并不是说它不好、功能不够强大，只是自己有些不喜欢它类似JQuery选择器一样的语法,get、getIn、set、List等的使用方式，当然它也是可以使用 \x3ccode\x3etoJS\x3c\/code\x3e方法转回来的。\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eImmutability Helpers出场\x3c\/h2\x3e\n\x3cblockquote\x3egitHub上它对自己的介绍很简单：\x3ccode\x3eMutate a copy of data without changing the original source\x3c\/code\x3e —— 在不更改原始源的情况下改变数据副本。\x3c\/blockquote\x3e\n\x3cp\x3e　　与它结缘，是因为它在react官方文档中出镜，而被我所宠幸，真的 ，\x3ccode\x3e只是因为在人群中多看了它一眼再也没能忘掉\x3c\/code\x3e， 它跟\x3ccode\x3eimmutable\x3c\/code\x3e不一样，不会有那么多条条框框约束你，给你自由、给你独立的空间、给你独立的思想，让你想用即用、用之即走～～(泥马,怎么有点像张小龙说它的小程序一样😬),但您放心，它的坑真的比小程序少，API也很简洁，接下来来看一下，它的基本用法：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e$push\x3c\/code\x3e —— 数组;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$unshift\x3c\/code\x3e —— 数组;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$splice\x3c\/code\x3e —— 数组;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$set\x3c\/code\x3e —— 替换\/覆盖\/合并原数据;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$toggle\x3c\/code\x3e —— array of strings ，toggles a list of boolean fields from the target object；\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$unset\x3c\/code\x3e —— remove the list of keys in array from the target object;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$merge\x3c\/code\x3e —— 合并对象;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$apply\x3c\/code\x3e ——  passes in the current value to the function and updates it with the new returned value；\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$add\x3c\/code\x3e —— 新增;\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e$remove\x3c\/code\x3e —— 删除。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e以上基本就是它全部的API了，下面一起来看看，具体用法吧：\x3c\/blockquote\x3e\n\x3ch4\x3e$push 的使用 :\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e看名字就知道它的作用了啦，跟原生的\x3ccode\x3epush\x3c\/code\x3e一样，不过写法有一点点不一样;\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let arr = [1,2,3,4,5,66];\n  let arr2 = update(arr,{\n    $push : [\x26quot;a\x26quot;,\x26quot;b\x26quot;,\x26quot;c\x26quot;], \/\/一定要 []号的形式哦，不可以 \x26quot;a\x26quot;;\n    [4]:{ \/\/ ！！index ,可以指定修改下标的值\n      $set:\x26quot;我是替换过的\x26quot;\n    }\n  });\n  console.log(arr2);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e66\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr2 = update(arr,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$push\x3c\/span\x3e : [\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22c\x22\x3c\/span\x3e], \x3cspan class=\x22hljs-comment\x22\x3e\/\/一定要 []号的形式哦，不可以 \x22a\x22;\x3c\/span\x3e\n    [\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]:{ \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ！！index ,可以指定修改下标的值\x3c\/span\x3e\n      $set:\x3cspan class=\x22hljs-string\x22\x3e\x22我是替换过的\x22\x3c\/span\x3e\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arr2);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e$unshift 的使用 :\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e一样，跟原生的\x3ccode\x3eunshift\x3c\/code\x3e,在原数组开头处插入，同样写法是以一个数组的形式;\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let arr = [1,2,3,4,5,66];\n  let arr2 = update(arr,{\n    $unshift : [\x26quot;a\x26quot;,\x26quot;b\x26quot;,\x26quot;c\x26quot;],\n    [4]:{\n      $set:\x26quot;我是首席填坑官∙苏南\x26quot;  \/\/这里需要注意，它的操作是在 unshift之前执行的，也就是在原 arr 上查找 第4个下标\n    }\n  });\n  console.log(\x26quot;原始数组\x26quot;,arr);\/\/\x26nbsp;[1, 2, 3, 4, 5, 66] 相互之间并不会影响\n  console.log(arr2); \/\/[\x26quot;a\x26quot;, \x26quot;b\x26quot;, \x26quot;c\x26quot;, 1, 2, 3, 4, \x26quot;我是首席填坑官∙苏南\x26quot;, 66]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e66\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr2 = update(arr,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$unshift\x3c\/span\x3e : [\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22c\x22\x3c\/span\x3e],\n    [\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]:{\n      \x3cspan class=\x22hljs-attr\x22\x3e$set\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22我是首席填坑官∙苏南\x22\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/这里需要注意，它的操作是在 unshift之前执行的，也就是在原 arr 上查找 第4个下标\x3c\/span\x3e\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数组\x22\x3c\/span\x3e,arr);\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26nbsp;[1, 2, 3, 4, 5, 66] 相互之间并不会影响\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arr2); \x3cspan class=\x22hljs-comment\x22\x3e\/\/[\x22a\x22, \x22b\x22, \x22c\x22, 1, 2, 3, 4, \x22我是首席填坑官∙苏南\x22, 66]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e$splice 的使用 :\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3e注意\x3c\/strong\x3e ：数组套数组，start,end, 插入的数据……，;\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n  let arr = [1,2,3,4,5,66];\n  let arr2 = update(arr,{\n    $splice : [[1,2,[66788,99],{a:123,b:\x26quot;苏南\x26quot;}]], \/\/ or [0,1,\x26quot;从我开始是插入的内容\x26quot;,88,89,90,\x26quot;后面可以很多，是数组、对象、字符串都行\x26quot;]\n  });\n  console.log(arr2); \n\n  \/\/复杂一些的用法：\n  let obj={\n    name:\x26quot;immutable\x26quot;,\n    list :[1,2,[90,55,44,3,22,55],3,4,6,7,8]\n  };\n  let obj2 = update(obj,{\n    list:{\n      [2]:value=\x3eupdate(value,{\n        $splice:[[0,2]]  \/\/ [90,55,44,3,22,55] =\x3e [44, 3, 22, 55]\n      })\n    }\n  });\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e66\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr2 = update(arr,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$splice\x3c\/span\x3e : [[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,[\x3cspan class=\x22hljs-number\x22\x3e66788\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e99\x3c\/span\x3e],{\x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e,\x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22苏南\x22\x3c\/span\x3e}]], \x3cspan class=\x22hljs-comment\x22\x3e\/\/ or [0,1,\x22从我开始是插入的内容\x22,88,89,90,\x22后面可以很多，是数组、对象、字符串都行\x22]\x3c\/span\x3e\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arr2); \n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/复杂一些的用法：\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e :[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,[\x3cspan class=\x22hljs-number\x22\x3e90\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e55\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e44\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e55\x3c\/span\x3e],\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e]\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e:{\n      [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e]:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3evalue\x3c\/span\x3e=\x26gt;\x3c\/span\x3eupdate(value,{\n        \x3cspan class=\x22hljs-attr\x22\x3e$splice\x3c\/span\x3e:[[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e]]  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [90,55,44,3,22,55] =\x26gt; [44, 3, 22, 55]\x3c\/span\x3e\n      })\n    }\n  });\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCl?w=724\x26amp;h=334\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCl?w=724\x26amp;h=334\x22 alt=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8，immutability-helper $splice的使用展示\x22 title=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8，immutability-helper $splice的使用展示\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCo?w=1328\x26amp;h=372\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCo?w=1328\x26amp;h=372\x22 alt=\x22公众号：honeyBadger8，immutability-helper $splice的使用展示，格式错误的警告\x22 title=\x22公众号：honeyBadger8，immutability-helper $splice的使用展示，格式错误的警告\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$set 的使用 :\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e上面已经演示过了，其实有点替换的意思，当有重复的值时，就会覆盖，没有就新增,来展示复杂一点的场景,层级深的数据，也不会相互影响;\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let obj={\n    name:\x26quot;immutable\x26quot;,\n    children:{\n      address:\x26quot;ShenZhen\x26quot;,\n      hobby:\x26quot;@IT·平头哥联盟-前端开发\x26quot;\n    }\n  };\n  let obj2 = update(obj,{\n    $set : {name:\x26quot;immutability-helper\x26quot;,other:\x26quot;其他字段,如微信公众号：honeyBadger8，每周为你带来最新分享\x26quot;}\n  });\n  let obj3 = update(obj,{\n    name:{\n      $set : \x26quot;苏南\x26quot;\n    },\n    children:{\n      hobby:{\n        $set:\x26quot;首席填坑官 - javascript\x26quot;\n      }\n    }\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj); \n  console.log(\x26quot;obj2:\x26quot;,obj2); \n  console.log(\x26quot;obj3\x26quot;,obj3); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3eaddress\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22ShenZhen\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ehobby\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22@IT·平头哥联盟-前端开发\x22\x3c\/span\x3e\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$set\x3c\/span\x3e : {\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutability-helper\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-attr\x22\x3eother\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22其他字段,如微信公众号：honeyBadger8，每周为你带来最新分享\x22\x3c\/span\x3e}\n  });\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj3 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3e$set\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22苏南\x22\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3ehobby\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3e$set\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22首席填坑官 - javascript\x22\x3c\/span\x3e\n      }\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj); \n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2); \n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj3\x22\x3c\/span\x3e,obj3); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCx?w=1376\x26amp;h=706\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCx?w=1376\x26amp;h=706\x22 alt=\x22公众号：honeyBadger8，immutability-helper $set的使用展示，1024请不要叫我程序园，我是有温度的攻城狮\x22 title=\x22公众号：honeyBadger8，immutability-helper $set的使用展示，1024请不要叫我程序园，我是有温度的攻城狮\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$toggle 的使用:\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e听名字，应该就能猜出来，开关切换的意思;\x3c\/li\x3e\n\x3cli\x3eBoolean 布尔值的切换，如果你是强制要 \x3ccode\x3eNumbe\x3c\/code\x3er 类型 的 0、1，那么使用引方法的时候就要注意了；\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let obj={\n    name:\x26quot;immutable\x26quot;,\n    a:false,\n    b:true,\n    c:1,\n    d:0\n  };\n  let obj2 = update(obj,{\n    $toggle:[\x27b\x27,\x27a\x27,\x26quot;c\x26quot;,\x26quot;d\x26quot;],\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e:\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ec\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ed\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$toggle\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x27b\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22c\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22d\x22\x3c\/span\x3e],\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCz?w=1350\x26amp;h=514\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCz?w=1350\x26amp;h=514\x22 alt=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $toggle的使用展示，1024请不要叫我程序园，我是有温度的攻城狮\x22 title=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $toggle的使用展示，1024请不要叫我程序园，我是有温度的攻城狮\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$unset 的使用:\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e它跟$set相反，有点remove的味道，但又貌似有不同的之处，当操作的对象为\x3ccode\x3eobject\x3c\/code\x3e时key是删除了；而数组\x3ccode\x3earray\x3c\/code\x3e中它的值没有了，却保留了\x3ccode\x3e下标\x3c\/code\x3e，不改变数组的长度,删除数组建议还是用\x3ccode\x3e$splice\x3c\/code\x3e；请看下图：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let arr = [1,2,3,4,5,6];\n  let obj={\n    name:\x26quot;immutable\x26quot;,\n    children:{\n      address:\x26quot;ShenZhen\x26quot;,\n      hobby:\x26quot;写博客\x26quot;\n    }\n  };\n  let obj2 = update(obj,{\n    $unset : [\x26quot;name\x26quot;],\n    children:{\n      $unset:[\x26quot;address\x26quot;]\n    }\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\n\n  let arr2 = update(arr,{\n    $unset : [1]\n  });\n  console.log(\x26quot;arr2:\x26quot;,arr2,arr2.length);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3eaddress\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22ShenZhen\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ehobby\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22写博客\x22\x3c\/span\x3e\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$unset\x3c\/span\x3e : [\x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3e$unset\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x22address\x22\x3c\/span\x3e]\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\n\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr2 = update(arr,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$unset\x3c\/span\x3e : [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22arr2:\x22\x3c\/span\x3e,arr2,arr2.length);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCE?w=1188\x26amp;h=710\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCE?w=1188\x26amp;h=710\x22 alt=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $unset的使用展示\x22 title=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $unset的使用展示\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$merge 的使用:\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e\n\x3ccode\x3e$merge\x3c\/code\x3e 跟我们最爱的\x3ccode\x3eObject.assign\x3c\/code\x3e一样，做合并操作的，但它比\x3ccode\x3eassign\x3c\/code\x3e优秀很多，深层次拷贝，不会相互影响 ：\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let arr = [1,2,3,4,5,6];\n  let obj={\n    name:\x26quot;immutable\x26quot;,\n    children:{\n      address:\x26quot;ShenZhen\x26quot;,\n      hobby:\x26quot;写博客\x26quot;,\n      array:[\x26quot;我不是程序员\x26quot;,\x26quot;切图崽了解一下\x26quot;],\n    }\n  };\n  let obj2 = update(obj,{\n    $merge:{\n      arr\n    },\n    children:{\n      array:{\n        $merge:{items:[\x26quot;从前有坐山\x26quot;,\x26quot;山里有个庙\x26quot;]},\n        $splice:[[3,0,\x26quot;住着一个小和尚\x26quot;]]\n      }\n    }\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3eaddress\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22ShenZhen\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ehobby\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22写博客\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x22我不是程序员\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22切图崽了解一下\x22\x3c\/span\x3e],\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3e$merge\x3c\/span\x3e:{\n      arr\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3e$merge\x3c\/span\x3e:{\x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e:[\x3cspan class=\x22hljs-string\x22\x3e\x22从前有坐山\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22山里有个庙\x22\x3c\/span\x3e]},\n        \x3cspan class=\x22hljs-attr\x22\x3e$splice\x3c\/span\x3e:[[\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22住着一个小和尚\x22\x3c\/span\x3e]]\n      }\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCH?w=1166\x26amp;h=802\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCH?w=1166\x26amp;h=802\x22 alt=\x22公众号：honeyBadger8,immutability-helper $merge的使用展示，我是有温度的攻城狮\x22 title=\x22公众号：honeyBadger8,immutability-helper $merge的使用展示，我是有温度的攻城狮\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$apply 的使用:\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e$apply\x3c\/code\x3e 基于当前值进行一个函数运算，从而得到新的值 ：\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3e注意\x3c\/strong\x3e ：它必须是一个 \x3ccode\x3efunction\x3c\/code\x3e 哦！\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let obj={\n    name:\x26quot;immutable\x26quot;,\n    children:{\n      items:[\x26quot;从前有一坐山\x26quot;],\n      array: [1,2,3,4,5,6],\n    }\n  };\n  let obj2 = update(obj,{\n    name:{\n      $apply:(val)=\x3e(\x26quot;首席填坑官\x26quot;)\n    },\n    children:{\n      items:{\n        $apply:(val)=\x3e{\n          console.log(\x26quot;旧值\x26quot;,val);\n          return [3,0,\x26quot;住着一个小和尚\x26quot;]\n        }\n      },\n      array:{\n        $apply:(val)=\x3e(val.reverse()) \/\/必须是一个函数\n      }\n    }\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    name:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    children:{\n      items:[\x3cspan class=\x22hljs-string\x22\x3e\x22从前有一坐山\x22\x3c\/span\x3e],\n      array: [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e],\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = \x3cspan class=\x22hljs-keyword\x22\x3eupdate\x3c\/span\x3e(obj,{\n    name:{\n      $apply:(val)=\x26gt;(\x3cspan class=\x22hljs-string\x22\x3e\x22首席填坑官\x22\x3c\/span\x3e)\n    },\n    children:{\n      items:{\n        $apply:(val)=\x26gt;{\n          console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22旧值\x22\x3c\/span\x3e,val);\n          return [\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22住着一个小和尚\x22\x3c\/span\x3e]\n        }\n      },\n      array:{\n        $apply:(val)=\x26gt;(val.reverse()) \/\/必须是一个函数\n      }\n    }\n  });\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCN?w=1424\x26amp;h=608\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCN?w=1424\x26amp;h=608\x22 alt=\x22公众号：honeyBadger8，immutability-helper $apply的使用展示\x22 title=\x22公众号：honeyBadger8，immutability-helper $apply的使用展示\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCR?w=1344\x26amp;h=482\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCR?w=1344\x26amp;h=482\x22 alt=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $apply的使用展示，必须是function\x22 title=\x22由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $apply的使用展示，必须是function\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$remove 的使用:\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e$remove\x3c\/code\x3e \x3cstrong\x3e一定一定\x3c\/strong\x3e 要是使用\x3ccode\x3eSet\x3c\/code\x3e、\x3ccode\x3eMap\x3c\/code\x3e 创建的数组：\x3c\/li\x3e\n\x3cli\x3e要删除的值，必须是数组成存在的，如值不存在则忽略，\x3ccode\x3e$remove:[2,666]\x3c\/code\x3e，2会删除，6则会被忽略;\x3c\/li\x3e\n\x3cli\x3e这个api有点奇怪，正常普通的数组 [],这样的删除不了！！；\x3c\/li\x3e\n\x3cli\x3e常见错误如下图：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let obj={\n    name:\x26quot;immutable\x26quot;,\n    children:{\n      array:new Set([1, 2, 3, 4, 4]),\n    }\n  };\n  let obj2 = update(obj,{\n    children:{\n      array:{\n        $remove:[2],\n      },\n    }\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]),\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3e$remove\x3c\/span\x3e:[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e],\n      },\n    }\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCS?w=1260\x26amp;h=612\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCS?w=1260\x26amp;h=612\x22 alt=\x22immutability-helper $remove的使用展示，必须是 new Set Map创建\x22 title=\x22immutability-helper $remove的使用展示，必须是 new Set Map创建\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLCT?w=1288\x26amp;h=336\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLCT?w=1288\x26amp;h=336\x22 alt=\x22immutability-helper $remove的使用展示，必须是function，公众号：honeyBadger8\x22 title=\x22immutability-helper $remove的使用展示，必须是function，公众号：honeyBadger8\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e$add 的使用:\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e$add\x3c\/code\x3e 跟刚才的 $remove 一样要使用Map\/Set，$add方法也跟 \x3ccode\x3ees6\x3c\/code\x3e \x3ccode\x3eMap\/Set\x3c\/code\x3e的 add方法一致：\x3c\/li\x3e\n\x3cli\x3e只是写的时候也要注意一些， [ [] ] ，嵌套！\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  let obj={\n    name:\x26quot;immutable\x26quot;,\n    array:new Map([[\x26quot;a\x26quot;,1],[\x26quot;b\x26quot;,2]]),\n  };\n  let obj2 = update(obj,{\n    array:{\n      $add:[[\x26quot;66\x26quot;,56]],\n    },\n  });\n  console.log(\x26quot;原始数据:\x26quot;,obj);\n  console.log(\x26quot;obj2:\x26quot;,obj2);\n  console.log(\x26quot;获取key a:\x26quot;,obj2.array.get(\x27a\x27));\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj={\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e([[\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e],[\x3cspan class=\x22hljs-string\x22\x3e\x22b\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e]]),\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj2 = update(obj,{\n    \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3e$add\x3c\/span\x3e:[[\x3cspan class=\x22hljs-string\x22\x3e\x2266\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e56\x3c\/span\x3e]],\n    },\n  });\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,obj);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22obj2:\x22\x3c\/span\x3e,obj2);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22获取key a:\x22\x3c\/span\x3e,obj2.array.get(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e));\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLC0?w=1346\x26amp;h=430\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLC0?w=1346\x26amp;h=430\x22 alt=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $add的使用展示，必须是 new Set Map创建\x22 title=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8,immutability-helper $add的使用展示，必须是 new Set Map创建\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eImmutability Helpers的高阶用法：\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e还可以自定义方法，如 定义一个 \x3ccode\x3e$trinocular\x3c\/code\x3e 方法，来判断数组中的值；\x3c\/li\x3e\n\x3cli\x3e只是一个简单的示例，更多复杂的用法，可以自己去探索哦 \x3ca href=\x22https:\/\/github.com\/kolodny\/immutability-helper\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e去官方 github 👈\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  update.extend(\x27$trinocular\x27, function(proportion, original) {\n    return  original \x3e 88 ? (original\/proportion ): (proportion\x2boriginal);\n  });\n  let array =[56,33,55,777,322,444,61,12,34,52,245];\n  let array2 = array.map((k,v)=\x3eupdate(k,{\n    $trinocular:2\n  }))\n  console.log(\x26quot;原始数据:\x26quot;,array);\n  console.log(\x26quot;array2:\x26quot;,array2);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-keyword\x22\x3eupdate\x3c\/span\x3e.extend(\x3cspan class=\x22hljs-string\x22\x3e\x27$trinocular\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(proportion, original) {\n    return  original \x26gt; \x3cspan class=\x22hljs-number\x22\x3e88\x3c\/span\x3e ? (original\/proportion ): (proportion\x2boriginal);\n  });\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3earray\x3c\/span\x3e =[\x3cspan class=\x22hljs-number\x22\x3e56\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e55\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e777\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e322\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e444\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e61\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e34\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e52\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e245\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e array2 = \x3cspan class=\x22hljs-keyword\x22\x3earray\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e((k,v)=\x26gt;\x3cspan class=\x22hljs-keyword\x22\x3eupdate\x3c\/span\x3e(k,{\n    $trinocular:\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n  }))\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22原始数据:\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-keyword\x22\x3earray\x3c\/span\x3e);\n  console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22array2:\x22\x3c\/span\x3e,array2);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLC6?w=1360\x26amp;h=150\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLC6?w=1360\x26amp;h=150\x22 alt=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8，immutability-helper 高阶用法\x22 title=\x22本文由@IT·平头哥联盟-首席填坑官∙苏南 分享，公众号：honeyBadger8，immutability-helper 高阶用法\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e总结\/结尾：\x3c\/h2\x3e\n\x3cp\x3e　　以上就是基础 API 的用法 ，添加了一些官方示例，没有讲到的组合使用，以及使用过程中，可能出现的一些错误，需要留意的地方，更多定制高级用法，有兴趣的同学可以自行了解一下。\x3c\/p\x3e\n\x3cp\x3e　　以上就是今天为大家带来的分享，它可能没有 \x3ccode\x3eimmutable\x3c\/code\x3e 那么多功能，但贵在简洁，不会有太多的约束，如理解有误之处，欢迎各位大佬纠正，毕竟我还只是个宝宝——新手上路中！🤪。\x3c\/p\x3e\n\x3cp\x3e　　下方是我弄的一个\x3cstrong\x3e公众号\x3c\/strong\x3e，欢迎关注，以后文章会第一时间，在\x3cstrong\x3e公众号\x3c\/strong\x3e上更新，原因是之前分享的有两篇文章，竟然被其他公众号抄袭了😭，前些天去更新发表的时候，微信提示我文章已经不是原创了检测到相同的文章，宝宝心里那个凉啊～，果断申诉告了对方(是一个培训学校公众号，好气哦)，补了掘金发布的链接和截图日期，万幸最后胜诉了🤗！👇👇\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiLDa?w=600\x26amp;h=336\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiLDa?w=600\x26amp;h=336\x22 alt=\x22宝剑锋从磨砺出，梅花香自苦寒来，做有温度的攻城狮!，公众号：honeyBadger8\x22 title=\x22宝剑锋从磨砺出，梅花香自苦寒来，做有温度的攻城狮!，公众号：honeyBadger8\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e更多文章：\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/82811714\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e做完小程序项目、老板给我加了6k薪资～\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/83119712\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e面试踩过的坑，都在这里了～\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/83267838\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e你应该做的前端性能优化之总结大全！\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/83618630\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何给localStorage设置一个过期时间？\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/83267817\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e手把手教你如何绘制一辆会跑车\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/83472829\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何用CSS3画出懂你的3D魔方？\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/blog.csdn.net\/weixin_43254766\/article\/details\/82800822\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSVG Sprites Icon的使用技巧\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e作者：苏南 - \x3ca href=\x22https:\/\/github.com\/meibin08\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e首席填坑官\x3c\/a\x3e\x3cbr\x3e链接：\x3ca href=\x22https:\/\/honeybadger8.github.io\/blog\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/honeybadger8.github.i...\x3c\/a\x3e\x3cbr\x3e交流：912594095、公众号：\x3ccode\x3ehoneyBadger8\x3c\/code\x3e\x3cbr\x3e本文原创，著作权归作者所有。商业转载请联系\x3ccode\x3e@IT·平头哥联盟\x3c\/code\x3e获得授权，非商业转载请注明原链接及出处。\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>immutability因React官方出镜之使用总结分享！</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016826994">https://segmentfault.com/a/1190000016826994</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/jofx4lzpmfk/" target="_blank">https://alili.tech/archive/jofx4lzpmfk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>