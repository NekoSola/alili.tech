<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React.js 最佳实践（2016）_链接修正版"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React.js 最佳实践（2016）_链接修正版 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/nuu192oo477/",
				"appid": "1613049289050283", 
				"title": "React.js 最佳实践（2016）_链接修正版 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-12T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/6von8dzltdw/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/lubyzuxg55m/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&text=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&text=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&title=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&is_video=false&description=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&title=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&title=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&title=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fnuu192oo477%2f&title=React.js%20%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%ef%bc%882016%ef%bc%89_%e9%93%be%e6%8e%a5%e4%bf%ae%e6%ad%a3%e7%89%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React.js 最佳实践（2016）_链接修正版</h1><div class="meta"><div class="postdate"><time datetime="2019-02-12" itemprop="datePublished">2019-02-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e译者按：最近React(web\/native)依旧如火如荼,相信大家都跃跃欲试,我们团队也开始在React领域有所尝试. 2016年应该是\x3cbr\x3eReact 逐渐走向成熟的一年,让我们一起来看看国外的开发者们都总结了哪些\x22最佳实践\x22.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e2015年 React 在全世界都有很多关于新的更新和开发者大会的讨论.关于去年的重要事件,请参考 React in 2015.\x3cbr\x3e那么,2016年最有趣的问题来了:我们应该如何开发一个 App, 有什么推荐的库?\x3cbr\x3e作为一名长期使用 React.js 的开发者,我对此问题有自己的答案和最佳实践,但你可能不一定完全同意.我对你的想法和观点很有兴趣,请留言以便讨论.\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtO4t?w=600\x26amp;h=167\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtO4t?w=600\x26amp;h=167\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果你刚刚开始接触React.js,可以查看我们的 \x3ca href=\x22https:\/\/blog.risingstack.com\/the-react-way-getting-started-tutorial\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact.js 教程\x3c\/a\x3e,或者 Pete Hunt 的 \x3ca href=\x22https:\/\/github.com\/petehunt\/react-howto\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact howto\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e数据处理\x3c\/h1\x3e\n\x3cp\x3e在 React.js 应用中处理数据非常简单,但也充满挑战.\x3cbr\x3e这是因为你可以使用多种方式将属性数据传递给 React 组件,从而构建出渲染树,但你应该怎样更新视图却不是显而易见的.\x3cbr\x3e2015一开始便诞生了很多不同 Flux 库,随后涌现出出更多具有更强功能和更加响应式解决方案.\x3cbr\x3e让我们一起来看看：\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eFlux\x3c\/h2\x3e\n\x3cp\x3e根据我们的经验,Flux 经常被过度使用,(就是大家总是在不需要它的时候仍然用了它).\x3cbr\x3eFlux 提供了一种非常清晰的方式来存储和更新App 全局 state(译者注：对应 react 中的 state),并在需要的时候触发渲染.\x3cbr\x3eFlux 在管理App的全局状态时很有用,比如：管理已登录用户状态,路由状态,或者是活跃账号状态,但若是用来管理临时数据或者本地数据,立刻就会变得很痛苦.\x3cbr\x3e我们不推荐使用 Flux 来管理路由相关的数据,比如 \/items\/:itemId.获取路由数据并存储在组件的 state 之中.这种情况下,它会在组件销毁时一起被销毁.\x3cbr\x3e如果你想了解更多关于 Flux 的信息,建议阅读 \x3ca href=\x22https:\/\/medium.com\/@dan_abramov\/the-evolution-of-flux-frameworks-6c16ad26bb31#.90lamiv5l\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eThe Evolution of Flux Frameworks\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e使用 Redux\x3c\/h2\x3e\n\x3cp\x3eRedux 是一个 JavaScript App的可预测 state 容器.\x3cbr\x3e如果你觉得需要 Flux 或者相似的解决方案,你应该了解一下 redux,并学习 \x3ca href=\x22https:\/\/twitter.com\/dan_abramov\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDan Abramov\x3c\/a\x3e 的 \x3ca href=\x22https:\/\/egghead.io\/series\/getting-started-with-redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGetting started with redux\x3c\/a\x3e,这能够迅速提高你的开发技能.\x3cbr\x3eRedux 延续并改进了 Flux 的思想,学习了 Elm ,避开了 Flux 的复杂度(译者注：\x3ca href=\x22http:\/\/elm-lang.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eElm\x3c\/a\x3e 是一门函数式编程语言).\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e1.扁平化 state\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eAPI 经常会返回嵌套的资源.这在 Flux 或基于 Redux 的架构中处理起来会非常困难.我们推荐使用 \x3ca href=\x22https:\/\/github.com\/gaearon\/normalizr\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enormalizr\x3c\/a\x3e 这类库将数据进行扁平化处理,尽可能地扁平化state.\x3cbr\x3e像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const data = normalize(response, arrayOf(schema.user))\nstate = _.merge(state, data.entities)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3econst data = normalize(response, arrayOf(schema.\x3cspan class=\x22hljs-keyword\x22\x3euser\x3c\/span\x3e))\n\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e = _.merge(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, data.entities)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e(我们使用\x3ca href=\x22https:\/\/www.npmjs.com\/package\/isomorphic-fetch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eisomorphic-fetch\x3c\/a\x3e与API进行通信)\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e2.使用 immutable state\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e共享的可变性 state 是罪恶的根源. - Pete Hunt, React.js Conf 2015\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtO56?w=629\x26amp;h=187\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtO56?w=629\x26amp;h=187\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Immutable_object\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e不可变对象\x3c\/a\x3e是指在创建后不可再被修改的对象.\x3cbr\x3e不可变对象可以让我们免于痛苦,并且通过引用级的比对检查来提升渲染性能.比如在 shouldComponentUpdate 中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22shouldComponentUpdate(nexProps) {\n \/\/ 不进行对象的深度对比\n return this.props.immutableFoo !== nexProps.immutableFoo\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eshouldComponentUpdate\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(nexProps)\x3c\/span\x3e\x3c\/span\x3e {\n \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 不进行对象的深度对比\x3c\/span\x3e\n return this\x3cspan class=\x22hljs-selector-class\x22\x3e.props\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.immutableFoo\x3c\/span\x3e !== nexProps\x3cspan class=\x22hljs-selector-class\x22\x3e.immutableFoo\x3c\/span\x3e\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e3. 如何在JavaScript中实现不可变?\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e本办法是小心的写代码,示例代码如下,你需要在单元测试中通过 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/deep-freeze-node\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edeep-freeze-node\x3c\/a\x3e 来反复验证.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22return {  \n  ...state,\n  foo\n}\n\nreturn arr1.concat(arr2)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3ereturn {  \n  ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e,\n  foo\n}\n\nreturn arr1.concat(arr2)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相信我,这是最明显的例子了.\x3cbr\x3e更简单也更自然的方式是使用 Immutable.js.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { fromJS } from \x27immutable\x27\n\nconst state = fromJS({ bar: \x27biz\x27 })  \nconst newState = foo.set(\x27bar\x27, \x27baz\x27) \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eimport { \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3eJS } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27immutable\x27\n\nconst \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e = \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3eJS({ bar: \x27biz\x27 })  \nconst newState = foo.\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e(\x27bar\x27, \x27baz\x27) \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eImmutable.js 非常之快,背后理念也非常美妙.哪怕你并不准备使用它,我也推荐阅读这个由 \x3ca href=\x22https:\/\/twitter.com\/leeb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eLee Byron\x3c\/a\x3e 所制作的视频 \x3ca href=\x22https:\/\/www.youtube.com\/watch?v=I7IdS-PbEgI\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eImmutable Data and React\x3c\/a\x3e.它非常深刻的讲解了 Immutable.js 的工作原理.\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e4. Observables and Reactive 解决方案\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e如果你不喜欢 Flux\/Redux 或者只是想要更加 reactive,不用失望!还有很多数据处理的方案供你选择,这里有一个可能是你想要的库的简单列表：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3ecycle.js(“一个更清晰简洁的函数式 reactive JavaScript 框架”)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3erx-flux(“Flux 架构与 Rxjs 的结合”)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eredux-rx(“Redux的 Rxjs 工具集”)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3emobservable(“可预测的数据,reactive的功能,简洁的代码”)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e路由\x3c\/h1\x3e\n\x3cp\x3e几乎所有 App 都有路由功能.如果你在浏览器中使用 React.js,你将会在挑选库的时候遇到选择性问题.\x3cbr\x3e我们的选择是react-router, 来自优秀的 rackt 社区.Racket 给 React.js 爱好者们带来了很多高质量资源.\x3cbr\x3e要使用 react-router,请查看它的文档.但更重要的是：如果你使用Flux\/Redux,我们推荐你将路由 state 与 store 或全局 state 保持同步.\x3cbr\x3e同步的路由 state 会帮助你控制 Flux\/Redux Actions 的路由行为,并能在组件中读取路由状态和参数.\x3cbr\x3eRedux 用户可以通过 \x3ca href=\x22https:\/\/github.com\/rackt\/redux-simple-router\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux-simple-router\x3c\/a\x3e 这个库轻松实现它.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e代码分割,惰性加载\x3c\/h2\x3e\n\x3cp\x3e只有一小部分 webpack 用户知 App 代码可以分割成多个 JavaScript 块.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22require.ensure([], () =\x3e {  \n  const Profile = require(\x27.\/Profile.js\x27)\n  this.setState({\n    currentComponent: Profile\n  })\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {  \n  const Profile = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/Profile.js\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n    currentComponent: Profile\n  })\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这对于大型应用十分有用,每次部署之后用户浏览器不用下载那些很少会使用到的代码,比如Profile页面. 更多代码块将导致更多 HTTP 请求 - 但是使用 HTTP\/2 多路复用就没有问题.\x3cbr\x3e结合 \x3ca href=\x22https:\/\/christianalfoni.github.io\/react-webpack-cookbook\/Optimizing-caching.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3echunk hashing\x3c\/a\x3e,可以在代码更新之后优化缓存命中率.\x3cbr\x3e下个版本的 react-router 将会对代码分隔做更多支持.\x3cbr\x3e对于 react-router 的未来规划,可以去查看博客 \x3ca href=\x22https:\/\/twitter.com\/ryanflorence\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRyan Florence\x3c\/a\x3e: \x3ca href=\x22https:\/\/medium.com\/@ryanflorence\/welcome-to-future-of-web-application-delivery-9750b7564d9f#.vuf3e1nqi\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWelcome to Future of Web Application Delivery\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e组件\x3c\/h1\x3e\n\x3cp\x3e很多人都在抱怨JSX,但首先要知道,它在 React 中是可选的.\x3cbr\x3eJSX 在最后都会通过 Babel 被编译成 JavaScript.你可以直接编写 JavaScript 来替代 JSX,但是在处理 HTML 的时候使用 JSX 会感觉更加自然.\x3cbr\x3e特别是对于不懂技术的人来说,他们只可以理解和修改必要的部分.\x3c\/p\x3e\n\x3cp\x3eJSX 是一种与 XML 类似的 JavaScript 语法扩展.你可以通过一个简单的 JSX 语法转换器来转换它.— \x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/jsx-in-depth.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJSX in depth\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e如果你想了解更多 JSX 的内容,查看文章 \x3ca href=\x22https:\/\/medium.com\/javascript-scene\/jsx-looks-like-an-abomination-1c1ec351a918#.ca28nvee6\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJSX Looks Like An Abomination – But it’s Good for You\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e使用 Classes\x3c\/h2\x3e\n\x3cp\x3eReact 与 ES2015 的 Class 语法搭配的很好.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class HelloMessage extends React.Component {  \n  render() {\n    return\nHello {this.props.name}\n} }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eHelloMessage\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{  \n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n\x3cspan class=\x22hljs-type\x22\x3eHello\x3c\/span\x3e {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.name}\n} }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相对于mixins,我们更喜欢\x3ca href=\x22http:\/\/jamesknelson.com\/structuring-react-applications-higher-order-components\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e高阶组件\x3c\/a\x3e,所以保留 createClass 更像是一个语法问题,而不是技术问题. 我们认为使用 createClass 或者 React.Component 只是选择不同而已,没有对错之分.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e属性类型\x3c\/h2\x3e\n\x3cp\x3e如果你仍然没有检查 熟悉类型,那么你应该从2016年开始做起,这将为你节省大量的时间,相信我.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22MyComponent.propTypes = {  \n  isLoading: PropTypes.bool.isRequired,\n  items: ImmutablePropTypes.listOf(\n    ImmutablePropTypes.contains({\n      name: PropTypes.string.isRequired,\n    })\n  ).isRequired\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eMyComponent\x3cspan class=\x22hljs-selector-class\x22\x3e.propTypes\x3c\/span\x3e = {  \n  isLoading: PropTypes\x3cspan class=\x22hljs-selector-class\x22\x3e.bool\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.isRequired\x3c\/span\x3e,\n  items: ImmutablePropTypes.listOf(\n    ImmutablePropTypes.contains({\n      name: PropTypes\x3cspan class=\x22hljs-selector-class\x22\x3e.string\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.isRequired\x3c\/span\x3e,\n    })\n  )\x3cspan class=\x22hljs-selector-class\x22\x3e.isRequired\x3c\/span\x3e\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然,也可以使用 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/react-immutable-proptypes\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-immutable-proptypes\x3c\/a\x3e 验证 Immutable.js 所编写的属性.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader8\x22\x3e高阶组件\x3c\/h1\x3e\n\x3cp\x3e当前 mixins 将死,而且在 ES6 的 Class 不再支持 mixins,我们应当寻找新方案.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e什么是高阶组件？\x3c\/h2\x3e\n\x3cp\x3ePassData({ foo: \x27bar\x27 })(MyComponent)\x3cbr\x3e简单来讲,从由原始组件创造一个新的组件并且扩展它的行为.你可以在多种场景来使用它,比如鉴权：requireAuth({ role: \x27admin\x27 })(MyComponent)(检查用户权限,如果未登录就跳转),或者将组件与 Flux\/Redux 的 store 连通.\x3cbr\x3e在 RisingStack,我们也喜欢将数据拉取和控制类的逻辑分离到高阶组件中,以尽可能地保持 view 层的简单.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e测试\x3c\/h1\x3e\n\x3cp\x3e保证测试的高代码覆盖率是开发周期中的重要一环.幸运的是,React.js 社区有很多这样的库来帮助我们.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e组件测试\x3c\/h2\x3e\n\x3cp\x3eAirBnb 的 \x3ca href=\x22https:\/\/github.com\/airbnb\/enzyme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eenzyme\x3c\/a\x3e 是我们最喜爱的组件测试库之一.使用它的浅渲染特性可以对组件的逻辑和渲染结果进行测试,非常神奇.它现在还不能替代selenium测试,但是将前端测试提升到了一个新高度.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27simulates click events\x27, () =\x3e {  \n  const onButtonClick = sinon.spy()\n  const wrapper = shallow(\n    \n  )\n  wrapper.find(\x27button\x27).simulate(\x27click\x27)\n  expect(onButtonClick.calledOnce).to.be.true\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3eit(\x27simulates click events\x27, () =\x26gt; {  \n  const onButtonClick = sinon.spy()\n  const wrapper = shallow(\n    \n  )\n  wrapper.find(\x27button\x27).simulate(\x27click\x27)\n  expect(\x3cspan class=\x22hljs-name\x22\x3eonButtonClick\x3c\/span\x3e.calledOnce).to.be.true\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看起来非常简洁,不是吗？\x3cbr\x3e你使用 chai 作为测试断言库嘛？相信你会喜欢 \x3ca href=\x22https:\/\/github.com\/producthunt\/chai-enzyme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3echai-enyzime\x3c\/a\x3e 的!\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3eRedux测试\x3c\/h2\x3e\n\x3cp\x3e测试 reducer 非常简单,它响应新到来的 actions 然后将原来的 state 转换为新的 state：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27should set token\x27, () =\x3e {  \n  const nextState = reducer(undefined, {\n    type: USER_SET_TOKEN,\n    token: \x27my-token\x27\n  })\n\n  \/\/ immutable.js state output\n  expect(nextState.toJS()).to.be.eql({\n    token: \x27my-token\x27\n  })\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3eit(\x27should set token\x27, () =\x26gt; {  \n  const nextState = reducer(\x3cspan class=\x22hljs-name\x22\x3eundefined\x3c\/span\x3e, {\n    type: USER_SET_TOKEN,\n    token: \x27my-token\x27\n  })\n\n  \/\/ immutable.js state output\n  expect(\x3cspan class=\x22hljs-name\x22\x3enextState\x3c\/span\x3e.toJS()).to.be.eql({\n    token: \x27my-token\x27\n  })\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e测试 actions 也很简单,但是异步 actions 就不太一样了.对于测试异步的 actions 来说,我们推荐使用 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/redux-mock-store\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux-mock-store\x3c\/a\x3e,非常有帮助.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x27should dispatch action\x27, (done) =\x3e {  \n  const getState = {}\n  const action = { type: \x27ADD_TODO\x27 }\n  const expectedActions = [action]\n\n  const store = mockStore(getState, expectedActions, done)\n  store.dispatch(action)\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lisp\x22\x3e\x3ccode\x3eit(\x27should dispatch action\x27, (\x3cspan class=\x22hljs-name\x22\x3edone\x3c\/span\x3e) =\x26gt; {  \n  const getState = {}\n  const action = { type: \x27ADD_TODO\x27 }\n  const expectedActions = [action]\n\n  const store = mockStore(\x3cspan class=\x22hljs-name\x22\x3egetState\x3c\/span\x3e, expectedActions, done)\n  store.dispatch(\x3cspan class=\x22hljs-name\x22\x3eaction\x3c\/span\x3e)\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e关于更深入的 \x3ca href=\x22http:\/\/rackt.org\/redux\/docs\/recipes\/WritingTests.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux测试\x3c\/a\x3e ,请参考官方文档.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader13\x22\x3e使用 npm\x3c\/h1\x3e\n\x3cp\x3e虽然 React.js 并不依赖代码打包工具就可以工作得很好,但我们还是推荐使用 Webpack 或者 Browserify 来发挥 npm 的能力.Npm 有很多 React.js 的包,可以帮助你优雅地管理依赖.\x3cbr\x3e(请不要忘记复用你自己的组件,这是优化代码的绝佳方式.)\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3eBundle 大小\x3c\/h2\x3e\n\x3cp\x3e这本身不是一个 React 相关的问题,但是大多数人都在打包他们的 React 应用,所以我有必要在这里提一下.\x3cbr\x3e当你打包源代码的时候,要时刻警惕打包后文件的大小.想要将其控制在最小体积,你需要思考如何如何 require\/import 依赖.\x3cbr\x3e查看下面的代码片段,这两种方式可以对输出大小会产生重大影响：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { concat, sortBy, map, sample } from \x27lodash\x27\n\n\/\/ vs.\nimport concat from \x27lodash\/concat\x27;  \nimport sortBy from \x27lodash\/sortBy\x27;  \nimport map from \x27lodash\/map\x27;  \nimport sample from \x27lodash\/sample\x27;  \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { concat, sortBy, map, sample } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27lodash\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ vs.\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e concat \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27lodash\/concat\x27\x3c\/span\x3e;  \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e sortBy \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27lodash\/sortBy\x27\x3c\/span\x3e;  \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e map \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27lodash\/map\x27\x3c\/span\x3e;  \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e sample \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27lodash\/sample\x27\x3c\/span\x3e;  \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e查看\x3ca href=\x22https:\/\/lacke.mn\/reduce-your-bundle-js-file-size\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReduce Your bundle.js File Size By Doing This One Thing\x3c\/a\x3e,以获取更多信息.\x3cbr\x3e我们也喜欢将代码分离到至少 vendors.js 和 app.js 两个文件,因为 vendors 相对于我们的代码库来说更新频率低很多.\x3cbr\x3e对输出文件进行 hash 命名(WebPack中的chunk hash),并使用长缓存,我们可以显著地减少访问用户需要下载的代码.结合代码懒加载,优化效果非常显著.\x3cbr\x3e如果你还不太熟悉 Webpack,可以查看这本优秀的 \x3ca href=\x22https:\/\/christianalfoni.github.io\/react-webpack-cookbook\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact webpack cookbook\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e组件级别的 hot reload\x3c\/h2\x3e\n\x3cp\x3e如果你曾使用过hot reload编写单页面应用,当你在处理某些与状态相关的事情时,可能你就会明白当你在编辑器中点击保存,整个页面就重新加载了是多么令人讨厌.你需要逐步点击操作到刚才的环节,然后在这样的重复中奔溃.\x3cbr\x3e通过 React,在重载组件的同时保持组件状态已经成为可能,从此不再痛苦!\x3cbr\x3e关于如何搭建hot reload,可参考 \x3ca href=\x22https:\/\/github.com\/gaearon\/react-transform-boilerplate\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-transform-boilerplate\x3c\/a\x3e.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader16\x22\x3e使用ES2015\x3c\/h1\x3e\n\x3cp\x3e前面有提到过,我们在 React.js 组件中使用 JSX,然后使用 Babel.js 进行编译.\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtO6f?w=400\x26amp;h=277\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtO6f?w=400\x26amp;h=277\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3eBabel 的能力远不止这些,它也可以让我们现在就可以给浏览器编写 ES6\/ES2015 代码.在RisingStack,我们在服务器端和客户端都使用了ES2015的特性,ES2015已经可以在最新的LTS Node.js版本中使用了.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader17\x22\x3e代码检查\x3c\/h1\x3e\n\x3cp\x3e或许你已经给你的 JavaScript 代码制定了代码规范,但是你知道也有用于 React 的代码规范了吗？我们建议你选择一个代码规范,然后照着它说的来做.\x3cbr\x3e在 RisingStack,我们也将 linters 强制运行在 CI 系统上,git push 亦然.可以试试 pre-push 或者 pre-commit.\x3cbr\x3e我们使用标准的 JavaScript 代码风格,并使用 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/eslint-plugin-react\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeslint-plugin-react\x3c\/a\x3e 来检查React.js代码.\x3cbr\x3e(是的,我们已经不再使用分号了)\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader18\x22\x3eGraphQL 和 Relay\x3c\/h1\x3e\n\x3cp\x3e相对而言 GraphQL 和 Relay 还属于新技术,在 RisingStack,我们还没有在产品环境中使用它们,但保持关注.\x3cbr\x3e我们写过一个 Relay 的 MongoDB ORM 库,叫做 graffiti,可以使用你已有的 mongoose models 来创建 GraphQL server.\x3cbr\x3e如果你想要学习这些新技术,我们建议你可以找来玩一玩.\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader19\x22\x3e尽情享用这些 React.js 的最佳实践\x3c\/h1\x3e\n\x3cp\x3e有些优秀的技术和库其实跟React都几乎没关系,但要关注社区的其他人都在做些什么.2015这一年,React社区被 \x3ca href=\x22https:\/\/github.com\/evancz\/elm-architecture-tutorial\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eElm 架构\x3c\/a\x3e启发了很多.\x3cbr\x3e如果你知道其它在2016年必要的 React.js 工具,请在下面给我们留言!\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\n\x3cp\x3e原文作者：Peter Marton，RisingStack技术总监\x3cbr\x3e原文链接：\x3ca href=\x22https:\/\/blog.risingstack.com\/react-js-best-practices-for-2016\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.risingstack.com\/...\x3c\/a\x3e\x3cbr\x3e翻译自力谱宿云LeapCloud团队_UX组成员：Jason\x3c\/p\x3e\n\x3cp\x3e关于MaxLeap\x3cbr\x3eMaxLeap移动云服务平台为企业提供一站式的移动研发和运营云服务，帮助企业快速研发和上线移动应用，平台提供数据云存储，云引擎，支付管理，IM，数据分析和营销自动化等服务。\x3cbr\x3eMaxLeap官网链接： \x3ca href=\x22https:\/\/maxleap.cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/maxleap.cn\x3c\/a\x3e\x3cbr\x3e欢迎关注微信公众号：MaxLeap_yidongyanfa\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React.js 最佳实践（2016）_链接修正版</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004685622">https://segmentfault.com/a/1190000004685622</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/nuu192oo477/" target="_blank">https://alili.tech/archive/nuu192oo477/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>