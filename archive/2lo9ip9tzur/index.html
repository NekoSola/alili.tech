<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="《每周一点canvas动画》——波形运动"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>《每周一点canvas动画》——波形运动 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/2lo9ip9tzur/",
				"appid": "1613049289050283", 
				"title": "《每周一点canvas动画》——波形运动 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-11T02:30:49"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7jp5sjyypw9/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/cdphdy7jnlv/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&is_video=false&description=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2lo9ip9tzur%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e6%b3%a2%e5%bd%a2%e8%bf%90%e5%8a%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">《每周一点canvas动画》——波形运动</h1><div class="meta"><div class="postdate"><time datetime="2019-02-11" itemprop="datePublished">2019-02-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在上一节我们介绍了canvas动画中有关三角函数的内容，以及一个跟随鼠标旋转的箭头动画。这一节主要介绍三角函数的波形运动。包括：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e平滑运动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e线性运动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e脉冲运动\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1.Sin函数的波形\x3c\/h3\x3e\n\x3cp\x3esin函数的波形想必骚年们不会感到陌生，其图形如下所示：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVuXCJ?w=579\x26amp;h=209\x22 src=\x22https:\/\/static.alili.tech\/img\/bVuXCJ?w=579\x26amp;h=209\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果想要取得\x3ccode\x3esin\x3c\/code\x3e函数在[0, 2π]之间的值，非连续的情况下，可以这样估算。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    for(var angle=0; angle\x3cMath.PI*2; angle\x2b=0.1){\n        console.log(Math.sin(angle)); \/\/打印出角度对应的sin值\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var angle=0; angle\x26lt;Math.PI*2; angle\x2b=0.1){\n        console.log(Math.sin(angle)); \/\/打印出角度对应的sin值\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1.平滑运动\x3c\/h3\x3e\n\x3cp\x3e首先介绍\x3ccode\x3eMath.sin(angle)\x3c\/code\x3e的第一个应用——\x3cstrong\x3e平滑运动\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e平滑是指物体一种流畅的运动状态，与之相反的是机械式的简单的从0到1再到-1和0的这么一种状态。平滑的运动更加趋近与自然的运动状态，类似水草在水流中的左右摇摆，在摆动的过程中是有速度的变化的。\x3c\/p\x3e\n\x3cp\x3e我们用\x3ccode\x3eMath.sin\x3c\/code\x3e函数模仿的第一个运动，就是这种类似水草摆动的运动。另外，因为\x3ccode\x3esin\x3c\/code\x3e函数的值介于[-1,1]之间。所以在实际代码中需要乘以一个较大的值(也就是振幅，你懂得)，使其的摆动看起来明显一些。水草摆动的如下图所示,\x3ca href=\x22http:\/\/codepen.io\/supperjet\/pen\/qRgKMZ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在线演示地址\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22supperjet\/pen\/qRgKMZ\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJd5p?w=646\x26amp;h=223\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJd5p?w=646\x26amp;h=223\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e具体代码如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/水草类\nfunction Aqu(color, num, amp){\n      this.startPoint = [];\n      this.endPointX = [];\n      this.endPointY = [];\n      this.amp = [];\n      this.beta = 0;\n      this.color = (color == undefined)?\x26quot;#3b154e\x26quot;:color;\n      this.num = (num == undefined)?80:num;\n}\n       \n Aqu.prototype.init = function(){\n       for(var i=0; i\x3cthis.num; i\x2b\x2b){\n           this.startPoint[i] = Math.random()*20 \x2b i*10;\n           this.endPointX[i] = this.startPoint[i];\n           this.endPointY[i] = canvas.height\/1.5 - Math.random()*50;\n           this.amp[i] = Math.random()*10 \x2b 40;\n       }\n   }\n\nAqu.prototype.draw = function(ctx){\n       ctx.save();\n       ctx.lineWidth = 14;\n       ctx.lineCap = \x26quot;round\x26quot;;\n       ctx.globalAlpha = 0.8;\n       ctx.strokeStyle =this.color;\n       \n       \/\/Math.sin的应用\n       this.beta \x2b= del*0.0012;\n       var l = Math.sin(this.beta);\n       \n       for(var i=0; i\x3cthis.num; i\x2b\x2b){\n          ctx.beginPath();\n          ctx.moveTo(this.startPoint[i], canvas.height);\n          \n          \/\/周期性改变水草的顶点X坐标\n          this.endPointX[i] = this.startPoint[i] \x2b l*this.amp[i]\n          \n          ctx.quadraticCurveTo(this.startPoint[i],canvas.height-120,this.endPointX[i],this.endPointY[i]);\n          ctx.stroke();\n      }\n       ctx.restore();\n   }\n   \nvar canvas = document.getElementById(\x27canvas\x27),\n    ctx = canvas.getContext(\x272d\x27);\n    canvas.height = 400;\n    canvas.width = 800;\n    \n    \/\/实例水草\n    var oAqu = new Aqu();\n    \/\/初始化\n    oAqu.init();\n       \nvar oldTime = new Date().getTime(),\n    del = null, newTime = null;\n       \n   (function drawFrmae(){\n       window.requestAnimationFrame(drawFrmae);\n       ctx.clearRect(0, 0, canvas.width, canvas.height);\n           \n       newTime = new Date().getTime();\n       del = new Date().getTime() - oldTime;\n       oldTime = newTime;\n       \n       oAqu.draw(ctx);\n       }())\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\/\/水草类\n\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e Aqu(color, num, amp){\n      this.startPoint = [];\n      this.endPointX = [];\n      this.endPointY = [];\n      this.amp = [];\n      this.beta = 0;\n      this.color = (color == undefined)?\x3cspan class=\x22hljs-string\x22\x3e\x22#3b154e\x22\x3c\/span\x3e:color;\n      this.num = (num == undefined)?80:num;\n}\n       \n Aqu.prototype.init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n       \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=0; i\x26lt;this.num; i\x2b\x2b){\n           this.startPoint[i] = Math.random()*20 \x2b i*10;\n           this.endPointX[i] = this.startPoint[i];\n           this.endPointY[i] = canvas.height\/1.5 - Math.random()*50;\n           this.amp[i] = Math.random()*10 \x2b 40;\n       }\n   }\n\nAqu.prototype.draw = \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(ctx){\n       ctx.save();\n       ctx.lineWidth = 14;\n       ctx.lineCap = \x3cspan class=\x22hljs-string\x22\x3e\x22round\x22\x3c\/span\x3e;\n       ctx.globalAlpha = 0.8;\n       ctx.strokeStyle =this.color;\n       \n       \/\/Math.sin的应用\n       this.beta \x2b= del*0.0012;\n       var l = Math.sin(this.beta);\n       \n       \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=0; i\x26lt;this.num; i\x2b\x2b){\n          ctx.beginPath();\n          ctx.moveTo(this.startPoint[i], canvas.height);\n          \n          \/\/周期性改变水草的顶点X坐标\n          this.endPointX[i] = this.startPoint[i] \x2b l*this.amp[i]\n          \n          ctx.quadraticCurveTo(this.startPoint[i],canvas.height-120,this.endPointX[i],this.endPointY[i]);\n          ctx.stroke();\n      }\n       ctx.restore();\n   }\n   \nvar canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e),\n    ctx = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n    canvas.height = 400;\n    canvas.width = 800;\n    \n    \/\/实例水草\n    var oAqu = new Aqu();\n    \/\/初始化\n    oAqu.init();\n       \nvar oldTime = new Date().getTime(),\n    del = null, newTime = null;\n       \n   (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrmae\x3c\/span\x3e\x3c\/span\x3e(){\n       window.requestAnimationFrame(drawFrmae);\n       ctx.clearRect(0, 0, canvas.width, canvas.height);\n           \n       newTime = new Date().getTime();\n       del = new Date().getTime() - oldTime;\n       oldTime = newTime;\n       \n       oAqu.draw(ctx);\n       }())\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相比于机械的加减是不是更加的流畅呢？当然，你也通过改变Math.sin(this.beta)中的递增角度值，控制摆动的速度。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2.线性运动\x3c\/h3\x3e\n\x3cp\x3e线性运动是最简单的一种运动，物体匀速朝某个方向运动，就是线性运动。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJd5H?w=498\x26amp;h=223\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJd5H?w=498\x26amp;h=223\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e原理很简单，具体代码请查看\x3ccode\x3elinear-vertical-motion.html\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22   \x3cscript\x3e\n       window.onload = function(){\n           var canvas = document.getElementById(\x27canvas\x27),\n                 context = canvas.getContext(\x272d\x27);\n               \n           var angle = 0,\n               range = 50,\n               xspeed = 1,\n               yspeed = 0.05;\n\n           var ball = new Ball();\n           \n           (function drawFrame(){\n               window.requestAnimationFrame(drawFrame,canvas);\n               context.clearRect(0,0,canvas.width,canvas.height);\n\n               ball.x \x2b= xspeed; \/\/水平，沿x轴方向水平运动\n               \n               if(ball.x \x3e canvas.width \x2b ball.radius){\n                   ball.x = -ball.radius;\n               }\n               \/\/垂直， 由于angle角度没发生变化，所以纵坐标保持不变\n               ball.y = canvas.height\/2\x2bMath.sin(angle)*range;\n               \n              \/\/ angle \x2b= 0.05; \/\/取消注释看看发生了什么？\n               ball.draw(context);\n           })();\n       }\n    \x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e   \x26lt;script\x26gt;\n       window.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n           var canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e),\n                 context = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n               \n           var angle = 0,\n               range = 50,\n               xspeed = 1,\n               yspeed = 0.05;\n\n           var ball = new Ball();\n           \n           (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrame\x3c\/span\x3e\x3c\/span\x3e(){\n               window.requestAnimationFrame(drawFrame,canvas);\n               context.clearRect(0,0,canvas.width,canvas.height);\n\n               ball.x \x2b= xspeed; \/\/水平，沿x轴方向水平运动\n               \n               \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(ball.x \x26gt; canvas.width \x2b ball.radius){\n                   ball.x = -ball.radius;\n               }\n               \/\/垂直， 由于angle角度没发生变化，所以纵坐标保持不变\n               ball.y = canvas.height\/2\x2bMath.sin(angle)*range;\n               \n              \/\/ angle \x2b= 0.05; \/\/取消注释看看发生了什么？\n               ball.draw(context);\n           })();\n       }\n    \x26lt;\/script\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实，这里如果你把\x3ccode\x3eangle \x2b= 0.05\x3c\/code\x3e的注释取消，你会发现球的运动轨迹就与sin函数的图像一致了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3.脉冲运动\x3c\/h3\x3e\n\x3cp\x3e除了作用于物体的速度，sin函数仍然可以作用于物体的大小变化。脉冲运动便是将sin函数运用于物体大小的变化中。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJd5M?w=498\x26amp;h=223\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJd5M?w=498\x26amp;h=223\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e具体代码如下，详细代码请查看\x3ccode\x3eplusing-motion.html\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.onload = function(){\n            var canvas = document.getElementById(\x27canvas\x27);\n            var context  = canvas.getContext(\x272d\x27);\n\n            var angle = 0,\n                range = 0.5,\n                speed = 0.05,\n                centerScale = 1;\n\n            var ball = new Ball();\n                ball.x = canvas.width\/2;\n                   ball.y = canvas.height\/2;\n\n            (function drawFrame(){\n                window.requestAnimationFrame(drawFrame,canvas);\n                context.clearRect(0,0,canvas.width,canvas.height);\n                \n                \/\/sin值的变化，导致 ball.scaleX ， ball.scaleY属性变化\n                ball.scaleX = ball.scaleY = centerScale \x2b Math.sin(angle)*range;\n                angle \x2b= speed;\n\n                ball.draw(context);\n            })();\n        }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3ewindow.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n            var canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e);\n            var context  = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n\n            var angle = 0,\n                range = 0.5,\n                speed = 0.05,\n                centerScale = 1;\n\n            var ball = new Ball();\n                ball.x = canvas.width\/2;\n                   ball.y = canvas.height\/2;\n\n            (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrame\x3c\/span\x3e\x3c\/span\x3e(){\n                window.requestAnimationFrame(drawFrame,canvas);\n                context.clearRect(0,0,canvas.width,canvas.height);\n                \n                \/\/sin值的变化，导致 ball.scaleX ， ball.scaleY属性变化\n                ball.scaleX = ball.scaleY = centerScale \x2b Math.sin(angle)*range;\n                angle \x2b= speed;\n\n                ball.draw(context);\n            })();\n        }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由此你应该知道，除了位置属性，我们还可以将sin函数与其他的属性相结合，来形成不同的运动形式。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>《每周一点canvas动画》——波形运动</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004956705">https://segmentfault.com/a/1190000004956705</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/2lo9ip9tzur/" target="_blank">https://alili.tech/archive/2lo9ip9tzur/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>