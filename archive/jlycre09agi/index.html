<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Node.js快速开发利器-Keystone.js"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Node.js快速开发利器-Keystone.js | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/jlycre09agi/",
				"appid": "1613049289050283", 
				"title": "Node.js快速开发利器-Keystone.js | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-12T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/lubyzuxg55m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ww991rl167f/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&text=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&text=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&title=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&is_video=false&description=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&title=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&title=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&title=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fjlycre09agi%2f&title=Node.js%e5%bf%ab%e9%80%9f%e5%bc%80%e5%8f%91%e5%88%a9%e5%99%a8-Keystone.js"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Node.js快速开发利器-Keystone.js</h1><div class="meta"><div class="postdate"><time datetime="2019-02-12" itemprop="datePublished">2019-02-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e介绍\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/keystonejs.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eKeystone\x3c\/a\x3e是以Express和MongoDB为基础搭建的开源的Node.js CMS和web应用程序平台。\x3c\/p\x3e\n\x3cp\x3eKeystone在官网上声称：在Node.js中，用Keystone搭建数据驱动的网站、应用程序和API是最容易的。\x3c\/p\x3e\n\x3cp\x3e之所以出此狂言，背后还是有料的，Keystone自带以下功能：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e内置Express.js和MongoDB\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e动态路由\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e实用的数据库域类型\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e自动生成管理员界面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e基于数据模型的表单处理\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e会话管理和认证功能\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e我觉得keystone最牛逼的地方就是根据你定义的模型自动帮你实现后台管理界面，创建、管理、编辑和删除等，这得省掉很多功夫了。这样实现一个网站只要定义model和写前端代码就好了。\x3c\/p\x3e\n\x3cp\x3e这应该是前端猴子接外包的一个利器吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e安装准备\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e安装\x3ca href=\x22http:\/\/nodejs.org\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enode.js\x3c\/a\x3e 0.10\x2b\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e安装\x3ca href=\x22https:\/\/www.mongodb.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emongodb\x3c\/a\x3e v2.4\x2b\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e安装yeoman \x3ccode\x3enpm install -g yo\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e安装keystone生成器 \x3ccode\x3enpm install -g generator-keystone\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e开始\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e创建项目目录\x3cbr\x3e\x3ccode\x3emkdir my-keystone\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e进入项目目录\x3cbr\x3e\x3ccode\x3ecd my-keystone\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e生成代码\x3cbr\x3e\x3ccode\x3eyo keystone\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e代码生成器会问你几个问题，比如项目名称，是否内置博客、相册和联系表单，是否添加User模型，添加管理员账户密码\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e安装依赖\x3cbr\x3e\x3ccode\x3enpm install\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e运行项目\x3cbr\x3e\x3ccode\x3enode keystone\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e打开\x3ca href=\x22http:\/\/localhost:3000\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:3000\x3c\/a\x3e 在浏览器查看\x3cbr\x3e  通过\x3ca href=\x22http:\/\/localhost:3000\/keystone\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:3000\/keystone\x3c\/a\x3e 打开后台管理\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eModel\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var keystone = require(\x27keystone\x27),\n    Types = keystone.Field.Types;\n \nvar Post = new keystone.List(\x27Post\x27, {\n    autokey: { path: \x27slug\x27, from: \x27title\x27, unique: true },\n    map: { name: \x27title\x27 },\n    defaultSort: \x27-createdAt\x27\n});\n \nPost.add({\n    title: { type: String, required: true },\n    state: { type: Types.Select, options: \x27draft, published, archived\x27, default: \x27draft\x27 },\n    author: { type: Types.Relationship, ref: \x27User\x27 },\n    createdAt: { type: Date, default: Date.now },\n    publishedAt: Date,\n    image: { type: Types.CloudinaryImage },\n    content: {\n        brief: { type: Types.Html, wysiwyg: true, height: 150 },\n        extended: { type: Types.Html, wysiwyg: true, height: 400 }\n    }\n});\n \nPost.defaultColumns = \x27title, state|20%, author, publishedAt|15%\x27\nPost.register();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ekeystone\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3erequire(\x27keystone\x27),\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3eTypes\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ekeystone.Field.Types;\x3c\/span\x3e\n \n\x3cspan class=\x22hljs-string\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ePost\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3ekeystone.List(\x27Post\x27,\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    autokey:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27slug\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3efrom:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eunique:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    map:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    defaultSort:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27-createdAt\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\n \n\x3cspan class=\x22hljs-string\x22\x3ePost.add({\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    title:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eString,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erequired:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    state:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eTypes.Select,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eoptions:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27draft, published, archived\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edefault:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27draft\x27\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    author:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eTypes.Relationship,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27User\x27\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    createdAt:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eDate,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edefault:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eDate.now\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    publishedAt:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eDate,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    image:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eTypes.CloudinaryImage\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    content:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        brief:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eTypes.Html,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewysiwyg:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e150\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        extended:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eTypes.Html,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewysiwyg:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e400\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e});\x3c\/span\x3e\n \n\x3cspan class=\x22hljs-string\x22\x3ePost.defaultColumns\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e=\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27title, state|20%, author, publishedAt|15%\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3ePost.register();\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是官网中给出的例子，一个文章的model，\x3ca href=\x22http:\/\/keystonejs.com\/zh\/docs\/database\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e详情\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e不得不提一下，\x3cstrong\x3ekeystone的图片类型\x3c\/strong\x3e是\x3ccode\x3eTypes.CloudinaryImage\x3c\/code\x3e,需要购买CloudinaryImage的服务，如果你不想用Cloudinary的服务的话，keystone还提供了\x3ccode\x3eTypes.LocalFile\x3c\/code\x3e,这样我们就可以把image改成：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22image: { type: Types.LocalFile, dest: \x27public\/upload\x27, \n        prefix: \x27\/upload\x27,\n        format: function(item, file){\n            return \x27\x3cimg src=\x26quot;\x27\x2bfile.href\x2b\x27\x26quot; style=\x26quot;max-width: 120px\x26quot;\x3e\x27;\n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scilab\x22\x3e\x3ccode\x3eimage: { \x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e: Types.LocalFile, dest: \x3cspan class=\x22hljs-string\x22\x3e\x27public\/upload\x27\x3c\/span\x3e, \n        prefix: \x3cspan class=\x22hljs-string\x22\x3e\x27\/upload\x27\x3c\/span\x3e,\n        format: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(item, file)\x3c\/span\x3e{\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;img src=\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27\x2bfile.href\x2b\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22 style=\x22\x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3emax\x3c\/span\x3e-width: \x3cspan class=\x22hljs-number\x22\x3e120\x3c\/span\x3epx\x3cspan class=\x22hljs-string\x22\x3e\x22\x26gt;\x27\x3c\/span\x3e;\n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里\x3ccode\x3eformat\x3c\/code\x3e是指针对后台管理用的\x3cbr\x3e如果你想使用CDN服务的话，可以对图片文件夹进行了CDN同步，然后修改\x3ccode\x3eprefix\x3c\/code\x3e为你的CDN提供商提供的前缀。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e路由与视图\x3c\/h2\x3e\n\x3cp\x3e路由配置文件：routes\/index.js\x3cbr\x3e中间件：routes\/middleware.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var keystone = require(\x27keystone\x27),\n    middleware = require(\x27.\/middleware\x27),\n    importRoutes = keystone.importer(__dirname);\n \n\/\/ 常用中间件\nkeystone.pre(\x27routes\x27, middleware.initErrorHandlers);\nkeystone.pre(\x27routes\x27, middleware.initLocals);\nkeystone.pre(\x27render\x27, middleware.flashMessages);\n \n\/\/ 处理404错误\nkeystone.set(\x27404\x27, function(req, res, next) {\n    res.notfound();\n});\n \n\/\/ 处理其它错误\nkeystone.set(\x27500\x27, function(err, req, res, next) {\n    var title, message;\n    if (err instanceof Error) {\n        message = err.message;\n        err = err.stack;\n    }\n    res.err(err, title, message);\n});\n \n\/\/ 加载路由\nvar routes = {\n    views: importRoutes(\x27.\/views\x27)\n};\n \n\/\/ 绑定路由\nexports = module.exports = function(app) {\n    \n    app.get(\x27\/\x27, routes.views.index);\n    \n    \/\/ 在路由之前，通过中间件做任何事情\n    app.get(\x27\/protected\x27, middleware.requireUser, middleware.other, routes.views.protected);\n    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e keystone = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27keystone\x27\x3c\/span\x3e),\n    middleware = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/middleware\x27\x3c\/span\x3e),\n    importRoutes = keystone.importer(__dirname);\n \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 常用中间件\x3c\/span\x3e\nkeystone.pre(\x3cspan class=\x22hljs-string\x22\x3e\x27routes\x27\x3c\/span\x3e, middleware.initErrorHandlers);\nkeystone.pre(\x3cspan class=\x22hljs-string\x22\x3e\x27routes\x27\x3c\/span\x3e, middleware.initLocals);\nkeystone.pre(\x3cspan class=\x22hljs-string\x22\x3e\x27render\x27\x3c\/span\x3e, middleware.flashMessages);\n \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 处理404错误\x3c\/span\x3e\nkeystone.set(\x3cspan class=\x22hljs-string\x22\x3e\x27404\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res, next\x3c\/span\x3e) \x3c\/span\x3e{\n    res.notfound();\n});\n \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 处理其它错误\x3c\/span\x3e\nkeystone.set(\x3cspan class=\x22hljs-string\x22\x3e\x27500\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr, req, res, next\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title, message;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e) {\n        message = err.message;\n        err = err.stack;\n    }\n    res.err(err, title, message);\n});\n \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 加载路由\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e routes = {\n    \x3cspan class=\x22hljs-attr\x22\x3eviews\x3c\/span\x3e: importRoutes(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/views\x27\x3c\/span\x3e)\n};\n \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 绑定路由\x3c\/span\x3e\nexports = \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eapp\x3c\/span\x3e) \x3c\/span\x3e{\n    \n    app.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, routes.views.index);\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在路由之前，通过中间件做任何事情\x3c\/span\x3e\n    app.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/protected\x27\x3c\/span\x3e, middleware.requireUser, middleware.other, routes.views.protected);\n    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e配置\x3c\/h2\x3e\n\x3cp\x3ekeystone提供了很多可配置项，你可以随心所欲地根据自己的需求配置，要了解Keystone支持的更多选项，请参见\x3ca href=\x22http:\/\/keystonejs.com\/zh\/docs\/configuration\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置指南\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e配置需要修改的文件是\x3ccode\x3ekeystone.js\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e项目结构\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22|--lib\n|  定制的库和代码\n|--models\n|  程序的数据库模型\n|--public\n|  公开的静态文件 (css、js、images等)\n|--routes\n|  |--api\n|  |  程序的api控制器\n|  |--views\n|  |  程序的视图控制器\n|  |--index.js\n|  |  初始化程序的路由和视图\n|  |--middleware.js\n|  |  为路由定制的中间件\n|--templates\n|  |--includes\n|  |  通用的 .jade 组件放这里\n|  |--layouts\n|  |  基础 .jade 布局放这里\n|  |--mixins\n|  |  通用的 .jade mixins放这里\n|  |--views\n|  |  程序的视图模板\n|--updates\n|  数据组装和迁移脚本\n|--package.json\n|  给npm的项目配置\n|--keystone.js\n|  启动程序的主脚本\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gherkin\x22\x3e\x3ccode\x3e|\x3cspan class=\x22hljs-string\x22\x3e--lib\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  定制的库和代码\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--models\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  程序的数据库模型\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--public\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  公开的静态文件 (css、js、images等)\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--routes\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--api\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  程序的api控制器\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--views\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  程序的视图控制器\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--index.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  初始化程序的路由和视图\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--middleware.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  为路由定制的中间件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--templates\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--includes\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  通用的 .jade 组件放这里\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--layouts\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  基础 .jade 布局放这里\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--mixins\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  通用的 .jade mixins放这里\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--views\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  程序的视图模板\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--updates\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  数据组装和迁移脚本\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--package.json\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  给npm的项目配置\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e--keystone.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e  启动程序的主脚本\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e缺点\x3c\/h2\x3e\n\x3cp\x3ekeystone强大的自动生成的管理后台，也是给我使用限制的地方，支持增删改查、上传文件等基础功能，但是在一些业务定制下却有失灵活性，或许是我研究不透，目前官方也没有给出对后台管理定制的文档，后续我将研究下如何深度定制管理后台，如果可行的话再来分享。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e参考\x3c\/h3\x3e\n\x3cp\x3e中文文档：\x3ca href=\x22http:\/\/keystonejs.com\/zh\/docs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/keystonejs.com\/zh\/docs\/\x3c\/a\x3e  \x3cbr\x3e项目地址：\x3ca href=\x22https:\/\/github.com\/keystonejs\/keystone\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/keystonejs\/keystone\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Node.js快速开发利器-Keystone.js</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004646121">https://segmentfault.com/a/1190000004646121</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/jlycre09agi/" target="_blank">https://alili.tech/archive/jlycre09agi/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>