<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="不再彷徨：完全弄懂JavaScript中的this（译文总结）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>不再彷徨：完全弄懂JavaScript中的this（译文总结） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/8gsbz203ze3/",
				"appid": "1613049289050283", 
				"title": "不再彷徨：完全弄懂JavaScript中的this（译文总结） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/pdsumwysnrc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ez51pxqh84/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&text=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&text=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&title=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&is_video=false&description=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&title=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&title=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&title=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f8gsbz203ze3%2f&title=%e4%b8%8d%e5%86%8d%e5%bd%b7%e5%be%a8%ef%bc%9a%e5%ae%8c%e5%85%a8%e5%bc%84%e6%87%82JavaScript%e4%b8%ad%e7%9a%84this%ef%bc%88%e8%af%91%e6%96%87%e6%80%bb%e7%bb%93%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">不再彷徨：完全弄懂JavaScript中的this（译文总结）</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e其实this是一个老生常谈的问题了。关于this的文章非常多，其实我本以为自己早弄明白了它，不过昨天在做项目的过程中，还是出现了一丝疑惑，想到大概之前在JavaScript weekly里收藏待看的一篇详解this的文章（后有链接，也附上了稀土上的中文译文）和另一篇一位前辈推荐的文章，就把它们看了看，对this的认识确实提升了一些。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eJavaScript 中的’this‘是动态的，它在函数运行时被确定而非在函数声明时被确定。所有的函数都可以调用\x27this\x27，这无关于该函数是否属于某个对象。关于this，主要有以下四种情况。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1.被当做对象的方法被调用\x3c\/h3\x3e\n\x3cp\x3e如果该函数是被当做某一个对象的方法，那么该函数的this指向该对象；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var john = {\n      firstName: \x26quot;John\x26quot;\n    }\n    function func() {\n      alert(this.firstName \x2b \x26quot;: hi!\x26quot;)\n    }\n    john.sayHi = func\n    john.sayHi()  \/\/ this = john\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e john = {\n      \x3cspan class=\x22hljs-attr\x22\x3efirstName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22John\x22\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      alert(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.firstName \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22: hi!\x22\x3c\/span\x3e)\n    }\n    john.sayHi = func\n    john.sayHi()  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this = john\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里有一点值得注意，当一个对象的方法被取出来赋值给一个变量时，该方法变为函数触发，this指向window或underfind（严格模式）。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e2.函数之内调用\x3c\/h3\x3e\n\x3cp\x3e当函数中有 \x3ccode\x3ethis\x3c\/code\x3e，其实就意味着它被当做方法调用，之间调用相当于把他当做window对象的方法，this指向window，值得注意的是ES5其实是规定这种情况\x3ccode\x3ethis=undefined\x3c\/code\x3e的，只浏览器大多还是按照老的方法执行(本人在最新版的Chrome，Safari，Firefox中测试都指向window（201607）),在火狐下使用严格模式指向undefined；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    func()\n    function func() {\n        alert(this) \/\/ [object Window] or [object global] or kind of..\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    func()\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        alert(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [object Window] or [object global] or kind of..\x3c\/span\x3e\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了传递\x3ccode\x3ethis\x3c\/code\x3e，()之前应该为引用类型，类似于\x3ccode\x3eobj.a \x3c\/code\x3e或者 \x3ccode\x3eobj[\x27a\x27]\x3c\/code\x3e,不能是别的了。\x3c\/p\x3e\n\x3cp\x3e这里还存在一个小坑，当对象的方法中还存在函数时，该函数其实是当做函数模式触发，所以其\x3ccode\x3ethis\x3c\/code\x3e默认为window（严格模式下为undefined）解决办法是给该函数绑定this。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var numbers = {  \n   numberA: 5,\n   numberB: 10,\n   sum: function() {\n     console.log(this === numbers); \/\/ =\x3e true\n     function calculate() {\n       \/\/ this is window or undefined in strict mode\n       console.log(this === numbers); \/\/ =\x3e false\n       return this.numberA \x2b this.numberB;\n     }\n     return calculate();\n   }\n};\nnumbers.sum(); \/\/ =\x3e NaN or throws TypeError in strict mode  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e numbers = {  \n   \x3cspan class=\x22hljs-attr\x22\x3enumberA\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3enumberB\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3esum\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n     \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecalculate\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this is window or undefined in strict mode\x3c\/span\x3e\n       \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; false\x3c\/span\x3e\n       \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numberA \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numberB;\n     }\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e calculate();\n   }\n};\nnumbers.sum(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; NaN or throws TypeError in strict mode  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var numbers = {  \n   numberA: 5,\n   numberB: 10,\n   sum: function() {\n     console.log(this === numbers); \/\/ =\x3e true\n     function calculate() {\n       console.log(this === numbers); \/\/ =\x3e true\n       return this.numberA \x2b this.numberB;\n     }\n     \/\/ use .call() method to modify the context\n     return calculate.call(this);\n   }\n};\nnumbers.sum(); \/\/ =\x3e 15  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e numbers = {  \n   \x3cspan class=\x22hljs-attr\x22\x3enumberA\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3enumberB\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3esum\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n     \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecalculate\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n       \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n       \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numberA \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.numberB;\n     }\n     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ use .call() method to modify the context\x3c\/span\x3e\n     \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e calculate.call(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n   }\n};\nnumbers.sum(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 15  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e3.在\x3ccode\x3enew\x3c\/code\x3e中调用\x3c\/h3\x3e\n\x3cp\x3e一个引用对象的变量实际上保存了对该对象的引用，也就是说变量实际保存的是对真实数据的一个指针。\x3cbr\x3e使用new关键字时\x3ccode\x3ethis\x3c\/code\x3e的改变其实有以下几步：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e创建 \x3ccode\x3ethis = {}\x3c\/code\x3e.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3enew执行的过程中可能改变\x3ccode\x3ethis\x3c\/code\x3e，然后添加属性和方法；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e返回被改变的\x3ccode\x3ethis\x3c\/code\x3e.\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    function Animal(name) {\n        this.name = name\n        this.canWalk = true\n    }\n    var animal = new Animal(\x26quot;beastie\x26quot;)\n    alert(animal.name)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAnimal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.canWalk = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e animal = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Animal(\x3cspan class=\x22hljs-string\x22\x3e\x22beastie\x22\x3c\/span\x3e)\n    alert(animal.name)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e需要注意的是如果构造函数返回一个对象，那么this指向返回的那个对象；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    function Animal() {\n        this.name = \x27Mousie\x27;\n        this.age = \x2718\x27;\n        return {\n            name: \x27Godzilla\x27\n        } \/\/ \x3c-- will be returned\n    }\n\n    var animal = new Animal()\n    console.log(animal.name) \/\/ Godzilla\n    console.log(animal.age)\/\/undefined\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAnimal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = \x3cspan class=\x22hljs-string\x22\x3e\x27Mousie\x27\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.age = \x3cspan class=\x22hljs-string\x22\x3e\x2718\x27\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Godzilla\x27\x3c\/span\x3e\n        } \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;-- will be returned\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e animal = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Animal()\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(animal.name) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Godzilla\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(animal.age)\x3cspan class=\x22hljs-comment\x22\x3e\/\/undefined\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里需要注意的是不要忘记使用new，否则不会创建一个新的函数。而是只是执行了函数，相当于函数调用，this其实指向window\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Vehicle(type, wheelsCount) {  \n  this.type = type;\n  this.wheelsCount = wheelsCount;\n  return this;\n}\n\/\/ Function invocation\nvar car = Vehicle(\x27Car\x27, 4);  \ncar.type;       \/\/ =\x3e \x27Car\x27  \ncar.wheelsCount \/\/ =\x3e 4  \ncar === window  \/\/ =\x3e true \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eVehicle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etype, wheelsCount\x3c\/span\x3e) \x3c\/span\x3e{  \n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.type = type;\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.wheelsCount = wheelsCount;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function invocation\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e car = Vehicle(\x3cspan class=\x22hljs-string\x22\x3e\x27Car\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);  \ncar.type;       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \x27Car\x27  \x3c\/span\x3e\ncar.wheelsCount \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; 4  \x3c\/span\x3e\ncar === \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e4.明确调用\x3ccode\x3ethis\x3c\/code\x3e，使用\x3ccode\x3ecall\x3c\/code\x3e和\x3ccode\x3eapply\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e这是最具JavaScript特色的地方。\x3cbr\x3e如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  func.call(obj, arg1, arg2,...)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunc\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3ecall\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(obj, arg1, arg2,...)\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第一个参数将作为\x3ccode\x3ethis\x3c\/code\x3e的指代对象，之后的参数将被作为函数的参数，解决方法是使用bind。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Animal(type, legs) {  \n  this.type = type;\n  this.legs = legs;  \n  this.logInfo = function() {\n    console.log(this === myCat); \/\/ =\x3e true\n    console.log(\x27The \x27 \x2b this.type \x2b \x27 has \x27 \x2b this.legs \x2b \x27 legs\x27);\n  };\n}\nvar myCat = new Animal(\x27Cat\x27, 4);  \n\/\/ logs \x26quot;The Cat has 4 legs\x26quot;\nsetTimeout(myCat.logInfo.bind(myCat), 1000); \n\/\/ setTimeout??\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAnimal\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etype, legs\x3c\/span\x3e) \x3c\/span\x3e{  \n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.type = type;\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.legs = legs;  \n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.logInfo = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === myCat); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27The \x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.type \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 has \x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.legs \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 legs\x27\x3c\/span\x3e);\n  };\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myCat = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Animal(\x3cspan class=\x22hljs-string\x22\x3e\x27Cat\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);  \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ logs \x22The Cat has 4 legs\x22\x3c\/span\x3e\nsetTimeout(myCat.logInfo.bind(myCat), \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e); \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ setTimeout??\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  var john = {\n    firstName: \x26quot;John\x26quot;,\n    surname: \x26quot;Smith\x26quot;\n  }\n  function func(a, b) {\n    alert( this[a] \x2b \x27 \x27 \x2b this[b] )\n  }\n  func.call(john, \x27firstName\x27, \x27surname\x27)  \/\/ \x26quot;John Smith\x26quot;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e john = {\n    \x3cspan class=\x22hljs-attr\x22\x3efirstName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22John\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3esurname\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Smith\x22\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efunc\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ea, b\x3c\/span\x3e) \x3c\/span\x3e{\n    alert( \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[a] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 \x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e[b] )\n  }\n  func.call(john, \x3cspan class=\x22hljs-string\x22\x3e\x27firstName\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27surname\x27\x3c\/span\x3e)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x22John Smith\x22\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e至于apply，其只是以数组的方传入参数，其它部分是一样的，如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  func.call(john, \x27firstName\x27, \x27surname\x27)\n  func.apply(john, [\x27firstName\x27, \x27surname\x27])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e  func.call(john, \x3cspan class=\x22hljs-string\x22\x3e\x27firstName\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27surname\x27\x3c\/span\x3e)\n  func.apply(john, [\x3cspan class=\x22hljs-string\x22\x3e\x27firstName\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27surname\x27\x3c\/span\x3e])\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它们也可用于在 ES5 中的类继承中，调用父级构造器。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    function Runner(name) {  \n      console.log(this instanceof Rabbit); \/\/ =\x3e true\n      this.name = name;  \n    }\n    function Rabbit(name, countLegs) {  \n      console.log(this instanceof Rabbit); \/\/ =\x3e true\n      \/\/ 间接调用，调用了父级构造器\n      Runner.call(this, name);\n      this.countLegs = countLegs;\n    }\n    var myRabbit = new Rabbit(\x27White Rabbit\x27, 4);  \n    myRabbit; \/\/ { name: \x27White Rabbit\x27, countLegs: 4 }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRunner\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename\x3c\/span\x3e) \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e Rabbit); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.name = name;  \n    }\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRabbit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ename, countLegs\x3c\/span\x3e) \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e Rabbit); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 间接调用，调用了父级构造器\x3c\/span\x3e\n      Runner.call(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, name);\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.countLegs = countLegs;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myRabbit = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rabbit(\x3cspan class=\x22hljs-string\x22\x3e\x27White Rabbit\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);  \n    myRabbit; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { name: \x27White Rabbit\x27, countLegs: 4 }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e5.\x3ccode\x3e.bind()\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e对比方法 .apply() 和 .call()，它俩都立即执行了函数，而 .bind() 函数返回了一个新方法，绑定了预先指定好的 this ，并可以延后调用。\x3cbr\x3e.bind() 方法的作用是创建一个新的函数，执行时的上下文环境为 .bind() 传递的第一个参数，它允许创建预先设置好 this 的函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var numbers = {  \n  array: [3, 5, 10],\n  getNumbers: function() {\n    return this.array;    \n  }\n};\n\/\/ Create a bound function\nvar boundGetNumbers = numbers.getNumbers.bind(numbers);  \nboundGetNumbers(); \/\/ =\x3e [3, 5, 10]  \n\/\/ Extract method from object\nvar simpleGetNumbers = numbers.getNumbers;  \nsimpleGetNumbers(); \/\/ =\x3e undefined or throws an error in strict mode  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e numbers = {  \n  \x3cspan class=\x22hljs-attr\x22\x3earray\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e],\n  \x3cspan class=\x22hljs-attr\x22\x3egetNumbers\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.array;    \n  }\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create a bound function\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e boundGetNumbers = numbers.getNumbers.bind(numbers);  \nboundGetNumbers(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [3, 5, 10]  \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Extract method from object\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e simpleGetNumbers = numbers.getNumbers;  \nsimpleGetNumbers(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; undefined or throws an error in strict mode  \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用\x3ccode\x3e.bind()\x3c\/code\x3e时应该注意，.bind() 创建了一个永恒的上下文链并不可修改。一个绑定函数即使使用 .call() 或者 .apply()传入其他不同的上下文环境，也不会更改它之前连接的上下文环境，重新绑定也不会起任何作用。\x3cbr\x3e只有在构造器调用时，绑定函数可以改变上下文，然而这并不是特别推荐的做法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e6.箭头函数\x3c\/h3\x3e\n\x3cp\x3e箭头函数并不创建它自身执行的上下文，使得 this 取决于它在定义时的外部函数。\x3cbr\x3e箭头函数一次绑定上下文后便不可更改，即使使用了上下文更改的方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    var numbers = [1, 2];  \n    (function() {  \n      var get = () =\x3e {\n        console.log(this === numbers); \/\/ =\x3e true\n        return this;\n      };\n      console.log(this === numbers); \/\/ =\x3e true\n      get(); \/\/ =\x3e [1, 2]\n      \/\/ 箭头函数使用 .apply() 和 .call()\n      get.call([0]);  \/\/ =\x3e [1, 2]\n      get.apply([0]); \/\/ =\x3e [1, 2]\n      \/\/ Bind\n      get.bind([0])(); \/\/ =\x3e [1, 2]\n    }).call(numbers);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e numbers = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e];  \n    (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e get = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n      };\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === numbers); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n      get(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [1, 2]\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 箭头函数使用 .apply() 和 .call()\x3c\/span\x3e\n      get.call([\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [1, 2]\x3c\/span\x3e\n      get.apply([\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [1, 2]\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Bind\x3c\/span\x3e\n      get.bind([\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e])(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; [1, 2]\x3c\/span\x3e\n    }).call(numbers);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是因为箭头函数拥有静态的上下文环境，不会因为不同的调用而改变。因此不要使用箭头函数定义方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Period (hours, minutes) {  \n      this.hours = hours;\n      this.minutes = minutes;\n    }\n    Period.prototype.format = () =\x3e {  \n      console.log(this === window); \/\/ =\x3e true\n      return this.hours \x2b \x27 hours and \x27 \x2b this.minutes \x2b \x27 minutes\x27;\n    };\n    var walkPeriod = new Period(2, 30);  \n    walkPeriod.format(); \/\/ =\x3e \x27undefined hours and undefined minutes\x27 \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ePeriod\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ehours, minutes\x3c\/span\x3e) \x3c\/span\x3e{  \n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hours = hours;\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.minutes = minutes;\n    }\n    Period.prototype.format = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {  \n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e === \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.hours \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 hours and \x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.minutes \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 minutes\x27\x3c\/span\x3e;\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e walkPeriod = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Period(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e);  \n    walkPeriod.format(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \x27undefined hours and undefined minutes\x27 \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e参考\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/javascript.info\/tutorial\/this\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFour scents of \x22this\x22\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/rainsoft.io\/gentle-explanation-of-this-in-javascript\/?utm_source=javascriptweekly\x26amp;utm_medium=email\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGentle explanation of \x27this\x27 keyword in JavaScript\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/gold.xitu.io\/entry\/576d640d2e958a005724e07f\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJavaScript This 之谜(译文)\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e强烈推荐觉得没弄明白的同学看看上面三篇文章，其中第三篇是第二篇的译文。如果大家对this还有疑问，也欢迎大家一起讨论，交流促进思考，共同进步。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>不再彷徨：完全弄懂JavaScript中的this（译文总结）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006076637">https://segmentfault.com/a/1190000006076637</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/8gsbz203ze3/" target="_blank">https://alili.tech/archive/8gsbz203ze3/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>