<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="打造最美HTML5 3D机房（MONO哥强势归来，第四季惊艳发布）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>打造最美HTML5 3D机房（MONO哥强势归来，第四季惊艳发布） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0q7mbbs55i6b/",
				"appid": "1613049289050283", 
				"title": "打造最美HTML5 3D机房（MONO哥强势归来，第四季惊艳发布） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-09T02:30:58"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/obbxs1xycsg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/we5lgemwx89/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&text=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&text=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&title=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&is_video=false&description=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&title=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&title=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&title=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0q7mbbs55i6b%2f&title=%e6%89%93%e9%80%a0%e6%9c%80%e7%be%8eHTML5%203D%e6%9c%ba%e6%88%bf%ef%bc%88MONO%e5%93%a5%e5%bc%ba%e5%8a%bf%e5%bd%92%e6%9d%a5%ef%bc%8c%e7%ac%ac%e5%9b%9b%e5%ad%a3%e6%83%8a%e8%89%b3%e5%8f%91%e5%b8%83%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">打造最美HTML5 3D机房（MONO哥强势归来，第四季惊艳发布）</h1><div class="meta"><div class="postdate"><time datetime="2019-02-09" itemprop="datePublished">2019-02-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e初次见面的朋友们大家好，简单自我介绍一下：我是Mono哥，性别男，爱好。。。编程，自从一年多前入了HTML5和WebGL的坑，就再也没有爬出来过，目前正在钻研3D机房以及相关的3D应用。这篇文章是“打造最美3D机房”系列的第四季，感兴趣的朋友可从头开始观看，以下是正确的阅读顺序：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000002775741\x22\x3eHTML5，不只是看上去很美 （第一弹：彩虹爆炸图）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000002866653\x22 target=\x22_blank\x22\x3eHTML5，不只是看上去很美（第二弹：打造最美3D机房）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000003711760\x22\x3e打造最美HTML5 3D机房（第二季）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000003863028\x22 target=\x22_blank\x22\x3e打造最美HTML5 3D机房（第三季）\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000002920762\x22\x3eHTML5，不只是看上去很美（第三弹：拓扑图分组）\x3c\/a\x3e \x3c\/p\x3e\n\x3cp\x3e想看视频的同学，可以直接戳优酷链接：\x3cbr\x3e\x3cdiv class=\x22video-prev vp_XMTY0MzA3NDc5Ng==\x22\x3e\x3cdiv class=\x22clearfix video-header\x22\x3e\x3cimg class=\x22pull-left\x22 src=\x22https:\/\/static.alili.techundefined\x22\x3e\x3cdiv class=\x22pull-left\x22\x3e\x3ch5\x3e数据中心可视化系统\x3c\/h5\x3e\x3cspan class=\x22text-muted\x22\x3ehttp:\/\/v.youku.com\/v_show\/id_XMTY0MzA3NDc5Ng==.html\x3c\/span\x3e\x3c\/div\x3e\x3c\/div\x3e\x3c\/div\x3e\x3c\/p\x3e\n\x3cp\x3e没想到经过一年多的创作，哥的作品也需要整理时间轴了，怎么想起了端午刚按顺序补完的X战警系列？不过我保证，这篇文章比杀马特天启可强多了，至少也是金刚狼的实力。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765896\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765896\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e------------------------------------------哇哈哈哈，哥是自带BGM的男人------------------------------------------\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e叙旧\x3c\/h1\x3e\n\x3cp\x3e啰嗦了一堆，跟再次见面的观众朋友们打个招呼，想说的一切尽在下图中： \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005699004\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005699004\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e阔别了半年多，哥其实没闲着，在憋大招来着。期间陆续收到朋友的留言和来信，提了不少特别棒的意见和想法，项目也有了很大的进展，在接下来的文章里，哥会无私和大家分享。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e答一些读者问\x3c\/h1\x3e\n\x3cp\x3e不扯了，进入正题。首先，想说一个最近一直在和大家探讨的问题：HTML5好还是插件好？\x3c\/p\x3e\n\x3cp\x3e无论是在学习还是在做项目的一些朋友都提到了这个问题。尽管web3d技术风起云涌，大体还是分为两大流派：插件派和HTML5派。插件派的技术路线是，在浏览器中安装一个企业自己做的插件，然后在这个插件上提供3D的开发能力。典型代表例如Flash插件、Unity3D插件（简称U3D）。另外一派就是无插件的HTML5路线，它使用H5的WEBGL标准和Canvas技术来实现浏览器中的3D\/2D技术，而无需安装插件。\x3c\/p\x3e\n\x3cp\x3e插件的好处是可以适配各种老型号的浏览器（例如老版本的IE），效率应该也会好一点。缺点是，需要安装插件，跨手机平板也麻烦，语言上要使用插件要求的语言。HTML5的好处是不安装插件，效率也很不错，语言简单统一，都是javascript，而且是目前最火的技术方向。\x3c\/p\x3e\n\x3cp\x3e本人相信 “插件必死”的发展趋势。要是不服，就看看Flash，和那些被坑在Flex技术上现在还爬不出来眼看着别人学HTML5拿高薪恨得吐血的程序猿们吧。谁又能保证Unity3D不会有一天变成另外一个Flash呢？看看现在日新月异每天大量涌现的HTML5技术和应用，我们有时间争论插件好还是H5好这样的无聊问题，还不如实实在在地干起来。达成共识后，我们来开始看此次的一大波更新。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e鹰眼\x3c\/h1\x3e\n\x3cp\x3e上次的小机房功能已经基本完成了，客户对演示效果也非常满意。由于客户使用过我们之前做的2D系统，看到过鹰眼功能（也就是缩略图），所以这次毫不犹豫也要求3D机房监控界面增加鹰眼功能。这个把哥难了一阵子。\x3c\/p\x3e\n\x3cp\x3e为了寻找思路，哥首先打开了我们之前做过的2D的拓扑图，寻找灵感。鹰眼看上去是这样子的：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765897\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765897\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上面的界面是同事给客户做的虚拟机开通、配置的编辑界面，右下角的这块试图就是鹰眼缩略图。咨询同事，他说鹰眼在2D实现的时候，可以考虑把2D大图做一个内存缩略图更新到鹰眼视图，或在大图发生任何属性变化时候进行监听，然后动态生成缩略图更新鹰眼视图。不过在3D里面会有所不同：弄一个小尺寸的webgl的canvas实时刷新，应该负载也不大。所以决定再new一个network放在右下角试试：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var overview = new mono.Overview3D(network);\noverview.adjustBounds(200,200);\nvar rootView = overview.getRootView();\nnetwork3d.getRootView().appendChild(rootView);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pony\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e overview = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emono\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eOverview3D\x3c\/span\x3e(network);\n\x3cspan class=\x22hljs-title\x22\x3eoverview\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eadjustBounds\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e);\n\x3cspan class=\x22hljs-title\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erootView\x3c\/span\x3e = \x3cspan class=\x22hljs-title\x22\x3eoverview\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3egetRootView\x3c\/span\x3e();\n\x3cspan class=\x22hljs-title\x22\x3enetwork3d\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3egetRootView\x3c\/span\x3e().\x3cspan class=\x22hljs-title\x22\x3eappendChild\x3c\/span\x3e(rootView);\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同时，还要把镜头固定到头顶上方垂直向下看，并去掉鼠标的交互机制。经过一番折腾，终于把一个鹰眼画布放在大的场景画布的右下方，看看效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765898\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765898\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e设备编辑器\x3c\/h1\x3e\n\x3cp\x3e这次项目中据说有200多种不同的设备，每个设备面板都不一样，要给每一个设备建模，这不是纯体力活吗？就算丢给美工组做，也得耗费好多个人天呢，而且模型的复用性也不高。考虑再三，项目组紧急开发了设备面板的编辑器，很好地解决了这个问题。我试了一下，以做一个标准的机架设备为例，还是很快的：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765899\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765899\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e编辑器里面把常见的端口和面板都做好了，拖拖拽拽、对齐吸附，放上logo，很快一个像模像样的交换机就出来了，真是个良心产品！点击按钮导出json，可以直接在项目里面用了。当然，我这边的用法是把设备继续往机柜上放。机架编辑器是我这里开发的，效果差不多，可以直接把设计好的设备拖放到机柜的位置上：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765900\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765900\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e接下来，再把机柜往房间里面拖，房间的形状也要编辑的：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765901\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765901\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e直接点击3D按钮可以预览一下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765902\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765902\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对了，这里要注意的是一排机柜一般都会配置一个列头柜，专门控制电路等信息的，双击它会弹出一个电路配置界面：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765903\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765903\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e据说这个界面也有编辑器可以直接拖拽生成，这样就更方便了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e更多场景\x3c\/h1\x3e\n\x3cp\x3e其实对于机柜场景的编辑，模型稍作变化，就可以应付其他行业的应用。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e3D仓库\x3c\/h2\x3e\n\x3cp\x3e例如把机柜变成货架，把服务器变成货物，简单拖拽，会是什么场景呢？可以想象一下。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765904\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765904\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e3D工厂\x3c\/h2\x3e\n\x3cp\x3e继续想象，如果把机柜变成生产加工车间的机床，简单拖拽、添加告警信息，又是怎么样一番景象呢？\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765905\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765905\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765906\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765906\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e3D变电站\x3c\/h2\x3e\n\x3cp\x3e再比如，把场景里面的模型换为变电站里面的变压器、楼房、龙门架等，加上告警和交互，不就是一个户外变电站监控的应用吗？\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765907\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765907\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e3D加油站\x3c\/h2\x3e\n\x3cp\x3e如果把模型换为加油站，就是一个加油站SCADA和监控的应用：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765908\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765908\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005699013\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005699013\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e3D工控应用\x3c\/h2\x3e\n\x3cp\x3e当然如果跟硬件连上，就可以做工业上各种检测和控制了：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765909\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765909\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当然自动控制应用需要数据采集存储转发云平台组态系统等内容，等以后有机会单独写一篇和大家探讨。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader11\x22\x3e管线\x3c\/h1\x3e\n\x3cp\x3e机房里有很多物理的或逻辑的链路信息，例如网线、光纤，一些业务上的连接关系等。这些管线要显示在机房中，就需要对管线进行建模、存储、显示。显示的部分，我这里做了简单的空间自动路径，寻找最合适的路线走向，并将A端和Z端设备之外的物体虚化，可以把管线显示的更清晰：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765910\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765910\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对于跨楼层的链路，也可以清晰的呈现：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765911\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765911\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader12\x22\x3e会议室\x3c\/h1\x3e\n\x3cp\x3e根据客户要求，会议室场景也应该建模。经过同事现场拍照考察，会议室结构并不复杂，于是依旧让美工妹妹操刀，很快做完了会议室模型：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765912\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765912\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当然，这里面的场景并不是固定不变的，例如双击投影仪可以让他在投影幕布上播放视频；双击门可以打开，等等。这是因为我们对这里面的模型进行了分拆、动作定义。\x3c\/p\x3e\n\x3cp\x3e例如下面墙上的电视屏幕，双击可以显示机房的统计信息图。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765913\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765913\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e继续双击屏幕上的统计图，可以把2D的统计图程序界面直接显示出来，进行交互。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765914\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765914\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这也是使用HTML5的2D和3D技术的混合优势。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader13\x22\x3e园区\x3c\/h1\x3e\n\x3cp\x3e客户要求机房所在的园区也要加到场景中，想一想也合理。项目大了后，机房会分布在好几个楼宇的不同楼层，要查看必须有一个3D全景场景进去才方便。这个难度倒是不大，找美工妹子帮忙。妹子比开发商还快，用了几个小时，一个全新楼盘便在3D Max中诞生了。转obj，导入系统，急忙打开浏览器看效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765915\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765915\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里的一个经验是，如果要做到双击大楼能够进去，就要把大楼拆成单独的模型进行加载、监听事件。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader14\x22\x3e地球\x3c\/h1\x3e\n\x3cp\x3e问题又来了。客户说北京上海全国各地有多处机房，需要统一显示和管理。看来园区已经不够用了，需要一个全国地图。如果过几天客户说美国还有一个机房怎么办？干脆直接整个地球显示吧，一步到位。等客户要求火星有机房的时候再说吧。\x3c\/p\x3e\n\x3cp\x3e弄一个地球用3D太简单方便了，贴图加光晕，分分钟出来：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765916\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765916\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e接下来把中国的区域高亮出来，突出我国的地位。这个做法是准备一个透明的中国地图轮廓，如下图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765917\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765917\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e然后把地图作为贴图叠加在地球上，调整位置：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765918\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765918\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e接下来做几个数据中心的节点。用一个小小的球就可以吧！\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765919\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765919\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e为了防止看上去枯燥，把数据中心的连线用流动动画显示，每个数据中心用一个发光的图片动画做成旋转发光效果，看上去就生动多了。\x3c\/p\x3e\n\x3cp\x3e当然我们项目里最后做成的效果是这样的：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005699037\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005699037\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e有没有瞬间高大上的感觉？这还不算完，另外一个同事把我的代码拿过去，又增加了一些乱七八糟的效果，变成了这样：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765920\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765920\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e主要是增加了一些地理位置的热点，环绕地球的卫星，以及一些弹道导弹的攻击动画效果。据说某国防单位需要这样的显示方法，具体咱就不了解啦，总之有点科幻感了。\x3c\/p\x3e\n\x3cp\x3e说道弹道攻击效果，想起项目中另外一个网络攻击的显示界面，也很有意思，虽然是2D的，但是也有不错的动画效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005699038\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005699038\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里面的爆炸效果、弹道效果，都用了HTML5的canvas里面2D的一些API绘制，例如模糊、渐变等。综合利用2D\x2b3D来呈现网络攻击，还是非常直观的。还可以把网络攻击的应对流程通过3D化的泳道图显示出来进行分析：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006765921\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006765921\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e至此，一个“从地球到设备端口”的多层次、大型综合3D机房系统就构建成了。怎么样，HTML5的3D技术不是“小玩具”吧？只要认真打造，完全可以支撑各种大型行业应用了。咱们程序猿也不要徘徊等待了，抓紧学习HTML5的2D、3D技术吧！\x3c\/p\x3e\n\x3cp\x3e最后老规矩，觉得图片不过瘾，需要一睹3D机房真容的同学，可以发邮件到\x3ca\x3etw-service@servasoft.com\x3c\/a\x3e，索取程序代码，依然真诚欢迎大家各抒已见，共同进步~\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005699042\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005699042\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>打造最美HTML5 3D机房（MONO哥强势归来，第四季惊艳发布）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005699001">https://segmentfault.com/a/1190000005699001</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0q7mbbs55i6b/" target="_blank">https://alili.tech/archive/0q7mbbs55i6b/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>