<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[译] 快速介绍 JavaScript 中的 CSP"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[译] 快速介绍 JavaScript 中的 CSP | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/goqv5ke7jh/",
				"appid": "1613049289050283", 
				"title": "[译] 快速介绍 JavaScript 中的 CSP | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-04T02:30:58"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/akg3nb4g1fp/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/sq56p1zfd8m/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&text=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&text=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&title=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&is_video=false&description=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&title=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&title=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&title=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgoqv5ke7jh%2f&title=%5b%e8%af%91%5d%20%e5%bf%ab%e9%80%9f%e4%bb%8b%e7%bb%8d%20JavaScript%20%e4%b8%ad%e7%9a%84%20CSP"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[译] 快速介绍 JavaScript 中的 CSP</h1><div class="meta"><div class="postdate"><time datetime="2019-02-04" itemprop="datePublished">2019-02-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e原文 \x3ca href=\x22http:\/\/lucasmreis.github.io\/blog\/quick-introduction-to-csp-in-javascript\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/lucasmreis.github.io\/b...\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eCommunicating Sequential Processes 的 7 个示例\x3c\/p\x3e\n\x3cp\x3eCSP 是什么? 一般来说, 它是写并行代码的一套方案.\x3cbr\x3e在 Go 语言里自带该功能, Clojure 通过基于 Macro 的 \x3ccode\x3ecore.async\x3c\/code\x3e 来实现,\x3cbr\x3e现在 JavaScript 通过 Generator 也能做支持了, 或者说 ES6 的功能.\x3c\/p\x3e\n\x3cp\x3e为什么我要关心 CSP? 因为它强大啊, 而且高效, 而且简单. 都这样了你还想要什么? :)\x3c\/p\x3e\n\x3cp\x3e好吧, 说细节. 怎样使用呢?我们用 \x3ca href=\x22https:\/\/github.com\/ubolonton\/js-csp\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ejs-csp\x3c\/code\x3e\x3c\/a\x3e, 而且需要 generator 支持, ES6 才有.\x3cbr\x3e也就说 Node 4 或者更高的版本才行, 或者浏览器代码用 \x3ca href=\x22https:\/\/babeljs.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel\x3c\/a\x3e 编译一下,\x3cbr\x3e当然能其他的编译工具可能也行, 但你要确认下是支持 Generator 的.\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e注: 文章写得早, 现在翻译文章, Chrome 应该是支持 Generator 的.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e扯多了, 来看例子吧!\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e例 1: 进程\x3c\/h3\x3e\n\x3cp\x3e第一个要学的概念是\x22进程\x22. 进程可以执行代码, 简单说就是这样的了. :)\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e注: 当然不是操作系统原始的进程了, js 里模拟的.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这是启动进程的语法: generator 函数作为参数, 传给 \x3ccode\x3ego\x3c\/code\x3e 函数执行.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go} from \x27js-csp\x27;\n\ngo(function* () {\n  console.log(\x27something!\x27);\n});\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e something!\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {go} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27js-csp\x27\x3c\/span\x3e;\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27something!\x27\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; something!\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e例 2: 进程可以暂停\x3c\/h3\x3e\n\x3cp\x3e使用 \x3ccode\x3eyield\x3c\/code\x3e 关键字可以暂停一个进程, 把当前进程的占用释放:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go, timeout} from \x27js-csp\x27;\n\ngo(function* () {\n  yield timeout(1000);\n  console.log(\x27something else after 1 second!\x27);\n});\n\nconsole.log(\x27something!\x27);\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e something!\n\/\/ =\x3e something else after 1 second!\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {go, timeout} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27js-csp\x27\x3c\/span\x3e;\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e timeout(\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27something else after 1 second!\x27\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27something!\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; something!\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; something else after 1 second!\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e例 3: 进程等待来自管道的数据\x3c\/h3\x3e\n\x3cp\x3e第二个要学的概念是管道, 也是最后一个了. 管道就像是队列.\x3cbr\x3e一旦进程对管道调用 \x3ccode\x3etake\x3c\/code\x3e, 进程就会暂停, 直到别人往管道放进数据.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go, chan, take, putAsync} from \x27js-csp\x27;\n\nlet ch = chan();\n\ngo(function* () {\n  const received = yield take(ch);\n  console.log(\x27RECEIVED:\x27, received);\n});\n\nconst text = \x27something\x27;\nconsole.log(\x27SENDING:\x27, text);\n\n\/\/ use putAsync to put a value in a\n\/\/ channel from outside a process\nputAsync(ch, text);\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e SENDING: something\n\/\/ =\x3e RECEIVED: something\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {go, chan, take, putAsync} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27js-csp\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ch = chan();\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e received = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e take(ch);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27RECEIVED:\x27\x3c\/span\x3e, received);\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-string\x22\x3e\x27something\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27SENDING:\x27\x3c\/span\x3e, text);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ use putAsync to put a value in a\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ channel from outside a process\x3c\/span\x3e\nputAsync(ch, text);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; SENDING: something\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; RECEIVED: something\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e例 4: 进程通过管道来通信\x3c\/h3\x3e\n\x3cp\x3e管道的另一边, 往管道里 \x3ccode\x3eput\x3c\/code\x3e 数据的那些进程也会暂停, 直到这边进程调用 \x3ccode\x3etake\x3c\/code\x3e.\x3c\/p\x3e\n\x3cp\x3e下面的例子就复杂一点了, 试着跟随一下主线, 印证一下终端输出的内容:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go, chan, take, put} from \x27js-csp\x27;\n\nlet chA = chan();\nlet chB = chan();\n\n\/\/ Process A\ngo(function* () {\n  const receivedFirst = yield take(chA);\n  console.log(\x27A \x3e RECEIVED:\x27, receivedFirst);\n\n  const sending = \x27cat\x27;\n  console.log(\x27A \x3e SENDING:\x27, sending);\n  yield put(chB, sending);\n\n  const receivedSecond = yield take(chA);\n  console.log(\x27A \x3e RECEIVED:\x27, receivedSecond);\n});\n\n\/\/ Process B\ngo(function* () {\n  const sendingFirst = \x27dog\x27;\n  console.log(\x27B \x3e SENDING:\x27, sendingFirst);\n  yield put(chA, sendingFirst);\n\n  const received = yield take(chB);\n  console.log(\x27B \x3e RECEIVED:\x27, received);\n\n  const sendingSecond = \x27another dog\x27;\n  console.log(\x27B \x3e SENDING:\x27, sendingSecond);\n  yield put(chA, sendingSecond);\n});\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e B \x3e SENDING: dog\n\/\/ =\x3e A \x3e RECEIVED: dog\n\/\/ =\x3e A \x3e SENDING: cat\n\/\/ =\x3e B \x3e RECEIVED: cat\n\/\/ =\x3e B \x3e SENDING: another dog\n\/\/ =\x3e A \x3e RECEIVED: another dog\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22clojure hljs\x22\x3e\x3ccode class=\x22clojure\x22\x3eimport {go, chan, take, put} from \x27js-csp\x27\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\nlet chA = chan()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\nlet chB = chan()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\/\/ Process A\ngo(\x3cspan class=\x22hljs-name\x22\x3efunction*\x3c\/span\x3e () {\n  const receivedFirst = yield take(\x3cspan class=\x22hljs-name\x22\x3echA\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27A\x3c\/span\x3e \x26gt; RECEIVED:\x27, receivedFirst)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n  const sending = \x27cat\x27;\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27A\x3c\/span\x3e \x26gt; SENDING:\x27, sending)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  yield put(\x3cspan class=\x22hljs-name\x22\x3echB\x3c\/span\x3e, sending)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n  const receivedSecond = yield take(\x3cspan class=\x22hljs-name\x22\x3echA\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27A\x3c\/span\x3e \x26gt; RECEIVED:\x27, receivedSecond)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n})\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\/\/ Process B\ngo(\x3cspan class=\x22hljs-name\x22\x3efunction*\x3c\/span\x3e () {\n  const sendingFirst = \x27dog\x27;\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27B\x3c\/span\x3e \x26gt; SENDING:\x27, sendingFirst)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  yield put(\x3cspan class=\x22hljs-name\x22\x3echA\x3c\/span\x3e, sendingFirst)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n  const received = yield take(\x3cspan class=\x22hljs-name\x22\x3echB\x3c\/span\x3e)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27B\x3c\/span\x3e \x26gt; RECEIVED:\x27, received)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n  const sendingSecond = \x27another dog\x27;\n  console.log(\x3cspan class=\x22hljs-name\x22\x3e\x27B\x3c\/span\x3e \x26gt; SENDING:\x27, sendingSecond)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n  yield put(\x3cspan class=\x22hljs-name\x22\x3echA\x3c\/span\x3e, sendingSecond)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n})\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x26gt; B \x26gt; SENDING: dog\n\/\/ =\x26gt; A \x26gt; RECEIVED: dog\n\/\/ =\x26gt; A \x26gt; SENDING: cat\n\/\/ =\x26gt; B \x26gt; RECEIVED: cat\n\/\/ =\x26gt; B \x26gt; SENDING: another dog\n\/\/ =\x26gt; A \x26gt; RECEIVED: another dog\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e立 5: 管道也是队列\x3c\/h3\x3e\n\x3cp\x3e由于管道是队列, 当进程从管道取走数据, 其他进程就拿不到了.\x3cbr\x3e所以推数据的是一个进程, 取数据的也是一个进程.\x3c\/p\x3e\n\x3cp\x3e下面这个例子可以看到第二个进程永远不会打印 \x3ccode\x3eB \x26gt; RECEIVED: dog\x3c\/code\x3e,\x3cbr\x3e因为第一个进程已经把数据取走了.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go, chan, take, put} from \x27js-csp\x27;\n\nlet ch = chan();\n\ngo(function* () {\n  const text = yield take(ch);\n  console.log(\x27A \x3e RECEIVED:\x27, text);\n});\n\ngo(function* () {\n  const text = yield take(ch);\n  console.log(\x27B \x3e RECEIVED:\x27, text);\n});\n\ngo(function* () {\n  const text = \x27dog\x27\n  console.log(\x27C \x3e SENDING:\x27, text);\n  yield put(ch, text);\n});\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e C \x3e SENDING: dog\n\/\/ =\x3e A \x3e RECEIVED: dog\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {go, chan, take, put} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27js-csp\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ch = chan();\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e take(ch);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27A \x26gt; RECEIVED:\x27\x3c\/span\x3e, text);\n});\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e take(ch);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27B \x26gt; RECEIVED:\x27\x3c\/span\x3e, text);\n});\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e text = \x3cspan class=\x22hljs-string\x22\x3e\x27dog\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27C \x26gt; SENDING:\x27\x3c\/span\x3e, text);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(ch, text);\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; C \x26gt; SENDING: dog\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; A \x26gt; RECEIVED: dog\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e例 6: 带缓冲的管道不会在 \x3ccode\x3eput\x3c\/code\x3e 操作时阻塞\x3c\/h3\x3e\n\x3cp\x3e管道可以带缓冲, 也就是, 一定数量之内的数据, 执行 \x3ccode\x3eput\x3c\/code\x3e 操作可以避开阻塞.\x3c\/p\x3e\n\x3cp\x3e这个例子里, 即便没有其他进程调用 \x3ccode\x3etake\x3c\/code\x3e, 前两个写操作也不会阻塞进程.\x3cbr\x3e不过管道的缓存数量是 2, 所以第三个数据就阻塞进程了, 直到其他进程取走数据.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {go, chan, put, buffers} from \x27js-csp\x27;\n\nlet ch = chan(buffers.fixed(2));\n\ngo(function* () {\n  yield put(ch, \x27value A\x27);\n  yield put(ch, \x27value B\x27);\n  console.log(\x27I should print!\x27);\n  yield put(ch, \x27value C\x27);\n  console.log(\x27I should not print!\x27);\n});\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e I should print!\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {go, chan, put, buffers} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27js-csp\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e ch = chan(buffers.fixed(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e));\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(ch, \x3cspan class=\x22hljs-string\x22\x3e\x27value A\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(ch, \x3cspan class=\x22hljs-string\x22\x3e\x27value B\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27I should print!\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(ch, \x3cspan class=\x22hljs-string\x22\x3e\x27value C\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27I should not print!\x27\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; I should print!\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e例 7: Dropping And Sliding Buffers\x3c\/h3\x3e\n\x3cp\x3e固定大小的缓冲在 N 个数据之后会阻塞, 初次之外, 还有对缓冲的 dropping 和 sliding 控制.\x3c\/p\x3e\n\x3cp\x3e缓冲的 dropping 以为着管道可以持有 N 个数据.\x3cbr\x3e再增加额外的数据放进管道, 管道就会将其丢弃.\x3c\/p\x3e\n\x3cp\x3e缓冲的 sliding 也可以持有 N 个数据. 不过相对于直接丢弃新数据,\x3cbr\x3esliding 缓冲原先的第一个推的数据会被丢弃, buffer 里会留下新的这个数据.\x3c\/p\x3e\n\x3cp\x3e下面这个例子, \x3ccode\x3evalue B\x3c\/code\x3e 和 \x3ccode\x3evalue C\x3c\/code\x3e 在 dropping 缓冲里被丢弃, 因为已经有 \x3ccode\x3evalue A\x3c\/code\x3e 了.\x3cbr\x3e第二个进程里, 当 \x3ccode\x3evalue B\x3c\/code\x3e 被放进管道, \x3ccode\x3evalue A\x3c\/code\x3e 就被丢弃了.\x3cbr\x3e然后 \x3ccode\x3evalue C\x3c\/code\x3e 放进管道, \x3ccode\x3evalue B\x3c\/code\x3e 就被丢弃.\x3c\/p\x3e\n\x3cp\x3e根据它们的工作原理, dropping 和 sliding 的缓冲永远不会阻塞!\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let droppingCh = chan(buffers.dropping(1));\nlet slidingCh  = chan(buffers.sliding(1));\n\ngo(function* () {\n  yield put(droppingCh, \x27value A\x27);\n  yield put(droppingCh, \x27value B\x27);\n  yield put(droppingCh, \x27value C\x27);\n  console.log(\x27DROPPING:\x27, yield take(droppingCh));\n});\n\ngo(function* () {\n  yield put(slidingCh, \x27value A\x27);\n  yield put(slidingCh, \x27value B\x27);\n  yield put(slidingCh, \x27value C\x27);\n  console.log(\x27SLIDING:\x27, yield take(slidingCh));\n});\n\n\/\/ terminal output:\n\/\/\n\/\/ =\x3e DROPPING: value A\n\/\/ =\x3e SLIDING: value C\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e droppingCh = chan(buffers.dropping(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e));\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e slidingCh  = chan(buffers.sliding(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e));\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(droppingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value A\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(droppingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value B\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(droppingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value C\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27DROPPING:\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e take(droppingCh));\n});\n\ngo(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(slidingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value A\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(slidingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value B\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e put(slidingCh, \x3cspan class=\x22hljs-string\x22\x3e\x27value C\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27SLIDING:\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e take(slidingCh));\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ terminal output:\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; DROPPING: value A\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; SLIDING: value C\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e结论\x3c\/h3\x3e\n\x3cp\x3eCSP 用了一段时间之后, 用回调或者 Promise 写代码就像是侏罗纪的技术.\x3cbr\x3e我希望 ES6 的 Generator 能帮助 CSP 成为 JavaScript 的一个标准,\x3cbr\x3e就像是 Go 已经是的那样, 以及 Clojure 里正在成为的那样.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e下一步\x3c\/h3\x3e\n\x3cp\x3e另外有两个模型也还有意思, 大概可以认为是比 CSP 层级更高一点的:\x3cbr\x3e函数式也是响应式编程(Rx)跟 Actors, 分别在 Rx 和 Erlang 里用到.\x3cbr\x3e我当然后面也会写博客来挖掘一下.\x3c\/p\x3e\n\x3cp\x3e我同时相信 CSP 对于前端框架来说非常棒.\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e原作者还有一个文章可以看下: \x3ca href=\x22http:\/\/lucasmreis.github.io\/blog\/using-csp-as-application-architecture\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eUsing CSP as Application Architecture\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[译] 快速介绍 JavaScript 中的 CSP</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006873358">https://segmentfault.com/a/1190000006873358</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/goqv5ke7jh/" target="_blank">https://alili.tech/archive/goqv5ke7jh/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>