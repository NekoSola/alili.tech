<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="教你从零开始搭建一款前端脚手架工具"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>教你从零开始搭建一款前端脚手架工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ir9r7ezc7ym/",
				"appid": "1613049289050283", 
				"title": "教你从零开始搭建一款前端脚手架工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/0xthffbu537/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/fmqo5g9xsel/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&text=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&text=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&title=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&is_video=false&description=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&title=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&title=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&title=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fir9r7ezc7ym%2f&title=%e6%95%99%e4%bd%a0%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%ba%e4%b8%80%e6%ac%be%e5%89%8d%e7%ab%af%e8%84%9a%e6%89%8b%e6%9e%b6%e5%b7%a5%e5%85%b7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">教你从零开始搭建一款前端脚手架工具</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e本文系原创，转载请附带作者信息：Jrain Lau\x3cbr\x3e项目地址：\x3ca href=\x22https:\/\/github.com\/jrainlau\/scion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3c\/a\x3e\x3ca href=\x22https:\/\/github.com\/jrainlau\/scion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/jrainlau\/s...\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e在实际的开发过程中，从零开始建立项目的结构是一件让人头疼的事情，所以各种各样的脚手架工具应运而生。笔者使用较多的\x3ccode\x3eyoeman\x3c\/code\x3e，\x3ccode\x3eexpress-generator\x3c\/code\x3e和\x3ccode\x3evue-cli\x3c\/code\x3e便是当中之一。它们功能丰富，但最核心的功能都是能够快速搭建一个完整的项目的结构，开发者只需要在生成的项目结构的基础上进行开发即可，非常简单高效。\x3c\/p\x3e\n\x3cp\x3e作为一个不折腾会死星人，在熟悉了使用方法以后就开始琢磨起它们的原理来了。经过仔细研究文档和源码，终于算是摸清了其核心的原理，并且依据这个原理自己搭建了一款叫做\x3ca href=\x22https:\/\/github.com\/jrainlau\/scion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSCION\x3c\/a\x3e的脚手架。\x3c\/p\x3e\n\x3cp\x3e现在让我们就以SCION为例，从零开始搭建一款属于我们自己的脚手架工具吧！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e核心原理\x3c\/h1\x3e\n\x3cp\x3e\x3ccode\x3eyoeman\x3c\/code\x3e搭建项目需要提供\x3ccode\x3eyoeman-generator\x3c\/code\x3e。\x3ccode\x3eyoeman-generator\x3c\/code\x3e本质上就是一个具备完整文件结构的项目样板，用户需要手动地把这些\x3ccode\x3egenerator\x3c\/code\x3e下载到本地，然后\x3ccode\x3eyoeman\x3c\/code\x3e就会根据这些\x3ccode\x3egenerator\x3c\/code\x3e自动生成各种不同的项目。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3evue-cli\x3c\/code\x3e提供了相当丰富的选项和设定功能，但是其本质也是从远程仓库把不同的\x3ccode\x3e模版\x3c\/code\x3e拉取到本地，而并非是什么“本地生成”的黑科技。\x3c\/p\x3e\n\x3cp\x3e这样看来，思路也就有了——首先建立不同的样板项目，然后脚手架根据用户的指令引用样板项目生成实际项目。样板项目可以内置在脚手架当中，也可以部署在远程仓库。为了更广的适用范围，\x3ccode\x3eSCION\x3c\/code\x3e采用的是第二种方式。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e技术选型\x3c\/h1\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/nodejs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enode.js\x3c\/a\x3e：整个脚手架工具的根本组成部分，推荐使用最新的版本。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ees6\x3c\/a\x3e：新版本的\x3ccode\x3enode.js\x3c\/code\x3e对于\x3ccode\x3ees6\x3c\/code\x3e的支持度已经非常高，使用\x3ccode\x3ees6\x3c\/code\x3e能够极大地提升开发效率和开发感受。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/tj\/commander.js\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecommander\x3c\/a\x3e：TJ大神开发的工具，能够更好地组织和处理命令行的输入。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/tj\/co\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eco\x3c\/a\x3e：TJ大神开发的异步流程控制工具，用更舒服的方式写异步代码。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/tj\/co-prompt\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eco-prompt\x3c\/a\x3e：还是TJ大神的作品……传统的命令行只能单行一次性地输入所有参数和选项，使用这个工具可以自动提供提示信息，并且分步接收用户的输入，体验类似\x3ccode\x3enpm init\x3c\/code\x3e时的一步一步输入参数的过程。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e整体架构\x3c\/h1\x3e\n\x3cp\x3e国际惯例，着手开发之前得先弄明白整体架构，看图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVz709\x22 src=\x22https:\/\/static.alili.tech\/img\/bVz709\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e首先明白\x3ccode\x3e模版\x3c\/code\x3e的概念。一个模版就是一个项目的样板，包含项目的完整结构和信息。\x3cbr\x3e模版的信息都存放在一个叫做\x3ccode\x3etemplates.json\x3c\/code\x3e的文件当中。\x3cbr\x3e用户可以通过命令行对\x3ccode\x3etemplates.json\x3c\/code\x3e进行添加、删除、罗列的操作。\x3cbr\x3e通过选择不同的模版，SCION会自动从远程仓库把相应的模板拉取到本地，完成项目的搭建。\x3c\/p\x3e\n\x3cp\x3e最终整个脚手架的文件结构如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22=================\n  |__ bin\n    |__ scion\n  |__ command\n    |__ add.js\n    |__ delete.js\n    |__ init.js\n    |__ list.js\n  |__ node_modules\n  |__ package.json\n  |__ templates.json\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode\x3e=================\n  |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e bin\n    |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e scion\n  |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e command\n    |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e add.js\n    |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edelete\x3c\/span\x3e.js\n    |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e init.js\n    |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e list.js\n  |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e node_modules\n  |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e package.json\n  |\x3cspan class=\x22hljs-symbol\x22\x3e__\x3c\/span\x3e templates.json\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e入口文件\x3c\/h1\x3e\n\x3cp\x3e首先建立项目，在\x3ccode\x3epackage.json\x3c\/code\x3e里面写入依赖并执行\x3ccode\x3enpm install\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;dependencies\x26quot;: {\n    \x26quot;chalk\x26quot;: \x26quot;^1.1.3\x26quot;,\n    \x26quot;co\x26quot;: \x26quot;^4.6.0\x26quot;,\n    \x26quot;co-prompt\x26quot;: \x26quot;^1.0.0\x26quot;,\n    \x26quot;commander\x26quot;: \x26quot;^2.9.0\x26quot;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22chalk\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.1.3\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22co\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.6.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22co-prompt\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22commander\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.9.0\x22\x3c\/span\x3e\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在根目录下建立\x3ccode\x3e\\bin\x3c\/code\x3e文件夹，在里面建立一个无后缀名的\x3ccode\x3escion\x3c\/code\x3e文件。这个\x3ccode\x3ebin\\scion\x3c\/code\x3e文件是整个脚手架的入口文件，所以我们首先对它进行编写。\x3c\/p\x3e\n\x3cp\x3e首先是一些初始化的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#!\/usr\/bin\/env node --harmony\n\x27use strict\x27\n \/\/ 定义脚手架的文件路径\nprocess.env.NODE_PATH = __dirname \x2b \x27\/..\/node_modules\/\x27\n\nconst program = require(\x27commander\x27)\n\n \/\/ 定义当前版本\nprogram\n    .version(require(\x27..\/package\x27).version )\n\n\/\/ 定义使用方法\nprogram\n    .usage(\x27\x3ccommand\x3e\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e#!\/usr\/bin\/env node --harmony\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义脚手架的文件路径\x3c\/span\x3e\nprocess.env.NODE_PATH = __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/..\/node_modules\/\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e program = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27commander\x27\x3c\/span\x3e)\n\n \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义当前版本\x3c\/span\x3e\nprogram\n    .version(\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/package\x27\x3c\/span\x3e).version )\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义使用方法\x3c\/span\x3e\nprogram\n    .usage(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;command\x26gt;\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从前文的架构图中可以知道，脚手架支持用户输入4种不同的命令。现在我们来写处理这4种命令的方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22program\n    .command(\x27add\x27)\n    .description(\x27Add a new template\x27)\n  .alias(\x27a\x27)\n  .action(() =\x3e {\n    require(\x27..\/command\/add\x27)()\n  })\n\nprogram\n    .command(\x27list\x27)\n    .description(\x27List all the templates\x27)\n    .alias(\x27l\x27)\n    .action(() =\x3e {\n        require(\x27..\/command\/list\x27)()\n    })\n\nprogram\n    .command(\x27init\x27)\n    .description(\x27Generate a new project\x27)\n  .alias(\x27i\x27)\n  .action(() =\x3e {\n    require(\x27..\/command\/init\x27)()\n  })\n\nprogram\n    .command(\x27delete\x27)\n    .description(\x27Delete a template\x27)\n    .alias(\x27d\x27)\n    .action(() =\x3e {\n        require(\x27..\/command\/delete\x27)()\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eprogram\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.command\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27add\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.description\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Add a new template\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.alias\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.action\x3c\/span\x3e(() =\x26gt; {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/command\/add\x27\x3c\/span\x3e)()\n  })\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3eprogram\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.command\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27list\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.description\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27List all the templates\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.alias\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27l\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.action\x3c\/span\x3e(() =\x26gt; {\n        \x3cspan class=\x22hljs-selector-tag\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/command\/list\x27\x3c\/span\x3e)()\n    })\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3eprogram\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.command\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27init\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.description\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Generate a new project\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.alias\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27i\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-selector-class\x22\x3e.action\x3c\/span\x3e(() =\x26gt; {\n    \x3cspan class=\x22hljs-selector-tag\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/command\/init\x27\x3c\/span\x3e)()\n  })\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3eprogram\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.command\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27delete\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.description\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27Delete a template\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.alias\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27d\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.action\x3c\/span\x3e(() =\x26gt; {\n        \x3cspan class=\x22hljs-selector-tag\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/command\/delete\x27\x3c\/span\x3e)()\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ecommander\x3c\/code\x3e的具体使用方法在这里就不展开了，可以直接到\x3ca href=\x22https:\/\/github.com\/tj\/commander.js\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官网\x3c\/a\x3e去看详细的文档。\x3cbr\x3e最后别忘了处理参数和提供帮助信息：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22program.parse(process.argv)\n\nif(!program.args.length){\n  program.help()\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs fortran\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eprogram\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eparse\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(process.argv)\x3c\/span\x3e\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-comment\x22\x3e!program.args.length){\x3c\/span\x3e\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eprogram\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3ehelp\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e完整的代码请看\x3ca href=\x22https:\/\/github.com\/jrainlau\/scion\/blob\/master\/bin\/scion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e。\x3cbr\x3e使用\x3ccode\x3enode\x3c\/code\x3e运行这个文件，看到输出如下，证明入口文件已经编写完成了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Usage: scion \x3ccommand\x3e\n\n\n  Commands:\n\n    add|a      Add a new template\n    list|l     List all the templates\n    init|i     Generate a new project\n    delete|d   Delete a template\n\n  Options:\n\n    -h, --help     output usage information\n    -V, --version  output the version number\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs http\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3eUsage\x3c\/span\x3e: scion \x26lt;command\x26gt;\n\n\x3cspan class=\x22livecodeserver\x22\x3e\n  Commands:\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e|\x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e      Add \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e template\n    list|l     List all \x3cspan class=\x22hljs-keyword\x22\x3ethe\x3c\/span\x3e templates\n    init|i     Generate \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e project\n    \x3cspan class=\x22hljs-built_in\x22\x3edelete\x3c\/span\x3e|d   Delete \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e template\n\n  Options:\n\n    -h, \x3cspan class=\x22hljs-comment\x22\x3e--help     output usage information\x3c\/span\x3e\n    -V, \x3cspan class=\x22hljs-comment\x22\x3e--version  output the version number\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e处理用户输入\x3c\/h1\x3e\n\x3cp\x3e在项目根目录下建立\x3ccode\x3e\\command\x3c\/code\x3e文件夹，专门用来存放命令处理文件。\x3cbr\x3e在根目录下建立\x3ccode\x3etemplates.json\x3c\/code\x3e文件并写入如下内容，用来存放模版信息：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\x26quot;tpl\x26quot;:{\x22}}\x22\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e{\x3cspan class=\x22hljs-attr\x22\x3e\x22tpl\x22\x3c\/span\x3e:{\x22}}\x22\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e添加模板\x3c\/h3\x3e\n\x3cp\x3e进入\x3ccode\x3e\\command\x3c\/code\x3e并新建\x3ccode\x3eadd.js\x3c\/code\x3e文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27\nconst co = require(\x27co\x27)\nconst prompt = require(\x27co-prompt\x27)\nconst config = require(\x27..\/templates\x27)\nconst chalk = require(\x27chalk\x27)\nconst fs = require(\x27fs\x27)\n\nmodule.exports = () =\x3e {\n co(function *() {\n\n   \/\/ 分步接收用户输入的参数\n   let tplName = yield prompt(\x27Template name: \x27)\n   let gitUrl = yield prompt(\x27Git https link: \x27)\n   let branch = yield prompt(\x27Branch: \x27)\n    \n   \/\/ 避免重复添加\n   if (!config.tpl[tplName]) {\n     config.tpl[tplName] = {}\n     config.tpl[tplName][\x27url\x27] = gitUrl.replace(\/[\\u0000-\\u0019]\/g, \x27\x27) \/\/ 过滤unicode字符\n     config.tpl[tplName][\x27branch\x27] = branch\n   } else {\n     console.log(chalk.red(\x27Template has already existed!\x27))\n     process.exit()\n   }\n   \n   \/\/ 把模板信息写入templates.json\n   fs.writeFile(__dirname \x2b \x27\/..\/templates.json\x27, JSON.stringify(config), \x27utf-8\x27, (err) =\x3e {\n     if (err) console.log(err)\n     console.log(chalk.green(\x27New template added!\\n\x27))\n     console.log(chalk.grey(\x27The last template list is: \\n\x27))\n     console.log(config)\n     console.log(\x27\\n\x27)\n     process.exit()\n    })\n })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e co = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e prompt = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co-prompt\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/templates\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chalk = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chalk\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n co(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分步接收用户输入的参数\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e tplName = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Template name: \x27\x3c\/span\x3e)\n   \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e gitUrl = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Git https link: \x27\x3c\/span\x3e)\n   \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e branch = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Branch: \x27\x3c\/span\x3e)\n    \n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 避免重复添加\x3c\/span\x3e\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!config.tpl[tplName]) {\n     config.tpl[tplName] = {}\n     config.tpl[tplName][\x3cspan class=\x22hljs-string\x22\x3e\x27url\x27\x3c\/span\x3e] = gitUrl.replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/[\\u0000-\\u0019]\/g\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 过滤unicode字符\x3c\/span\x3e\n     config.tpl[tplName][\x3cspan class=\x22hljs-string\x22\x3e\x27branch\x27\x3c\/span\x3e] = branch\n   } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.red(\x3cspan class=\x22hljs-string\x22\x3e\x27Template has already existed!\x27\x3c\/span\x3e))\n     process.exit()\n   }\n   \n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 把模板信息写入templates.json\x3c\/span\x3e\n   fs.writeFile(__dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/..\/templates.json\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(config), \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e, (err) =\x26gt; {\n     \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(err)\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.green(\x3cspan class=\x22hljs-string\x22\x3e\x27New template added!\\n\x27\x3c\/span\x3e))\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.grey(\x3cspan class=\x22hljs-string\x22\x3e\x27The last template list is: \\n\x27\x3c\/span\x3e))\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(config)\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n\x27\x3c\/span\x3e)\n     process.exit()\n    })\n })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e删除模板\x3c\/h3\x3e\n\x3cp\x3e同样的，在\x3ccode\x3e\\command\x3c\/code\x3e文件夹下建立\x3ccode\x3edelete.js\x3c\/code\x3e文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27\nconst co = require(\x27co\x27)\nconst prompt = require(\x27co-prompt\x27)\nconst config = require(\x27..\/templates\x27)\nconst chalk = require(\x27chalk\x27)\nconst fs = require(\x27fs\x27)\n\nmodule.exports = () =\x3e {\n    co(function *() {\n        \/\/ 接收用户输入的参数\n        let tplName = yield prompt(\x27Template name: \x27)\n\n        \/\/ 删除对应的模板\n        if (config.tpl[tplName]) {\n            config.tpl[tplName] = undefined\n        } else {\n            console.log(chalk.red(\x27Template does not exist!\x27))\n            process.exit()\n        }\n        \n        \/\/ 写入template.json\n        fs.writeFile(__dirname \x2b \x27\/..\/templates.json\x27, JSON.stringify(config),     \x27utf-8\x27, (err) =\x3e {\n            if (err) console.log(err)\n            console.log(chalk.green(\x27Template deleted!\x27))\n            console.log(chalk.grey(\x27The last template list is: \\n\x27))\n            console.log(config)\n            console.log(\x27\\n\x27)\n            process.exit()\n        })\n    })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e co = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e prompt = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co-prompt\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/templates\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chalk = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chalk\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    co(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 接收用户输入的参数\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e tplName = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Template name: \x27\x3c\/span\x3e)\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 删除对应的模板\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (config.tpl[tplName]) {\n            config.tpl[tplName] = \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e\n        } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.red(\x3cspan class=\x22hljs-string\x22\x3e\x27Template does not exist!\x27\x3c\/span\x3e))\n            process.exit()\n        }\n        \n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 写入template.json\x3c\/span\x3e\n        fs.writeFile(__dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/..\/templates.json\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(config),     \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e, (err) =\x26gt; {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(err)\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.green(\x3cspan class=\x22hljs-string\x22\x3e\x27Template deleted!\x27\x3c\/span\x3e))\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.grey(\x3cspan class=\x22hljs-string\x22\x3e\x27The last template list is: \\n\x27\x3c\/span\x3e))\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(config)\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n\x27\x3c\/span\x3e)\n            process.exit()\n        })\n    })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e罗列模板\x3c\/h3\x3e\n\x3cp\x3e建立\x3ccode\x3elist.js\x3c\/code\x3e文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27\nconst config = require(\x27..\/templates\x27)\n\nmodule.exports = () =\x3e {\n     console.log(config.tpl)\n     process.exit()\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/templates\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n     \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(config.tpl)\n     process.exit()\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader9\x22\x3e构建项目\x3c\/h1\x3e\n\x3cp\x3e现在来到我们最重要的部分——构建项目。同样的，在\x3ccode\x3e\\command\x3c\/code\x3e目录下新建一个叫做\x3ccode\x3einit.js\x3c\/code\x3e的文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27\nconst exec = require(\x27child_process\x27).exec\nconst co = require(\x27co\x27)\nconst prompt = require(\x27co-prompt\x27)\nconst config = require(\x27..\/templates\x27)\nconst chalk = require(\x27chalk\x27)\n\nmodule.exports = () =\x3e {\n co(function *() {\n    \/\/ 处理用户输入\n      let tplName = yield prompt(\x27Template name: \x27)\n      let projectName = yield prompt(\x27Project name: \x27)\n      let gitUrl\n      let branch\n\n    if (!config.tpl[tplName]) {\n        console.log(chalk.red(\x27\\n × Template does not exit!\x27))\n        process.exit()\n    }\n    gitUrl = config.tpl[tplName].url\n    branch = config.tpl[tplName].branch\n\n    \/\/ git命令，远程拉取项目并自定义项目名\n    let cmdStr = `git clone ${gitUrl} ${projectName} \x26amp;\x26amp; cd ${projectName} \x26amp;\x26amp; git checkout ${branch}`\n\n    console.log(chalk.white(\x27\\n Start generating...\x27))\n\n    exec(cmdStr, (error, stdout, stderr) =\x3e {\n      if (error) {\n        console.log(error)\n        process.exit()\n      }\n      console.log(chalk.green(\x27\\n √ Generation completed!\x27))\n      console.log(`\\n cd ${projectName} \x26amp;\x26amp; npm install \\n`)\n      process.exit()\n    })\n  })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e exec = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27child_process\x27\x3c\/span\x3e).exec\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e co = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e prompt = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27co-prompt\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/templates\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chalk = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chalk\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n co(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 处理用户输入\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e tplName = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Template name: \x27\x3c\/span\x3e)\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e projectName = \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e prompt(\x3cspan class=\x22hljs-string\x22\x3e\x27Project name: \x27\x3c\/span\x3e)\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e gitUrl\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e branch\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!config.tpl[tplName]) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.red(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n × Template does not exit!\x27\x3c\/span\x3e))\n        process.exit()\n    }\n    gitUrl = config.tpl[tplName].url\n    branch = config.tpl[tplName].branch\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ git命令，远程拉取项目并自定义项目名\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e cmdStr = \x3cspan class=\x22hljs-string\x22\x3e`git clone \x3cspan class=\x22hljs-subst\x22\x3e${gitUrl}\x3c\/span\x3e \x3cspan class=\x22hljs-subst\x22\x3e${projectName}\x3c\/span\x3e \x26amp;\x26amp; cd \x3cspan class=\x22hljs-subst\x22\x3e${projectName}\x3c\/span\x3e \x26amp;\x26amp; git checkout \x3cspan class=\x22hljs-subst\x22\x3e${branch}\x3c\/span\x3e`\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.white(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n Start generating...\x27\x3c\/span\x3e))\n\n    exec(cmdStr, (error, stdout, stderr) =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (error) {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(error)\n        process.exit()\n      }\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(chalk.green(\x3cspan class=\x22hljs-string\x22\x3e\x27\\n √ Generation completed!\x27\x3c\/span\x3e))\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`\\n cd \x3cspan class=\x22hljs-subst\x22\x3e${projectName}\x3c\/span\x3e \x26amp;\x26amp; npm install \\n`\x3c\/span\x3e)\n      process.exit()\n    })\n  })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，这一部分代码也非常简单，关键的一句话是\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let cmdStr = `git clone ${gitUrl} ${projectName} \x26amp;\x26amp; cd ${projectName} \x26amp;\x26amp; git checkout ${branch}`\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3elet\x3c\/span\x3e cmdStr = `git \x3cspan class=\x22hljs-built_in\x22\x3eclone\x3c\/span\x3e \x3cspan class=\x22hljs-variable\x22\x3e${gitUrl}\x3c\/span\x3e \x3cspan class=\x22hljs-variable\x22\x3e${projectName}\x3c\/span\x3e \x26amp;\x26amp; \x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e \x3cspan class=\x22hljs-variable\x22\x3e${projectName}\x3c\/span\x3e \x26amp;\x26amp; git checkout \x3cspan class=\x22hljs-variable\x22\x3e${branch}\x3c\/span\x3e`\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它的作用正是从远程仓库克隆到自定义目录，并切换到对应的分支。熟悉git命令的同学应该明白，不熟悉的同学是时候补补课啦！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e全局使用\x3c\/h1\x3e\n\x3cp\x3e为了可以全局使用，我们需要在\x3ccode\x3epackage.json\x3c\/code\x3e里面设置一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;bin\x26quot;: {\n    \x26quot;scion\x26quot;: \x26quot;bin\/scion\x26quot;\n  },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22bin\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22scion\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22bin\/scion\x22\x3c\/span\x3e\n  },\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本地调试的时候，在根目录下执行\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm link\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e link\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e即可把\x3ccode\x3escion\x3c\/code\x3e命令绑定到全局，以后就可以直接以\x3ccode\x3escion\x3c\/code\x3e作为命令开头而无需敲入长长的\x3ccode\x3enode scion\x3c\/code\x3e之类的命令了。\x3c\/p\x3e\n\x3cp\x3e现在我们的脚手架工具已经搭建好了，一起来尝试一下吧！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader11\x22\x3e使用测试\x3c\/h1\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eadd | a 添加模版命令\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVz8Da\x22 src=\x22https:\/\/static.alili.tech\/img\/bVz8Da\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3einit | i 生成项目命令\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVz8Do\x22 src=\x22https:\/\/static.alili.tech\/img\/bVz8Do\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3edelete | d 删除模版命令 和 list | l 罗列模版命令\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVz8Du\x22 src=\x22https:\/\/static.alili.tech\/img\/bVz8Du\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e大功告成啦！现在我们的整个脚手架工具已经搭建完成了，以后只需要知道模板的git https地址和branch就可以不断地往SCION上面添加，团队协作的话只需要分享SCION的\x3ccode\x3etemplates.json\x3c\/code\x3e文件就可以了。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader12\x22\x3e后记\x3c\/h1\x3e\n\x3cp\x3e看起来并不复杂的东西，实际从零开始搭建也是颇费了一番心思。最大的难题是在开始的时候并不懂得如何像\x3ccode\x3enpm init\x3c\/code\x3e那样可以一步一步地处理用户输入，只懂得一条命令行把所有的参数都带上，这样的用户体验真的很不好。研究了\x3ccode\x3evue-cli\x3c\/code\x3e和\x3ccode\x3eyoeman\x3c\/code\x3e也没有找到相应的代码，只好不断地google，最后总算找到了一篇文章，可以用\x3ccode\x3eco\x3c\/code\x3e和\x3ccode\x3eco-prompt\x3c\/code\x3e这两个工具实现，再一次膜拜无所不能的TJ大神，也希望能够有小伙伴告诉我\x3ccode\x3evue-cli\x3c\/code\x3e它们是怎么实现的。\x3c\/p\x3e\n\x3cp\x3e这个脚手架只具备最基本的功能，还远远没有达到市面上同类产品的高度，在日后再慢慢填补吧，不管怎么说，完成SCION的过程中真的学习到了很多东西。\x3c\/p\x3e\n\x3cp\x3e感谢你的阅读。我是Jrain，欢迎关注\x3ca href=\x22https:\/\/segmentfault.com\/blog\/jrain\x22\x3e我的专栏\x3c\/a\x3e，将不定期分享自己的学习体验，开发心得，搬运墙外的干货。下次见啦！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>教你从零开始搭建一款前端脚手架工具</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006190814">https://segmentfault.com/a/1190000006190814</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ir9r7ezc7ym/" target="_blank">https://alili.tech/archive/ir9r7ezc7ym/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>