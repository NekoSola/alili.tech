<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="何为语法树"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>何为语法树 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e0p9tzo216k/",
				"appid": "1613049289050283", 
				"title": "何为语法树 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-13T02:31:22"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/yygh6a6kw2/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/13b3olmeeez/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&text=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&text=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&title=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&is_video=false&description=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&title=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&title=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&title=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe0p9tzo216k%2f&title=%e4%bd%95%e4%b8%ba%e8%af%ad%e6%b3%95%e6%a0%91"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">何为语法树</h1><div class="meta"><div class="postdate"><time datetime="2019-02-13" itemprop="datePublished">2019-02-13</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e原文链接：\x3ca href=\x22http:\/\/huang-jerryc.com\/2016\/03\/15\/%E4%BD%95%E4%B8%BA%E8%AF%AD%E6%B3%95%E6%A0%91\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBlueSun | 何为语法树\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是语法树？\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e你是否曾想过，这个世界存在这么多语言的意义。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e假如现在你面前有一个物体，它是一个不规则的圆体，整个身体通红，头部还有一根细长稍微弯曲偏右呈棕色的圆柱体。    \x3cbr\x3e在中文我们称之为「苹果」，    \x3cbr\x3e在英文我们称之为「Apple」，    \x3cbr\x3e在日文中我们称之为「アップル」，    \x3cbr\x3e在法语中我们称之为「pomme」，    \x3cbr\x3e在德语中我们称之为「Apfel」，    \x3cbr\x3e无论用不同的语言，针对这个物体在文字上、发音上都完全不一样，但这个物体确确实实的存在这个时空上，颜色、气味、形状都不曾因为语言而改变过。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e无论这个世界存在多少语言，它们所描述的真理都不曾改变过。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e或者说，真理就存在那里，可以用不同的语言的不同表达方式描述出来。那么计算机的世界，这么多编程的语言，C、C\x2b\x2b、Java、C#、JavaScript、Python、Go、Ruby等等等，它们共同所描述的真理是什么？\x3c\/p\x3e\n\x3cp\x3e我们知道人类语言上，无论什么语种，都会有「主语」「动词」「宾语」「标点符号」来描述一个现实世界所发生的事件。\x3cbr\x3e而在计算机编程语言上，无论什么语种，都会有「类型」「运算符」「流程语句」「函数」「对象」等概念来表达计算机中存在内存中的0和1，以及背后运算与逻辑。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e语法树，计算机描述世界真理的树状结构。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e不同的语言，都会配之不同的语法分析器，而语法分析器是把源代码作为字符串读入、解析，并建立语法树的程序。语法的设计和语法分析器的实现是决定语言外在表现的重要因素。    \x3cbr\x3e什么是语法树？摘自Wiki一段：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e在计算机科学中，抽象语法树（abstract syntax tree 或者缩写为 AST），或者语法树（syntax tree），是源代码的抽象语法结构的树状表现形式，这里特指编程语言的源代码。树上的每个节点都表示源代码中的一种结构。之所以说语法是「抽象」的，是因为这里的语法并不会表示出真实语法中出现的每个细节。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e一则简单的例子\x3c\/h2\x3e\n\x3cp\x3e如果我们需要让计算机帮忙算一下 「1加2再乘以3」 的结果，该怎么表达呢？    \x3cbr\x3e现在我们大多数的现代编程语言，都是使用「中缀表达式」的方式来编写运算，比如JavaScript：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(1 \x2b 2) * 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而FORTH语言则使用「后缀表达式」，这基本上与日语中的语序是一致的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x221 2 \x2b 3 *\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs basic\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3e1 \x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e *\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eLISP语言使用的「前缀表达式」：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22( * (\x2b 1 2) 3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clojure\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e( * (\x3cspan class=\x22hljs-name\x22\x3e\x3cspan class=\x22hljs-builtin-name\x22\x3e\x2b\x3c\/span\x3e\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们再看一下这三种表达式的语法树：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtuIY\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtuIY\x22 alt=\x22表达式语法树比较\x22 title=\x22表达式语法树比较\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看出，对于这三种简单的语言，它们只是在这个语法树上按不同的规则遍历而已。三者的代码看起来差别很大，但实际上所用的树结构是相同的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e先来看看Python的语法树\x3c\/h2\x3e\n\x3cp\x3e通过Python语言自带的库文件ast，我们可以查看特定的代码被转换成怎样的语法树。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e\x3e\x3e import ast\n\x3e\x3e\x3e ast.dump(ast.parse(\x26quot;(1 \x2b 2) * 3\x26quot;))\n\x27Module(\n    body=[\n        Expr(\n            value=BinOp(\n                left=BinOp(\n                    left=Num(n=1), \n                    op=Add(), \n                    right=Num(n=2)\n                ), \n                op=Mult(), \n                right=Num(n=3)\n            )\n        )\n    ]\n)\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\x26gt;\x26gt;\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3eimport\x3c\/span\x3e ast\n\x26gt;\x26gt;\x26gt; ast.dump(ast.parse(\x3cspan class=\x22hljs-string\x22\x3e\x22(1 \x2b 2) * 3\x22\x3c\/span\x3e))\n\x27Module(\n    \x3cspan class=\x22hljs-attr\x22\x3ebody=[\x3c\/span\x3e\n        Expr(\n            \x3cspan class=\x22hljs-attr\x22\x3evalue=BinOp(\x3c\/span\x3e\n                \x3cspan class=\x22hljs-attr\x22\x3eleft=BinOp(\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-attr\x22\x3eleft=Num(n=1),\x3c\/span\x3e \n                    \x3cspan class=\x22hljs-attr\x22\x3eop=Add(),\x3c\/span\x3e \n                    \x3cspan class=\x22hljs-attr\x22\x3eright=Num(n=2)\x3c\/span\x3e\n                ), \n                \x3cspan class=\x22hljs-attr\x22\x3eop=Mult(),\x3c\/span\x3e \n                \x3cspan class=\x22hljs-attr\x22\x3eright=Num(n=3)\x3c\/span\x3e\n            )\n        )\n    ]\n)\x27\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eBinOp op = Mult()\x3c\/code\x3e表示乘法运算，与\x3ccode\x3e*\x3c\/code\x3e相对应；    \x3cbr\x3e\x3ccode\x3eBinOp op = Add()\x3c\/code\x3e表示加法运算，与\x3ccode\x3e\x2b\x3c\/code\x3e相对应；    \x3cbr\x3e\x3ccode\x3eNum n = 1\x3c\/code\x3e既为数值1。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtuIZ\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtuIZ\x22 alt=\x22Python语法树\x22 title=\x22Python语法树\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e再窥视一下JavaScript的语法树\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e在语法复杂的语言中，语法树是包含很多细节的语法结果表达式，我们需要靠语法树把这种形式以更简洁的形式表达出来。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eJavascript 有不少工具可以把代码构造出清晰的语法树，比如 \x3ca href=\x22http:\/\/esprima.org\/%20\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eesprima\x3c\/a\x3e、\x3ca href=\x22https:\/\/code.google.com\/p\/v8\/source\/browse\/branches\/bleeding_edge\/src\/ast.h\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ev8\x3c\/a\x3e、\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Mozilla\/Projects\/SpiderMonkey\/Parser_API\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSpiderMonkey\x3c\/a\x3e、\x3ca href=\x22http:\/\/lisperator.net\/uglifyjs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eUglifyJS\x3c\/a\x3e、\x3ca href=\x22http:\/\/astexplorer.net\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAST explorer\x3c\/a\x3e等。\x3c\/p\x3e\n\x3cp\x3e这里，我使用「esprima」来探讨一下JavaScript运算\x3ccode\x3e(1 \x2b 2) * 3\x3c\/code\x3e的语法树。\x3c\/p\x3e\n\x3cp\x3ejavascript code:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(1 \x2b 2)* 3;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e)* \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3east for json:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;type\x26quot;: \x26quot;Program\x26quot;,\n    \x26quot;body\x26quot;: [\n        {\n            \x26quot;type\x26quot;: \x26quot;ExpressionStatement\x26quot;,\n            \x26quot;expression\x26quot;: {\n                \x26quot;type\x26quot;: \x26quot;BinaryExpression\x26quot;,\n                \x26quot;operator\x26quot;: \x26quot;*\x26quot;,\n                \x26quot;left\x26quot;: {\n                    \x26quot;type\x26quot;: \x26quot;BinaryExpression\x26quot;,\n                    \x26quot;operator\x26quot;: \x26quot;\x2b\x26quot;,\n                    \x26quot;left\x26quot;: {\n                        \x26quot;type\x26quot;: \x26quot;Literal\x26quot;,\n                        \x26quot;value\x26quot;: 1,\n                        \x26quot;raw\x26quot;: \x26quot;1\x26quot;\n                    },\n                    \x26quot;right\x26quot;: {\n                        \x26quot;type\x26quot;: \x26quot;Literal\x26quot;,\n                        \x26quot;value\x26quot;: 2,\n                        \x26quot;raw\x26quot;: \x26quot;2\x26quot;\n                    }\n                },\n                \x26quot;right\x26quot;: {\n                    \x26quot;type\x26quot;: \x26quot;Literal\x26quot;,\n                    \x26quot;value\x26quot;: 3,\n                    \x26quot;raw\x26quot;: \x26quot;3\x26quot;\n                }\n            }\n        }\n    ],\n    \x26quot;sourceType\x26quot;: \x26quot;script\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Program\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22body\x22\x3c\/span\x3e: [\n        {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22ExpressionStatement\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22expression\x22\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22BinaryExpression\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22operator\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22*\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22left\x22\x3c\/span\x3e: {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22BinaryExpression\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22operator\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x2b\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22left\x22\x3c\/span\x3e: {\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Literal\x22\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22raw\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e\n                    },\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22right\x22\x3c\/span\x3e: {\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Literal\x22\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-attr\x22\x3e\x22raw\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x222\x22\x3c\/span\x3e\n                    }\n                },\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22right\x22\x3c\/span\x3e: {\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Literal\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3e\x22raw\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x223\x22\x3c\/span\x3e\n                }\n            }\n        }\n    ],\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22sourceType\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22script\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ebody\x3c\/code\x3e表示程序体，而程序体中包含了一则表达式\x3ccode\x3eExpressionStatement\x3c\/code\x3e, 表达式体里包含了操作符 \x3ccode\x3e*\x3c\/code\x3e,以及左右两边表达式，其中右边是数字\x3ccode\x3e3\x3c\/code\x3e,而左边表达式还包含一层表达式，里面是一个\x3ccode\x3e\x2b\x3c\/code\x3e 操作符，以及左右两边分别为\x3ccode\x3e1\x3c\/code\x3e和\x3ccode\x3e2\x3c\/code\x3e的数字。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVtuI5\x22 src=\x22https:\/\/static.alili.tech\/img\/bVtuI5\x22 alt=\x22javascript语法树\x22 title=\x22javascript语法树\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果还没有看懂，你可以到这里看一下这段代码所生成的语法树：\x3ca href=\x22http:\/\/esprima.org\/demo\/parse.html?code=%2F%2F%20Life%2C%20Universe%2C%20and%20Everything%0A(1%20%2B%202%5C\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAST for (1 \x2b 2)* 3;\x3c\/a\x3e*%203%0A)\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e我们可以利用语法树做些什么？\x3c\/h2\x3e\n\x3cp\x3e看到这里你可能会问，知道语法是又有什么用呢？跟我日常编写代码貌似半毛钱关系都没有。其实语法树还是很有用的，想一下如果想做「语法高亮」、「关键字匹配」、「作用域判断」、以及「代码压缩」等等，都是最好把代码解构成语法树之后再去各种操作，当然仅仅解构还不够，还需要提供各种函数去遍历与修改语法树。\x3c\/p\x3e\n\x3cp\x3e另一方面，去研究、去探讨计算机真实的世界不是一个很精彩很刺激的过程么？\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>何为语法树</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004607288">https://segmentfault.com/a/1190000004607288</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/e0p9tzo216k/" target="_blank">https://alili.tech/archive/e0p9tzo216k/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>