<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【ES6】迭代器与可迭代对象"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【ES6】迭代器与可迭代对象 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vjzydjcscsb/",
				"appid": "1613049289050283", 
				"title": "【ES6】迭代器与可迭代对象 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-14T02:30:37"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/9aew60voxm6/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6om0tjj0yfa/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&text=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&text=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&title=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&is_video=false&description=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&title=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&title=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&title=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvjzydjcscsb%2f&title=%e3%80%90ES6%e3%80%91%e8%bf%ad%e4%bb%a3%e5%99%a8%e4%b8%8e%e5%8f%af%e8%bf%ad%e4%bb%a3%e5%af%b9%e8%b1%a1"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【ES6】迭代器与可迭代对象</h1><div class="meta"><div class="postdate"><time datetime="2019-02-14" itemprop="datePublished">2019-02-14</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3eES6 新的数组方法、集合、for-of 循环、展开运算符（...）甚至异步编程都依赖于迭代器（Iterator ）实现。本文会详解 ES6 的迭代器与生成器，并进一步挖掘可迭代对象的内部原理与使用方法\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e一、迭代器的原理\x3c\/h1\x3e\n\x3cblockquote\x3e在编程语言中处理数组或集合时，使用循环语句必须要初始化一个变量记录迭代位置，而程序化地使用迭代器可以简化这种数据操作\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e如何设计一个迭代器呢？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e迭代器的本身是一个对象，这个对象有 next( ) 方法返回结果对象，这个结果对象有下一个返回值 value、迭代完成布尔值 done，模拟创建一个简单迭代器如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function createIterator(iterms) {\n  let i = 0\n  return {\n    next() {\n      let done = (i \x3e= iterms.length)\n      let value = !done ? iterms[i\x2b\x2b] : undefined\n      return {\n        done,\n        value\n      }\n    }\n  }\n}\n\nlet arrayIterator = createIterator([1, 2, 3])\n\nconsole.log(arrayIterator.next()) \/\/ { done: false, value: 1 }\nconsole.log(arrayIterator.next()) \/\/ { done: false, value: 2 }\nconsole.log(arrayIterator.next()) \/\/ { done: false, value: 3 }\nconsole.log(arrayIterator.next()) \/\/ { done: true, value: undefined }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eiterms\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    next() {\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e done = (i \x26gt;= iterms.length)\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e value = !done ? iterms[i\x2b\x2b] : \x3cspan class=\x22hljs-literal\x22\x3eundefined\x3c\/span\x3e\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        done,\n        value\n      }\n    }\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e arrayIterator = createIterator([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e])\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arrayIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { done: false, value: 1 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arrayIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { done: false, value: 2 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arrayIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { done: false, value: 3 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(arrayIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { done: true, value: undefined }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e对以上语法感到困惑的，可参考：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000016746873\x22\x3e【ES6】对象的新功能与解构赋值\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e每次调用迭代器的 next( ) 都会返回下一个对象，直到数据集被用尽。\x3c\/p\x3e\n\x3cp\x3eES6 中迭代器的编写规则类似，但引入了\x3cstrong\x3e生成器对象\x3c\/strong\x3e，更简单的创建迭代器对象\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e二、创建迭代器\x3c\/h1\x3e\n\x3cp\x3eES6 封装了一个\x3cstrong\x3e生成器\x3c\/strong\x3e用来创建迭代器。显然生成器是返回迭代器的函数，这个函数通过 function 后的星号（*）表示，并使用新的\x3cstrong\x3e内部专用\x3c\/strong\x3e关键字\x3ccode\x3eyield\x3c\/code\x3e指定迭代器 next( ) 方法的返回值。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e如何使用 ES6 生成器创建一个迭代器呢？\x3c\/strong\x3e一个简单的例子如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function *createIterator() {\n  yield 123;\n  yield \x27someValue\x27\n}\n\nlet someIterator = createIterator()\n\nconsole.log(someIterator.next()) \/\/ { value: 123, done: false }\nconsole.log(someIterator.next()) \/\/ { value: \x27someValue\x27, done: false }\nconsole.log(someIterator.next()) \/\/ { value: undefined, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27someValue\x27\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e someIterator = createIterator()\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: 123, done: false }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: \x27someValue\x27, done: false }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: undefined, done: true }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用\x3ccode\x3eyield\x3c\/code\x3e关键字可以返回任意值或表达式，可以给迭代器批量添加元素：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ let createIterator = function *(items) { \/\/ 生成器函数表达式\nfunction *createIterator(items) {\n  for (let i = 0; i \x3c items.length; i\x2b\x2b) {\n    yield items[i]\n  }\n}\n\nlet someIterator = createIterator([123, \x27someValue\x27])\n\nconsole.log(someIterator.next()) \/\/ { value: 123, done: false }\nconsole.log(someIterator.next()) \/\/ { value: \x27someValue\x27, done: false }\nconsole.log(someIterator.next()) \/\/ { value: undefined, done: true }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ let createIterator = function *(items) { \/\/ 生成器函数表达式\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e *\x3cspan class=\x22hljs-title\x22\x3ecreateIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitems\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; items.length; i\x2b\x2b) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e items[i]\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e someIterator = createIterator([\x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someValue\x27\x3c\/span\x3e])\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: 123, done: false }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: \x27someValue\x27, done: false }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(someIterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: undefined, done: true }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于生成器本身是函数，所以可添加到对象中，使用方式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let obj = {\n  \/\/ createIterator: function *(items) { \/\/ ES5\n  *createIterator(items) { \/\/ ES6\n    for (let i = 0; i \x3c items.length; i\x2b\x2b) {\n      yield items[i]\n    }\n  }\n}\nlet someIterator = obj.createIterator([123, \x27someValue\x27])\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj = {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ createIterator: function *(items) { \/\/ ES5\x3c\/span\x3e\n  *createIterator(items) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES6\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; items.length; i\x2b\x2b) {\n      \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e items[i]\n    }\n  }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e someIterator = obj.createIterator([\x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27someValue\x27\x3c\/span\x3e])\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e生成器函数的一个特点是，\x3cstrong\x3e当执行完一句 yield 语句后函数会自动停止执行\x3c\/strong\x3e，再次调用迭代器的 next( ) 方法才会继续执行下一个 yield 语句。\x3cbr\x3e这种\x3cstrong\x3e自动中止函数执行\x3c\/strong\x3e的能力衍生出很多高级用法。\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e三、可迭代对象\x3c\/h1\x3e\n\x3cp\x3e在 ES6 中常用的\x3cstrong\x3e集合对象（数组、Set\/Map集合）和字符串都是可迭代对象\x3c\/strong\x3e，这些对象都有默认的迭代器和\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e通过生成器创建的迭代器也是可迭代对象\x3c\/strong\x3e，因为生成器默认会为\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性赋值。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e3.1 Symbol.iterator\x3c\/h2\x3e\n\x3cp\x3e可迭代对象具有\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性，即具有\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性的对象都有默认迭代器。\x3c\/p\x3e\n\x3cp\x3e我们可以用\x3ccode\x3eSymbol.iterator\x3c\/code\x3e来\x3cstrong\x3e访问对象的默认迭代器\x3c\/strong\x3e，例如对于一个数组：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let list = [11, 22, 33]\nlet iterator = list[Symbol.iterator]()\nconsole.log(iterator.next()) \/\/ { value: 11, done: false }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e list = [\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e]\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = list[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator]()\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(iterator.next()) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ { value: 11, done: false }\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eSymbol.iterator\x3c\/code\x3e获得了数组这个可迭代对象的默认迭代器，并操作它遍历了数组中的元素。\x3c\/p\x3e\n\x3cp\x3e反之，我们可以用\x3ccode\x3eSymbol.iterator\x3c\/code\x3e来\x3cstrong\x3e检测对象是否为可迭代对象\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function isIterator(obj) {\n  return typeof obj[Symbol.iterator] === \x27function\x27\n}\n\nconsole.log(isIterator([11, 22, 33])) \/\/ true\nconsole.log(isIterator(\x27sometring\x27)) \/\/ true\nconsole.log(isIterator(new Map())) \/\/ true\nconsole.log(isIterator(new Set())) \/\/ true\nconsole.log(isIterator(new WeakMap())) \/\/ false\nconsole.log(isIterator(new WeakSet())) \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eisIterator\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e obj[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator] === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator([\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e])) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(\x3cspan class=\x22hljs-string\x22\x3e\x27sometring\x27\x3c\/span\x3e)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e())) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e())) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eWeakMap\x3c\/span\x3e())) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eWeakSet\x3c\/span\x3e())) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e显然数组、Set\/Map 集合、字符串都是可迭代对象，而 WeakSet\/WeakMap 集合（弱引用集合）是不可迭代的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e3.2 创建可迭代对象\x3c\/h2\x3e\n\x3cp\x3e默认情况下，自定义的对象都是不可迭代的。\x3c\/p\x3e\n\x3cp\x3e刚才讲过，通过生成器创建的迭代器也是一种可迭代对象，生成器默认会为\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性赋值。\x3c\/p\x3e\n\x3cp\x3e那如何\x3cstrong\x3e将自定义对象变为可迭代对象\x3c\/strong\x3e呢？通过给\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性添加一个生成器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let collection = {\n  items: [11,22,33],\n  *[Symbol.iterator]() {\n    for (let item of this.items){\n      yield item\n    }\n  }\n}\n\nconsole.log(isIterator(collection)) \/\/ true\n\nfor (let item of collection){\n  console.log(item) \/\/ 11 22 33\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e collection = {\n  \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e],\n  *[\x3cspan class=\x22hljs-built_in\x22\x3eSymbol\x3c\/span\x3e.iterator]() {\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.items){\n      \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e item\n    }\n  }\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(isIterator(collection)) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e collection){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 11 22 33\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e数组 items 是可迭代对象，collection 对象通过给\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性赋值也成为可迭代对象。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e3.3 for-of\x3c\/h2\x3e\n\x3cp\x3e注意到上个栗子使用了\x3ccode\x3efor-of\x3c\/code\x3e代替索引循环，\x3ccode\x3efor-of\x3c\/code\x3e是 ES6 为可迭代对象新加入的特性。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e思考一下\x3ccode\x3efor-of\x3c\/code\x3e循环的实现原理\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e对于使用\x3ccode\x3efor-of\x3c\/code\x3e的可迭代对象，\x3ccode\x3efor-of\x3c\/code\x3e每执行一次就会调用这个可迭代对象的 next( )，并将返回结果存储在一个变量中，持续执行直到可迭代对象 done 属性值为 false。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 迭代一个字符串\nlet str = \x27somestring\x27\n\nfor (let item of str){\n  console.log(item) \/\/ s o m e s t r i n g\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 迭代一个字符串\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e str = \x3cspan class=\x22hljs-string\x22\x3e\x27somestring\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e str){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ s o m e s t r i n g\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本质上来说，\x3ccode\x3efor-of\x3c\/code\x3e调用 str 字符串的\x3ccode\x3eSymbol.iterator\x3c\/code\x3e属性方法获取迭代器（这个过程由 JS 引擎完成），然后多次调用 next( ) 方法将对象 value 值存储在 item 变量。\x3c\/p\x3e\n\x3cblockquote\x3e将\x3ccode\x3efor-of\x3c\/code\x3e用于不可迭代对象、null 或 undefined 会报错！\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e3.4 展开运算符（...）\x3c\/h2\x3e\n\x3cp\x3eES6 语法糖\x3cstrong\x3e展开运算符（...）也是服务于可迭代对象\x3c\/strong\x3e，即只可以“展开”数组、集合、字符串、自定义可迭代对象。\x3c\/p\x3e\n\x3cp\x3e以下栗子输出不同可迭代对象展开运算符计算的结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let str = \x27somestring\x27\nconsole.log(...str) \/\/ s o m e s t r i n g\n\n\nlet set = new Set([1, 2, 2, 5, 8, 8, 8, 9])\nconsole.log(set) \/\/ Set { 1, 2, 5, 8, 9 }\nconsole.log(...set) \/\/ 1 2 5 8 9\n\n\nlet map = new Map([[\x27name\x27, \x27jenny\x27], [\x27id\x27, 123]])\nconsole.log(map) \/\/ Map { \x27name\x27 =\x3e \x27jenny\x27, \x27id\x27 =\x3e 123 }\nconsole.log(...map) \/\/ [ \x27name\x27, \x27jenny\x27 ] [ \x27id\x27, 123 ]\n\n\nlet num1 = [1, 2, 3], num2 = [7, 8, 9]\nconsole.log([...num1, ...num2]) \/\/ [ 1, 2, 3, 7, 8, 9 ]\n\n\nlet udf\nconsole.log(...udf) \/\/ TypeError: undefined is not iterable\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e str = \x3cspan class=\x22hljs-string\x22\x3e\x27somestring\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(...str) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ s o m e s t r i n g\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e set = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e])\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(set) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set { 1, 2, 5, 8, 9 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(...set) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1 2 5 8 9\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e map = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e([[\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27jenny\x27\x3c\/span\x3e], [\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e]])\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(map) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Map { \x27name\x27 =\x26gt; \x27jenny\x27, \x27id\x27 =\x26gt; 123 }\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(...map) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [ \x27name\x27, \x27jenny\x27 ] [ \x27id\x27, 123 ]\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e num1 = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e], num2 = [\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e]\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log([...num1, ...num2]) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [ 1, 2, 3, 7, 8, 9 ]\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e udf\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(...udf) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ TypeError: undefined is not iterable\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由以上代码可以看出，展开运算符（...）可以便捷地将可迭代对象转换为数组。同\x3ccode\x3efor-of\x3c\/code\x3e一样，展开运算符（...）用于不可迭代对象、null 或 undefined 会报错！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader7\x22\x3e四. 默认迭代器\x3c\/h1\x3e\n\x3cp\x3eES6 为很多内置对象提供了默认的迭代器，只有当内建的迭代器不能满足需求时才自己创建迭代器。\x3c\/p\x3e\n\x3cp\x3eES6 的 三个集合对象：Set、Map、Array 都有默认的迭代器，常用的如\x3ccode\x3evalues()\x3c\/code\x3e方法、\x3ccode\x3eentries()\x3c\/code\x3e方法都返回一个迭代器，其值区别如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3eentries()\x3c\/code\x3e：多个键值对\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3evalues()\x3c\/code\x3e：集合的值\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3ekeys()\x3c\/code\x3e：集合的键\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e调用以上方法都可以得到集合的迭代器，并使用\x3ccode\x3efor-of\x3c\/code\x3e循环，示例如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/******** Map ***********\/\nlet map = new Map([[\x27name\x27, \x27jenny\x27], [\x27id\x27, 123]])\n\nfor(let item of map.entries()){\n  console.log(item) \/\/ [ \x27name\x27, \x27jenny\x27 ]  [ \x27id\x27, 123 ]\n}\nfor(let item of map.keys()){\n  console.log(item) \/\/ name id\n}\nfor (let item of map.values()) {\n  console.log(item) \/\/ jenny 123\n}\n\n\/******** Set ***********\/\nlet set = new Set([1, 4, 4, 5, 5, 5, 6, 6,])\n\nfor(let item of set.entries()){\n  console.log(item) \/\/ [ 1, 1 ] [ 4, 4 ] [ 5, 5 ] [ 6, 6 ]\n}\n\n\/********* Array **********\/\nlet array = [11, 22, 33]\n\nfor(let item of array.entries()){\n  console.log(item) \/\/ [ 0, 11 ] [ 1, 22 ] [ 2, 33 ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/******** Map ***********\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e map = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eMap\x3c\/span\x3e([[\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27jenny\x27\x3c\/span\x3e], [\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e]])\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e map.entries()){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [ \x27name\x27, \x27jenny\x27 ]  [ \x27id\x27, 123 ]\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e map.keys()){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ name id\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e map.values()) {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ jenny 123\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/******** Set ***********\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e set = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e,])\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e set.entries()){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [ 1, 1 ] [ 4, 4 ] [ 5, 5 ] [ 6, 6 ]\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/********* Array **********\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e array = [\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e]\n\n\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e item \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e array.entries()){\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(item) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [ 0, 11 ] [ 1, 22 ] [ 2, 33 ]\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此外 String 和 NodeList 类型都有默认的迭代器，虽然没有提供其它的方法，但可以用\x3ccode\x3efor-of\x3c\/code\x3e循环\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3cem\x3e推荐阅读《深入理解ES6》\x3c\/em\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch4\x3e加油哦~ 少年！\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiSAN?w=750\x26amp;h=359\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiSAN?w=750\x26amp;h=359\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【ES6】迭代器与可迭代对象</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016824284">https://segmentfault.com/a/1190000016824284</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vjzydjcscsb/" target="_blank">https://alili.tech/archive/vjzydjcscsb/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>