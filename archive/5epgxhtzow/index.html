<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="为了监视快递小哥，我做了一个小程序！"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>为了监视快递小哥，我做了一个小程序！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/5epgxhtzow/",
				"appid": "1613049289050283", 
				"title": "为了监视快递小哥，我做了一个小程序！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-04T02:30:58"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/gk3jt7wb26h/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/y465y3hhhn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&text=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&text=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&title=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&is_video=false&description=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&title=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&title=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&title=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5epgxhtzow%2f&title=%e4%b8%ba%e4%ba%86%e7%9b%91%e8%a7%86%e5%bf%ab%e9%80%92%e5%b0%8f%e5%93%a5%ef%bc%8c%e6%88%91%e5%81%9a%e4%ba%86%e4%b8%80%e4%b8%aa%e5%b0%8f%e7%a8%8b%e5%ba%8f%ef%bc%81"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">为了监视快递小哥，我做了一个小程序！</h1><div class="meta"><div class="postdate"><time datetime="2019-02-04" itemprop="datePublished">2019-02-04</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e我感觉我可以在电脑上查看快递小哥离我有多远了!\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e应用演示地址: \x3ca href=\x22http:\/\/geomap.wilddogapp.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/geomap.wilddogapp.com\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e源码下载: \x3ca href=\x22http:\/\/git.oschina.net\/chengxinxin\/wildGeo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/git.oschina.net\/chengxinxin\/wildGeo\x3c\/a\x3e 下载到本地解压后即可运行。由于流量问题,请先替换源码\x3ccode\x3edelivery.js\x3c\/code\x3e中的\x3ccode\x3eappId\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eappId注册链接: \x3ca href=\x22https:\/\/www.wilddog.com\/my-account\/signup\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.wilddog.com\/my-account\/signup\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006839324\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006839324\x22 alt=\x22添加应用\x22 title=\x22添加应用\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006839325\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006839325\x22 alt=\x22appId\x22 title=\x22appId\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e我们来看一下代码。\x3c\/h4\x3e\n\x3cp\x3e从地图展现的程度来说,这个地图布局基本没有难度。如果你对我这么说感到疑惑那么我建议你可以看看这个: \x3ca href=\x22http:\/\/lbs.amap.com\/api\/javascript-api\/example\/map\/map-show\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e高德地图示例中心\x3c\/a\x3e。你应该很快可以构建出想wildGeo这样的界面。如果你对此表示有难度的话,请拷贝下面的代码到一个空白的HTML文件中:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!doctype html\x3e\n\x3chtml\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;utf-8\x26quot;\x3e\n    \x3cmeta http-equiv=\x26quot;X-UA-Compatible\x26quot; content=\x26quot;IE=edge\x26quot;\x3e\n    \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;initial-scale=1.0, user-scalable=no, width=device-width\x26quot;\x3e\n    \x3ctitle\x3e基本地图展示\x3c\/title\x3e\n    \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;http:\/\/cache.amap.com\/lbs\/static\/main1119.css\x26quot;\/\x3e\n    \x3cscript src=\x26quot;http:\/\/cache.amap.com\/lbs\/static\/es5.min.js\x26quot;\x3e\x3c\/script\x3e\n    \x3cscript src=\x26quot;http:\/\/webapi.amap.com\/maps?v=1.3\x26amp;key=您申请的key值\x26quot;\x3e\x3c\/script\x3e\n    \x3cscript type=\x26quot;text\/javascript\x26quot; src=\x26quot;http:\/\/cache.amap.com\/lbs\/static\/addToolbar.js\x26quot;\x3e\x3c\/script\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n\x3cdiv id=\x26quot;container\x26quot;\x3e\x3c\/div\x3e\n\x3cscript\x3e\n    var map = new AMap.Map(\x27container\x27, {\n        resizeEnable: true,\n        zoom:11,\n        center: [116.397428, 39.90923]\n        \n    });\n\x3c\/script\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!doctype html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehttp-equiv\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22X-UA-Compatible\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22IE=edge\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22initial-scale=1.0, user-scalable=no, width=device-width\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e基本地图展示\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cache.amap.com\/lbs\/static\/main1119.css\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cache.amap.com\/lbs\/static\/es5.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/webapi.amap.com\/maps?v=1.3\x26amp;key=您申请的key值\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cache.amap.com\/lbs\/static\/addToolbar.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e map = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.Map(\x3cspan class=\x22hljs-string\x22\x3e\x27container\x27\x3c\/span\x3e, {\n        resizeEnable: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n        zoom:\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e,\n        center: [\x3cspan class=\x22hljs-number\x22\x3e116.397428\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e39.90923\x3c\/span\x3e]\n        \n    });\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样你就可以在浏览器中打开一张地图了。\x3c\/p\x3e\n\x3ch4\x3e下面我们该干什么了? Coding!\x3c\/h4\x3e\n\x3cp\x3e我们需要在地图上标注配送站的信息,高德地图上叫做 \x3ca href=\x22http:\/\/lbs.amap.com\/api\/javascript-api\/example\/marker\/custom-icon-content\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e自定义标记覆盖物\x3c\/a\x3e,野狗的wildGeo工程师是这样写的:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/自定义点标记内容   \n    var stationMarkerContent = document.createElement(\x26quot;div\x26quot;);\n    stationMarkerContent.className = \x26quot;markerContentStyle\x26quot;;\n        \n    \/\/点标记中的图标\n    var stationMarkerImg = document.createElement(\x26quot;img\x26quot;);\n    stationMarkerImg.className = \x26quot;markerlnglat\x26quot;;\n    stationMarkerImg.src =\x26quot;http:\/\/webapi.amap.com\/images\/marker_sprite.png\x26quot;;\n    stationMarkerContent.appendChild(stationMarkerImg);\n         \n    \/\/点标记中的文本\n    var stationMarkerSpan = document.createElement(\x26quot;span\x26quot;);\n    stationMarkerSpan.innerHTML = \x27配送站\x27;\n    stationMarkerSpan.setAttribute(\x26quot;class\x26quot;, \x26quot;span1\x26quot;)\n    stationMarkerContent.appendChild(stationMarkerSpan);\n\n    var stationMarker  = new AMap.Marker({ \/\/AMap.Marker是非常重要的点,关于样式如果不是很符合你的要求,你可以手动去改!\n        map:map,\n        position:new AMap.LngLat(116.408032,39.897614),\/\/基点位置\n        autoRotation:false,\n        content: stationMarkerContent \/\/自定义点标记覆盖物内容,这个地方可以直接写HTML文件\n    });\n    \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记内容   \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerContent = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e);\n    stationMarkerContent.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerContentStyle\x22\x3c\/span\x3e;\n        \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的图标\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerImg = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e);\n    stationMarkerImg.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerlnglat\x22\x3c\/span\x3e;\n    stationMarkerImg.src =\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/webapi.amap.com\/images\/marker_sprite.png\x22\x3c\/span\x3e;\n    stationMarkerContent.appendChild(stationMarkerImg);\n         \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的文本\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerSpan = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22span\x22\x3c\/span\x3e);\n    stationMarkerSpan.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27配送站\x27\x3c\/span\x3e;\n    stationMarkerSpan.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22class\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22span1\x22\x3c\/span\x3e)\n    stationMarkerContent.appendChild(stationMarkerSpan);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarker  = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.Marker({ \x3cspan class=\x22hljs-comment\x22\x3e\/\/AMap.Marker是非常重要的点,关于样式如果不是很符合你的要求,你可以手动去改!\x3c\/span\x3e\n        map:map,\n        position:\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.LngLat(\x3cspan class=\x22hljs-number\x22\x3e116.408032\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e39.897614\x3c\/span\x3e),\x3cspan class=\x22hljs-comment\x22\x3e\/\/基点位置\x3c\/span\x3e\n        autoRotation:\x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e,\n        content: stationMarkerContent \x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记覆盖物内容,这个地方可以直接写HTML文件\x3c\/span\x3e\n    });\n    \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e野狗工程师在做wildGeo用的是JavaScript来做的,他定义了一个 \x3ccode\x3estationMarkerContent\x3c\/code\x3e 来盛放自定义标记覆盖物的内容。之后把\x3ccode\x3e标价覆盖物\x3c\/code\x3e的HTML代码构造好了放到了 \x3ccode\x3eAMap.Marker\x3c\/code\x3e 对象的\x3ccode\x3econtent\x3c\/code\x3e中。你当然可以直接在\x3ccode\x3econtent\x3c\/code\x3e中写好你构造好的\x3ccode\x3eHTML代码\x3c\/code\x3e字符串。\x3c\/p\x3e\n\x3cp\x3e完成以上的步骤,客户实现的效果是,一张地图,之后会有一个配送站地理位置图标,和配送站三个文字。\x3c\/p\x3e\n\x3cp\x3e因为我们需要确定是地图上任意一个点上某个范围内的送餐员电话,所以我们需要一某个点为中心画圆,当然,高德地图给我们提供了这样的一个接口。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var circle = new AMap.Circle({ \n        map:map,\/\/map指的是你创建的地图对象,就是这篇文章第五个代码块中的那个map对象\n         center:loc,\/\/ 圆心位置\n        radius:(1500), \/\/半径\n        strokeColor: \x26quot;#6D3099\x26quot;, \/\/线颜色\n        strokeOpacity: 1, \/\/线透明度\n        strokeWeight: 3, \/\/线粗细度\n        fillColor: \x26quot;#B650FF\x26quot;, \/\/填充颜色\n        fillOpacity: 0.35\/\/填充透明度\n\n    }); \n    \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3evar circle = new AMap.Circle({ \n\x3cspan class=\x22hljs-symbol\x22\x3e        map:\x3c\/span\x3emap,\x3cspan class=\x22hljs-comment\x22\x3e\/\/map指的是你创建的地图对象,就是这篇文章第五个代码块中的那个map对象\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e         center:\x3c\/span\x3eloc,\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 圆心位置\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        radius:\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e1500\x3c\/span\x3e), \x3cspan class=\x22hljs-comment\x22\x3e\/\/半径\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        strokeColor:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22#6D3099\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线颜色\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        strokeOpacity:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线透明度\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        strokeWeight:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线粗细度\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        fillColor:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22#B650FF\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/填充颜色\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        fillOpacity:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0.35\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/填充透明度\x3c\/span\x3e\n\n    }); \n    \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e之后地图上会有一个出现一个表示范围的圆环。下面就是野狗实施后端云大显身手的时间了! 别忘记注册 \x3ca href=\x22https:\/\/www.wilddog.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e野狗\x3c\/a\x3e 账号\x3c\/p\x3e\n\x3cp\x3e首先,如果你要通过 \x3ccode\x3ectrl\x2bc\x3c\/code\x3e 和 \x3ccode\x3ectrl\x2bp\x3c\/code\x3e 之后代码就可以使用的话,你一定要了解后台的数据结构。wildGeo数据结构如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    \x26quot;_geofire\x26quot;: {\n        \x26quot;beijing:0000\x26quot;: {\n            \x26quot;g\x26quot;: \x26quot;wx4dwxwtp8\x26quot;, \n            \x26quot;l\x26quot;: [\n                39.856513, \n                116.310528\n            ]\n        }, \n        \x26quot;beijing:0001\x26quot;: {\n            \x26quot;g\x26quot;: \x26quot;wx4en9qsrw\x26quot;, \n            \x26quot;l\x26quot;: [\n                39.909971999999996, \n                116.310528\n            ]\n        }, \n        \x26quot;beijing:0100\x26quot;: {\n            \x26quot;g\x26quot;: \x26quot;wx4f8rstp8\x26quot;, \n            \x26quot;l\x26quot;: [\n                39.856513, \n                116.3846855\n            ]\n        }, \n        \x26quot;beijing:0101\x26quot;: {\n            \x26quot;g\x26quot;: \x26quot;wx4g03ksrw\x26quot;, \n            \x26quot;l\x26quot;: [\n                39.909971999999996, \n                116.3846855\n            ]\n        }\n    }, \n    \x26quot;beijing\x26quot;: {\n        \x26quot;delivery\x26quot;: {\n            \x26quot;0000\x26quot;: {\n                \x26quot;id\x26quot;: \x26quot;0000\x26quot;, \n                \x26quot;lat\x26quot;: 39.856513, \n                \x26quot;lng\x26quot;: 116.310528\n            }, \n            \x26quot;0001\x26quot;: {\n                \x26quot;id\x26quot;: \x26quot;0001\x26quot;, \n                \x26quot;lat\x26quot;: 39.909971999999996, \n                \x26quot;lng\x26quot;: 116.310528\n            }, \n            \x26quot;0100\x26quot;: {\n                \x26quot;id\x26quot;: \x26quot;0100\x26quot;, \n                \x26quot;lat\x26quot;: 39.856513, \n                \x26quot;lng\x26quot;: 116.3846855\n            }, \n            \x26quot;0101\x26quot;: {\n                \x26quot;id\x26quot;: \x26quot;0101\x26quot;, \n                \x26quot;lat\x26quot;: 39.909971999999996, \n                \x26quot;lng\x26quot;: 116.3846855\n            }\n        }\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22_geofire\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22beijing:0000\x22\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22g\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22wx4dwxwtp8\x22\x3c\/span\x3e, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x22l\x22\x3c\/span\x3e: [\n                \x3cspan class=\x22hljs-number\x22\x3e39.856513\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-number\x22\x3e116.310528\x3c\/span\x3e\n            ]\n        }, \n        \x3cspan class=\x22hljs-attr\x22\x3e\x22beijing:0001\x22\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22g\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22wx4en9qsrw\x22\x3c\/span\x3e, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x22l\x22\x3c\/span\x3e: [\n                \x3cspan class=\x22hljs-number\x22\x3e39.909971999999996\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-number\x22\x3e116.310528\x3c\/span\x3e\n            ]\n        }, \n        \x3cspan class=\x22hljs-attr\x22\x3e\x22beijing:0100\x22\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22g\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22wx4f8rstp8\x22\x3c\/span\x3e, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x22l\x22\x3c\/span\x3e: [\n                \x3cspan class=\x22hljs-number\x22\x3e39.856513\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-number\x22\x3e116.3846855\x3c\/span\x3e\n            ]\n        }, \n        \x3cspan class=\x22hljs-attr\x22\x3e\x22beijing:0101\x22\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x22g\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22wx4g03ksrw\x22\x3c\/span\x3e, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x22l\x22\x3c\/span\x3e: [\n                \x3cspan class=\x22hljs-number\x22\x3e39.909971999999996\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-number\x22\x3e116.3846855\x3c\/span\x3e\n            ]\n        }\n    }, \n    \x3cspan class=\x22hljs-attr\x22\x3e\x22beijing\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22delivery\x22\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3e\x220000\x22\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220000\x22\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lat\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e39.856513\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lng\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e116.310528\x3c\/span\x3e\n            }, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x220001\x22\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220001\x22\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lat\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e39.909971999999996\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lng\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e116.310528\x3c\/span\x3e\n            }, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x220100\x22\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220100\x22\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lat\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e39.856513\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lng\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e116.3846855\x3c\/span\x3e\n            }, \n            \x3cspan class=\x22hljs-attr\x22\x3e\x220101\x22\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-attr\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220101\x22\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lat\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e39.909971999999996\x3c\/span\x3e, \n                \x3cspan class=\x22hljs-attr\x22\x3e\x22lng\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e116.3846855\x3c\/span\x3e\n            }\n        }\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你们一定要明白数据结构和数据的区别!你可以把上面的数据复制到本地的一个json文件中,之后导入到你的野狗app里面去。\x3cbr\x3e之后建立也野狗对象\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/map variable\nvar map;\n\n\/\/ Set the center as Wilddog HQ\nvar locations = {\n  \x26quot;WilddogHQ\x26quot;: [39.897614,116.408032]\n};\nvar center = locations[\x26quot;WilddogHQ\x26quot;];\n\n\/\/ Get a reference to the Wilddog public transit open data set\nvar transitWilddogRef = new Wilddog(\x26quot;https:\/\/\x3cappId\x3e.wilddogio.com\/\x26quot;)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs go\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/map variable\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3emap\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set the center as Wilddog HQ\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e locations = {\n  \x3cspan class=\x22hljs-string\x22\x3e\x22WilddogHQ\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e39.897614\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e116.408032\x3c\/span\x3e]\n};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e center = locations[\x3cspan class=\x22hljs-string\x22\x3e\x22WilddogHQ\x22\x3c\/span\x3e];\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Get a reference to the Wilddog public transit open data set\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e transitWilddogRef = \x3cspan class=\x22hljs-built_in\x22\x3enew\x3c\/span\x3e Wilddog(\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/\x26lt;appId\x26gt;.wilddogio.com\/\x22\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e野狗为了更好的和地图是进行适配,开发了wildGeo对象,他是一个单独的js,有兴趣的开发者可以 \x3ca href=\x22https:\/\/github.com\/WildDogTeam\/demo-js-geomap\/tree\/master\/app\/scripts\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e下载\x3c\/a\x3e 或 \x3ca href=\x22https:\/\/github.com\/WildDogTeam\/lib-js-wildgeo\/blob\/master\/API.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e阅读文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e我们在建立了\x3ccode\x3etransitwilddogRef\x3c\/code\x3e对象的基础上,需要尽力\x3ccode\x3ewildGeo\x3c\/code\x3e对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/ Create a new WildGeo instance, pulling data from the public transit data\nvar wildGeo = new WildGeo(transitWilddogRef.child(\x26quot;_geofire\x26quot;));\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode\x3e\n\/\/ \x3cspan class=\x22hljs-keyword\x22\x3eCreate\x3c\/span\x3e a \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e WildGeo \x3cspan class=\x22hljs-keyword\x22\x3einstance\x3c\/span\x3e, pulling \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e the \x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e transit \x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e wildGeo = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e WildGeo(transitWilddogRef.child(\x3cspan class=\x22hljs-string\x22\x3e\x22_geofire\x22\x3c\/span\x3e));\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的代码说明了,创建\x3ccode\x3ewildGeo\x3c\/code\x3e对象来操作地理坐标数据,数据来源于\x3ccode\x3etransitWilddogRef\x3c\/code\x3e下面的\x3ccode\x3e_geofire\x3c\/code\x3e节点。\x3c\/p\x3e\n\x3cp\x3e之后,我们来看一下怎样数据初始化。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/*************\/\n\/*  GEOQUERY *\/\n\/*************\/\n\/\/ Keep track of all of the deliverys currently within the query\nvar deliverysInQuery = {};\n\n\/\/ Create a new GeoQuery instance\nvar geoQuery = wildGeo.query({\n  center: center, \/\/center指的是 var center = locations[\x26quot;WilddogHQ\x26quot;];\n  radius: 1500\n});\n\n\/* Adds new delivery markers to the map when they enter the query *\/\ngeoQuery.on(\x26quot;key_entered\x26quot;, function(deliveryId, deliveryLocation) { \n  \/\/ Specify that the delivery has entered this query\n  deliveryId = deliveryId.split(\x26quot;:\x26quot;)[1];\n  deliverysInQuery[deliveryId] = true;\n\n  \/\/ Look up the delivery\x27s data in the Transit Open Data Set\n  transitWilddogRef.child(\x26quot;beijing\/delivery\x26quot;).child(deliveryId).once(\x26quot;value\x26quot;, function(dataSnapshot) {\n    \/\/ Get the delivery data from the Open Data Set\n    delivery = dataSnapshot.val();\n\n    \/\/ If the delivery has not already exited this query in the time it took to look up its data in the Open Data\n    \/\/ Set, add it to the map\n    if (delivery !== null \x26amp;\x26amp; deliverysInQuery[deliveryId] === true) {\n      \/\/ Add the delivery to the list of deliverys in the query\n      deliverysInQuery[deliveryId] = delivery;\n\n      \/\/ Create a new marker for the delivery\n      delivery.marker = createdeliveryMarker(delivery);\n    }\n  });\n});\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/*************\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/*  GEOQUERY *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/*************\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Keep track of all of the deliverys currently within the query\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e deliverysInQuery = {};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create a new GeoQuery instance\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e geoQuery = wildGeo.query({\n  center: center, \x3cspan class=\x22hljs-comment\x22\x3e\/\/center指的是 var center = locations[\x22WilddogHQ\x22];\x3c\/span\x3e\n  radius: \x3cspan class=\x22hljs-number\x22\x3e1500\x3c\/span\x3e\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* Adds new delivery markers to the map when they enter the query *\/\x3c\/span\x3e\ngeoQuery.on(\x3cspan class=\x22hljs-string\x22\x3e\x22key_entered\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(deliveryId, deliveryLocation)\x3c\/span\x3e \x3c\/span\x3e{ \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Specify that the delivery has entered this query\x3c\/span\x3e\n  deliveryId = deliveryId.split(\x3cspan class=\x22hljs-string\x22\x3e\x22:\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n  deliverysInQuery[deliveryId] = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Look up the delivery\x27s data in the Transit Open Data Set\x3c\/span\x3e\n  transitWilddogRef.child(\x3cspan class=\x22hljs-string\x22\x3e\x22beijing\/delivery\x22\x3c\/span\x3e).child(deliveryId).once(\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(dataSnapshot)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Get the delivery data from the Open Data Set\x3c\/span\x3e\n    delivery = dataSnapshot.val();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ If the delivery has not already exited this query in the time it took to look up its data in the Open Data\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set, add it to the map\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (delivery !== \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e \x26amp;\x26amp; deliverysInQuery[deliveryId] === \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Add the delivery to the list of deliverys in the query\x3c\/span\x3e\n      deliverysInQuery[deliveryId] = delivery;\n\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Create a new marker for the delivery\x3c\/span\x3e\n      delivery.marker = createdeliveryMarker(delivery);\n    }\n  });\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们需要观察几个点:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e第一个点是\x3ccode\x3ewildGeo.query()\x3c\/code\x3e 之后会产生一个新的对象叫做:\x3ccode\x3egeoQuery\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3egeoQuery.on(eventType,callback)\x3c\/code\x3e eventType是事件类型:这里用的是\x3ccode\x3ekey_entered\x3c\/code\x3e,表示监听的点是否进入范围之内。如果进入则存到\x3ccode\x3edeliverysInQuery\x3c\/code\x3e对象中去,通过\x3ccode\x3ecreatedeliveryMarker\x3c\/code\x3e方法,在地图上创建一个个的快递员图标。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e那么如果快递离开了我们的那个范围呢?\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22geoQuery.on(\x26quot;key_exited\x26quot;, function(deliveryId, deliveryLocation) {\n  \/\/ Get the delivery from the list of deliverys in the query\n  deliveryId = deliveryId.split(\x26quot;:\x26quot;)[1];\n  var delivery = deliverysInQuery[deliveryId];\n  \/\/ If the delivery\x27s data has already been loaded from the Open Data Set, remove its marker from the map\n  if (delivery !== true \x26amp;\x26amp;  typeof delivery.marker !== \x26quot;undefined\x26quot;) {\n      delivery.marker.stopMove();\n    delivery.marker.setMap(null);\n  }\n\n  \/\/ Remove the delivery from the list of deliverys in the query\n  delete deliverysInQuery[deliveryId];\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3egeoQuery.on(\x3cspan class=\x22hljs-string\x22\x3e\x22key_exited\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(deliveryId, deliveryLocation)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Get the delivery from the list of deliverys in the query\x3c\/span\x3e\n  deliveryId = deliveryId.split(\x3cspan class=\x22hljs-string\x22\x3e\x22:\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e delivery = deliverysInQuery[deliveryId];\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ If the delivery\x27s data has already been loaded from the Open Data Set, remove its marker from the map\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (delivery !== \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x26amp;\x26amp;  \x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e delivery.marker !== \x3cspan class=\x22hljs-string\x22\x3e\x22undefined\x22\x3c\/span\x3e) {\n      delivery.marker.stopMove();\n    delivery.marker.setMap(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e);\n  }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Remove the delivery from the list of deliverys in the query\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3edelete\x3c\/span\x3e deliverysInQuery[deliveryId];\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以使用\x3ccode\x3ekey_exited\x3c\/code\x3e这个方法,来监听离开我们的快递员。\x3c\/p\x3e\n\x3cp\x3e最后附上\x3ccode\x3ecreatedeliveryMarker\x3c\/code\x3e方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**********************\/\n\/*  HELPER FUNCTIONS  *\/\n\/**********************\/\n\/* Adds a marker for the inputted delivery to the map *\/\nfunction createdeliveryMarker(delivery) {\n    \/\/自定义点标记内容   \n    var markerContent = document.createElement(\x26quot;div\x26quot;);\n    markerContent.className = \x26quot;markerContentStyle\x26quot;;\n        \n    \/\/点标记中的图标\n    var markerImg = document.createElement(\x26quot;img\x26quot;);\n    markerImg.className = \x26quot;markerlnglat\x26quot;;\n    markerImg.src = \x26quot;images\/man.png\x26quot;;\n    markerImg.height = \x26quot;35\x26quot;;\n    markerImg.width = \x26quot;27\x26quot;;\n    markerContent.appendChild(markerImg);\n         \n    \/\/点标记中的文本\n    var markerSpan = document.createElement(\x26quot;span\x26quot;);\n    markerSpan.innerHTML = delivery.id;\n    markerContent.appendChild(markerSpan);\n\n    var marker  = new AMap.Marker({\n        map:map,\n        position:new AMap.LngLat(delivery.lng, delivery.lat),\/\/基点位置\n        autoRotation:false,\n        content: markerContent \/\/自定义点标记覆盖物内容\n        \n    });\n      return marker;\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x3cspan class=\x22markdown\x22\x3e\/\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e**\/\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/*  HELPER FUNCTIONS  *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x3cspan class=\x22markdown\x22\x3e\/\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e\x3cspan class=\x22hljs-strong\x22\x3e*****\x3c\/span\x3e**\/\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/* Adds a marker for the inputted delivery to the map *\/\x3c\/span\x3e\nfunction createdeliveryMarker(delivery) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记内容   \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e markerContent = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e);\n    markerContent.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerContentStyle\x22\x3c\/span\x3e;\n        \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的图标\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e markerImg = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e);\n    markerImg.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerlnglat\x22\x3c\/span\x3e;\n    markerImg.src = \x3cspan class=\x22hljs-string\x22\x3e\x22images\/man.png\x22\x3c\/span\x3e;\n    markerImg.height = \x3cspan class=\x22hljs-string\x22\x3e\x2235\x22\x3c\/span\x3e;\n    markerImg.width = \x3cspan class=\x22hljs-string\x22\x3e\x2227\x22\x3c\/span\x3e;\n    markerContent.appendChild(markerImg);\n         \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的文本\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e markerSpan = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22span\x22\x3c\/span\x3e);\n    markerSpan.innerHTML = delivery.id;\n    markerContent.appendChild(markerSpan);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e marker  = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.Marker({\n        map:map,\n        position:\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.LngLat(delivery.lng, delivery.lat),\x3cspan class=\x22hljs-comment\x22\x3e\/\/基点位置\x3c\/span\x3e\n        autoRotation:\x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e,\n        content: markerContent \x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记覆盖物内容\x3c\/span\x3e\n        \n    });\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e marker;\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e和\x3ccode\x3e地图初始化代码\x3c\/code\x3e片段\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function initializeMap() {\n    var loc = new AMap.LngLat(center[1], center[0]);\n    \/\/初始化地图对象，加载地图\n    var UA = navigator.userAgent;\n    if (UA.indexOf(\x26quot;Mobile\x26quot;) == -1 || UA.indexOf(\x26quot;Mobile\x26quot;) == -1) {\n        defineMap(loc, 15);\n    } else {\n        defineMap(loc , 13);\n    };\n\n    \/\/加载工具条\n    \/\/ map.plugin([\x26quot;AMap.ToolBar\x26quot;],function(){\n    \/\/     var tool = new AMap.ToolBar();\n    \/\/        map.addControl(tool); \n    \/\/         });\n    \/\/\n    \/\/ \/\/加载比例尺\n    \/\/ map.plugin([\x26quot;AMap.Scale\x26quot;],function(){\n    \/\/         var scale = new AMap.Scale();\n    \/\/         map.addControl(scale);  \n    \/\/         });\n\n    \n    var circle = new AMap.Circle({ \n        map:map,\n         center:loc,\/\/ 圆心位置\n        radius:((radiusInKm) * 1000), \/\/半径\n        strokeColor: \x26quot;#6D3099\x26quot;, \/\/线颜色\n        strokeOpacity: 1, \/\/线透明度\n        strokeWeight: 3, \/\/线粗细度\n        fillColor: \x26quot;#B650FF\x26quot;, \/\/填充颜色\n        fillOpacity: 0.35\/\/填充透明度\n\n    }); \n\n    \/\/自定义点标记内容   \n    var stationMarkerContent = document.createElement(\x26quot;div\x26quot;);\n    stationMarkerContent.className = \x26quot;markerContentStyle\x26quot;;\n        \n    \/\/点标记中的图标\n    var stationMarkerImg = document.createElement(\x26quot;img\x26quot;);\n    stationMarkerImg.className = \x26quot;markerlnglat\x26quot;;\n    stationMarkerImg.src =\x26quot;http:\/\/webapi.amap.com\/images\/marker_sprite.png\x26quot;;\n    stationMarkerContent.appendChild(stationMarkerImg);\n         \n    \/\/点标记中的文本\n    var stationMarkerSpan = document.createElement(\x26quot;span\x26quot;);\n    stationMarkerSpan.innerHTML = \x27配送站\x27;\n    stationMarkerSpan.setAttribute(\x26quot;class\x26quot;, \x26quot;span1\x26quot;)\n    stationMarkerContent.appendChild(stationMarkerSpan);\n\n    var stationMarker  = new AMap.Marker({\n        map:map,\n        position:new AMap.LngLat(116.408032,39.897614),\/\/基点位置\n        autoRotation:false,\n        content: stationMarkerContent \/\/自定义点标记覆盖物内容\n    });\n\n    var lnglat;\n    var clickEventListener = AMap.event.addListener(map,\x27click\x27,function(e){\n        lnglat=e.lnglat;\n        circle.setCenter(lnglat);\n        updateCriteria();\n    });\n\n    var updateCriteria = _.debounce(function() {\n        lnglat = circle.getCenter();\n        geoQuery.updateCriteria({\n          center: [lnglat.getLat(), lnglat.getLng()],\n          radius: radiusInKm\n        });\n      }, 10);\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einitializeMap\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e loc = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.LngLat(center[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e], center[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/初始化地图对象，加载地图\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e UA = navigator.userAgent;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (UA.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x22Mobile\x22\x3c\/span\x3e) == \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e || UA.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x22Mobile\x22\x3c\/span\x3e) == \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e) {\n        defineMap(loc, \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        defineMap(loc , \x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e);\n    };\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/加载工具条\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ map.plugin([\x22AMap.ToolBar\x22],function(){\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/     var tool = new AMap.ToolBar();\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/        map.addControl(tool); \x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/         });\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ \/\/加载比例尺\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ map.plugin([\x22AMap.Scale\x22],function(){\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/         var scale = new AMap.Scale();\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/         map.addControl(scale);  \x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/         });\x3c\/span\x3e\n\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e circle = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.Circle({ \n        \x3cspan class=\x22hljs-attr\x22\x3emap\x3c\/span\x3e:map,\n         \x3cspan class=\x22hljs-attr\x22\x3ecenter\x3c\/span\x3e:loc,\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 圆心位置\x3c\/span\x3e\n        radius:((radiusInKm) * \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e), \x3cspan class=\x22hljs-comment\x22\x3e\/\/半径\x3c\/span\x3e\n        strokeColor: \x3cspan class=\x22hljs-string\x22\x3e\x22#6D3099\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线颜色\x3c\/span\x3e\n        strokeOpacity: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线透明度\x3c\/span\x3e\n        strokeWeight: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/线粗细度\x3c\/span\x3e\n        fillColor: \x3cspan class=\x22hljs-string\x22\x3e\x22#B650FF\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/填充颜色\x3c\/span\x3e\n        fillOpacity: \x3cspan class=\x22hljs-number\x22\x3e0.35\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/填充透明度\x3c\/span\x3e\n\n    }); \n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记内容   \x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerContent = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e);\n    stationMarkerContent.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerContentStyle\x22\x3c\/span\x3e;\n        \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的图标\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerImg = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e);\n    stationMarkerImg.className = \x3cspan class=\x22hljs-string\x22\x3e\x22markerlnglat\x22\x3c\/span\x3e;\n    stationMarkerImg.src =\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/webapi.amap.com\/images\/marker_sprite.png\x22\x3c\/span\x3e;\n    stationMarkerContent.appendChild(stationMarkerImg);\n         \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/点标记中的文本\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarkerSpan = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22span\x22\x3c\/span\x3e);\n    stationMarkerSpan.innerHTML = \x3cspan class=\x22hljs-string\x22\x3e\x27配送站\x27\x3c\/span\x3e;\n    stationMarkerSpan.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22class\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22span1\x22\x3c\/span\x3e)\n    stationMarkerContent.appendChild(stationMarkerSpan);\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e stationMarker  = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.Marker({\n        \x3cspan class=\x22hljs-attr\x22\x3emap\x3c\/span\x3e:map,\n        \x3cspan class=\x22hljs-attr\x22\x3eposition\x3c\/span\x3e:\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AMap.LngLat(\x3cspan class=\x22hljs-number\x22\x3e116.408032\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e39.897614\x3c\/span\x3e),\x3cspan class=\x22hljs-comment\x22\x3e\/\/基点位置\x3c\/span\x3e\n        autoRotation:\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: stationMarkerContent \x3cspan class=\x22hljs-comment\x22\x3e\/\/自定义点标记覆盖物内容\x3c\/span\x3e\n    });\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e lnglat;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e clickEventListener = AMap.event.addListener(map,\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n        lnglat=e.lnglat;\n        circle.setCenter(lnglat);\n        updateCriteria();\n    });\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e updateCriteria = _.debounce(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        lnglat = circle.getCenter();\n        geoQuery.updateCriteria({\n          \x3cspan class=\x22hljs-attr\x22\x3ecenter\x3c\/span\x3e: [lnglat.getLat(), lnglat.getLng()],\n          \x3cspan class=\x22hljs-attr\x22\x3eradius\x3c\/span\x3e: radiusInKm\n        });\n      }, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e);\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e累死妹子了!\x3c\/p\x3e\n\x3cp\x3e作为一个博爱的程序媛,我还要一定要做这个事情（为什么我写了这句话感觉到好邪恶！）:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eAndroid版本: \x3ca href=\x22https:\/\/github.com\/WildDogTeam\/lib-android-wildgeo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/WildDogTeam\/lib-android-wildgeo\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eIOS版本: \x3ca href=\x22https:\/\/github.com\/WildDogTeam\/lib-ios-wildgeo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/WildDogTeam\/lib-ios-wildgeo\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e鉴于本人是一个前端攻城狮,所以这两个版本的东西我也就只能给你们一个链接吧,各位IOS攻城狮和Android攻城狮,来玩玩么?\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>为了监视快递小哥，我做了一个小程序！</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006839321">https://segmentfault.com/a/1190000006839321</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/5epgxhtzow/" target="_blank">https://alili.tech/archive/5epgxhtzow/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>