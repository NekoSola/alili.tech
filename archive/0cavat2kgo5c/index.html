<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="react-redux-express异步前后端数据交互(面向初学者,高手勿进)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>react-redux-express异步前后端数据交互(面向初学者,高手勿进) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0cavat2kgo5c/",
				"appid": "1613049289050283", 
				"title": "react-redux-express异步前后端数据交互(面向初学者,高手勿进) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-07T02:30:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/rv4tkuvb9ds/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/nwi6w40spue/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&text=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&text=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&title=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&is_video=false&description=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&title=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&title=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&title=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0cavat2kgo5c%2f&title=react-redux-express%e5%bc%82%e6%ad%a5%e5%89%8d%e5%90%8e%e7%ab%af%e6%95%b0%e6%8d%ae%e4%ba%a4%e4%ba%92%28%e9%9d%a2%e5%90%91%e5%88%9d%e5%ad%a6%e8%80%85%2c%e9%ab%98%e6%89%8b%e5%8b%bf%e8%bf%9b%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">react-redux-express异步前后端数据交互(面向初学者,高手勿进)</h1><div class="meta"><div class="postdate"><time datetime="2019-02-07" itemprop="datePublished">2019-02-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e花了整整三天的时间来解决一个非常非常小的问题.想要把一点心得体会记录下来.\x3cbr\x3e首先是问题的提出:前端如果是react,后端是express,如何进行数据的交互.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1.总体思路\x3c\/h2\x3e\n\x3cp\x3e以前接触\x3ccode\x3eexpress\x3c\/code\x3e的时候前端模板用的是\x3ccode\x3eejs\x3c\/code\x3e,那时候就有些不理解的地方.最为不理解的几个问题是:前端和后端怎么配合?特别是前端特别复杂的时候,难道还是全用模板吗?如果前端用了框架呢?这些问题对于大部分开发者或者非初级学习者来说都不算问题,但是对于初学者来说,如果不能完整地知道这些概念和数据流动的方式,学起来就会有些\x22心虚\x22.\x3c\/p\x3e\n\x3cp\x3e所以在接触了\x3ccode\x3eexpress\x3c\/code\x3e和\x3ccode\x3ereact\x3c\/code\x3e 之后,我强烈地想知道两者是怎么进行数据的交互的.我想要的技术栈是:\x3ccode\x3ereact-redux-webpack-express\x3c\/code\x3e .在google和github上找了很久都没有找到合适的,最后才发现,其实官网的那个已经是最好的例子\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/introduction\/Examples.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAsync\x3c\/a\x3e.\x3c\/p\x3e\n\x3cp\x3e目前得到的比较好的方式是用异步的方式,通过前端ajax来发出请求,后端接收并处理请求,返回相应的数据(在这里不讲述\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/recipes\/ServerRendering.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e服务器渲染\x3c\/a\x3e).在这里的\x3ccode\x3eajax\x3c\/code\x3e如果引入jq会显得太笨重,所以按照官网的方法用 \x3ccode\x3eisomorphic-fetch\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e而因为引入了\x3ccode\x3eredux\x3c\/code\x3e,所以要把\x3ccode\x3eajax\x3c\/code\x3e写在哪里是一个问题. \x3ccode\x3egoogle\x3c\/code\x3e了一下,发现大家都认为写在\x3ccode\x3eaction\x3c\/code\x3e里面最好(官网也是这么做的),所以就直接这么做吧.(跟着官网没错)\x3c\/p\x3e\n\x3cp\x3e下面就以一个非常非常简单的例子为切入点,功能如下:有一个\x3ccode\x3einput\x3c\/code\x3e和一个\x3ccode\x3ebutton\x3c\/code\x3e,在\x3ccode\x3einput\x3c\/code\x3e里面输入,点击按钮,把\x3ccode\x3einput\x3c\/code\x3e的内容上传服务器(\x3ccode\x3ePOST\x3c\/code\x3e). 同时下面有一个列表,从服务器上获取数据并在\x3ccode\x3ereact\x3c\/code\x3e中渲染(\x3ccode\x3eGET\x3c\/code\x3e). 非常非常非常简单.\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2.GET方法\x3c\/h2\x3e\n\x3cp\x3e把ajax全部写在\x3ccode\x3eaction\x3c\/code\x3e里面, 异步\x3ccode\x3eaction\x3c\/code\x3e需要用到中间件. 有关中间件最好的文章我认为是\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000005766289\x22\x3e这一篇\x3c\/a\x3e, 里面讲了\x3ccode\x3eapplyMiddleware\x3c\/code\x3e 的实现原理和例子(其实有点像俄罗斯套娃,把原本的\x3ccode\x3edispatch\x3c\/code\x3e慢慢加强,比如可以用\x3ccode\x3elogger\x3c\/code\x3e加一点日志辅助找\x3ccode\x3ebug\x3c\/code\x3e) 这里要用到一个叫做\x3ccode\x3ethunk\x3c\/code\x3e的中间件(\x3ca href=\x22https:\/\/github.com\/gaearon\/redux-thunk\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e实现原理\x3c\/a\x3e很简洁,可以自己找来琢磨)\x3c\/p\x3e\n\x3cp\x3e下面的代码从服务器中获取列表. 其中的\x3ccode\x3efetch\x3c\/code\x3e的用法可以看\x3ca href=\x22https:\/\/github.com\/github\/fetch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e, 这里也用到了\x3ccode\x3epromise\x3c\/code\x3e对象用于处理异步事件,这个可以看阮一峰大神的\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/#docs\/promise\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这篇文章\x3c\/a\x3e.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export const fetchList = () =\x3e {\n    return dispatch =\x3e {\n        dispatch({ type:\x26quot;REQUEST_LIST\x26quot; })\n        return fetch(`\/list`, {\n            header: {\n                \x26quot;dataType\x26quot;: \x26quot;json\x26quot;\n            }\n        })\n            .then(response =\x3e {\n                return response.json()\n            })\n            .then(json =\x3e {\n                dispatch(receiveList(json.items))\n            }\n        )\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fetchList = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        dispatch({ \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22REQUEST_LIST\x22\x3c\/span\x3e })\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fetch(\x3cspan class=\x22hljs-string\x22\x3e`\/list`\x3c\/span\x3e, {\n            header: {\n                \x3cspan class=\x22hljs-string\x22\x3e\x22dataType\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22json\x22\x3c\/span\x3e\n            }\n        })\n            .then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e response.json()\n            })\n            .then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ejson\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                dispatch(receiveList(json.items))\n            }\n        )\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3.POST方法\x3c\/h2\x3e\n\x3cp\x3ePOST方法与GET大同小异,不过在server写代码的时候要用上\x3ccode\x3ebody-parser\x3c\/code\x3e, 不然有可能请求会变成undefined,写法是\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/9177049\/express-js-req-body-undefined\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这样\x3c\/a\x3e的. \x3c\/p\x3e\n\x3cp\x3e具体的代码如下: POST方法相对复杂一点点.\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export const postAddItem = (text) =\x3e {\n    return dispatch =\x3e {\n        dispatch({type: \x26quot;loadAddItem\x26quot;, text})\n        fetch(\x27\/send\x27, {\n            method: \x27POST\x27,\n            headers: {\n                \x27Content-Type\x27: \x26quot;application\/json\x26quot;,\n                \x27Accept\x27: \x26quot;application\/json\x26quot;,\n                \x27Content-Type\x27: \x26quot;application\/json\x26quot;\n            },\n            body: JSON.stringify({ item: text })\n        }).then(res =\x3e {\n            if(res.ok) {\n                dispatch({ type: \x26quot;ADD_ITEM\x26quot;, text })\n                console.log(\x26quot;POST SUCCESS\x26quot;);\n            } \n        }, e =\x3e {\n            dispatch({type: \x26quot;loadAddItem\x26quot;, text})\n            alert(\x26quot;POST ERROR\x26quot;);\n        })\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e postAddItem = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3edispatch\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        dispatch({\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22loadAddItem\x22\x3c\/span\x3e, text})\n        fetch(\x3cspan class=\x22hljs-string\x22\x3e\x27\/send\x27\x3c\/span\x3e, {\n            method: \x3cspan class=\x22hljs-string\x22\x3e\x27POST\x27\x3c\/span\x3e,\n            headers: {\n                \x3cspan class=\x22hljs-string\x22\x3e\x27Content-Type\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22application\/json\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-string\x22\x3e\x27Accept\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22application\/json\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-string\x22\x3e\x27Content-Type\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22application\/json\x22\x3c\/span\x3e\n            },\n            body: \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify({ item: text })\n        }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eres\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(res.ok) {\n                dispatch({ \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22ADD_ITEM\x22\x3c\/span\x3e, text })\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22POST SUCCESS\x22\x3c\/span\x3e);\n            } \n        }, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n            dispatch({\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22loadAddItem\x22\x3c\/span\x3e, text})\n            alert(\x3cspan class=\x22hljs-string\x22\x3e\x22POST ERROR\x22\x3c\/span\x3e);\n        })\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这些代码都是根据官网上\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/introduction\/Examples.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAsync\x3c\/a\x3e的代码改的. \x3cbr\x3e所以要真正掌握redux, 官网文档和例子要熟读啊...\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e4.关于调试\x3c\/h2\x3e\n\x3cp\x3e关于调试我没有什么值得分享的(我也在找比较方便的调试方法TAT,跪求推荐!!), 不过一个这几天下来总结了\x22肉眼debug\x22的思路就是: 看数据怎么流,从哪里开始变得不符合要求.之前在写的时候就是\x3ccode\x3econnect\x3c\/code\x3e的地方开始有问题,结果死活找不出为什么渲染不出来...明明在\x3ccode\x3elogger\x3c\/code\x3e上看到已经获取到了数据...\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e5.总结\x3c\/h2\x3e\n\x3cp\x3e个人感觉如果要\x22打通前后端\x22(起码理解吧),一定要认真理解\x3ccode\x3eredux\x3c\/code\x3e,基本概念,异步,中间件(整个官网的内容很丰富,要多读..) 不过基础也很重要!最基础的\x3ccode\x3ees6\x3c\/code\x3e,\x3ccode\x3eajax\x3c\/code\x3e等一定要会...\x3cbr\x3e自己写的粗糙的例子代码\x3ca href=\x22https:\/\/github.com\/harryfyodor\/react-redux-express-fetch-simple-example\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在此\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e(第一次写文章,本人是小白,有什么说得不对的不好的,感谢提出!)\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>react-redux-express异步前后端数据交互(面向初学者,高手勿进)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005906458">https://segmentfault.com/a/1190000005906458</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0cavat2kgo5c/" target="_blank">https://alili.tech/archive/0cavat2kgo5c/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>