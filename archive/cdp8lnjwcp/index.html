<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【underscore 源码解读】JavaScript 中如何判断两个元素是否 &#34;相同&#34;"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【underscore 源码解读】JavaScript 中如何判断两个元素是否 &#34;相同&#34; | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/cdp8lnjwcp/",
				"appid": "1613049289050283", 
				"title": "【underscore 源码解读】JavaScript 中如何判断两个元素是否 &#34;相同&#34; | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-09T02:30:59"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/l5i4i60ylo9/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2xqtorzid0w/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&text=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&text=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&title=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&is_video=false&description=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&title=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&title=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&title=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fcdp8lnjwcp%2f&title=%e3%80%90underscore%20%e6%ba%90%e7%a0%81%e8%a7%a3%e8%af%bb%e3%80%91JavaScript%20%e4%b8%ad%e5%a6%82%e4%bd%95%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%85%83%e7%b4%a0%e6%98%af%e5%90%a6%20%22%e7%9b%b8%e5%90%8c%22"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【underscore 源码解读】JavaScript 中如何判断两个元素是否 &#34;相同&#34;</h1><div class="meta"><div class="postdate"><time datetime="2019-02-09" itemprop="datePublished">2019-02-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3eWhy underscore\x3c\/h1\x3e\n\x3cp\x3e最近开始看 underscore.js 源码，并将 \x3ca href=\x22https:\/\/github.com\/hanzichi\/underscore-analysis\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eunderscore.js 源码解读\x3c\/a\x3e 放在了我的 2016 计划中。\x3c\/p\x3e\n\x3cp\x3e阅读一些著名框架类库的源码，就好像和一个个大师对话，你会学到很多。为什么是 underscore？最主要的原因是 underscore 简短精悍（约 1.5k 行），封装了 100 多个有用的方法，耦合度低，非常适合逐个方法阅读，适合楼主这样的 JavaScript 初学者。从中，你不仅可以学到用 void 0 代替 undefined 避免 undefined 被重写等一些小技巧 ，也可以学到变量类型判断、函数节流\x26amp;函数去抖等常用的方法，还可以学到很多浏览器兼容的 hack，更可以学到作者的整体设计思路以及 API 设计的原理（向后兼容）。\x3c\/p\x3e\n\x3cp\x3e之后楼主会写一系列的文章跟大家分享在源码阅读中学习到的知识。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eunderscore-1.8.3 源码解读项目地址 \x3ca href=\x22https:\/\/github.com\/hanzichi\/underscore-analysis\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hanzichi\/underscore-analysis\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eunderscore-1.8.3 源码全文注释 \x3ca href=\x22https:\/\/github.com\/hanzichi\/underscore-analysis\/blob\/master\/underscore-1.8.3.js\/underscore-1.8.3-analysis.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hanzichi\/underscore-analysis\/blob\/master\/underscore-1.8.3.js\/underscore-1.8.3-analysis.js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eunderscore-1.8.3 源码解读系列文章 \x3ca href=\x22https:\/\/github.com\/hanzichi\/underscore-analysis\/issues\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hanzichi\/underscore-analysis\/issues\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e欢迎围观~ （\x3cstrong\x3e如果有兴趣，欢迎 star \x26amp; watch~\x3c\/strong\x3e）您的关注是楼主继续写作的动力\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e_.isEqual\x3c\/h1\x3e\n\x3cp\x3e本文跟大家聊聊 JavaScript 中如何判断两个参数 \x22相同\x22，即 underscore 源码中的 _.isEqual 方法。这个方法可以说是 underscore 源码中实现最复杂的方法（用了百来行），几乎没有之一。\x3c\/p\x3e\n\x3cp\x3e那么，我说的 \x22相同\x22 到底是什么意思？举个栗子，\x3ccode\x3e1\x3c\/code\x3e 和 \x3ccode\x3enew Number(1)\x3c\/code\x3e 被认为是 equal，\x3ccode\x3e[1]\x3c\/code\x3e 和 \x3ccode\x3e[1]\x3c\/code\x3e 被认为是 equal（尽管它们的引用并不相同），当然，两个引用相同的对象肯定是 equal 的了。\x3c\/p\x3e\n\x3cp\x3e那么，如何设计这个 _.isEqual 函数呢？我们跟着 underscore 源码，一步步来看它的实现。后文中均假设比较的两个参数为 a 和 b。\x3c\/p\x3e\n\x3cp\x3e首先我们判断 \x3ccode\x3ea === b\x3c\/code\x3e，为 true 的情况有两种，其一是 a 和 b 都是基本类型，那么就是两个基本类型的值相同，其二就是两个引用类型，那么就是引用类型的引用相同。那么如果 \x3ccode\x3ea === b\x3c\/code\x3e 为 true，是否就是说 a 和 b 是 equal 的呢？事实上，99% 的情况是这样的，还得考虑 0 和 -0 这个 special case，\x3ccode\x3e0 === -0\x3c\/code\x3e 为 true，而 0 和 -0 被认为是 unequal，至于原因，可以参考 \x3ca href=\x22http:\/\/wiki.ecmascript.org\/doku.php?id=harmony:egal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/wiki.ecmascript.org\/doku.php?id=harmony:egal\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e这部分代码可以这样表示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ Identical objects are equal. `0 === -0`, but they aren\x27t identical.\n\/\/ See the [Harmony `egal` proposal](http:\/\/wiki.ecmascript.org\/doku.php?id=harmony:egal).\n\/\/ a === b 时\n\/\/ 需要注意 `0 === -0` 这个 special case\n\/\/ 0 和 -0 不相同\n\/\/ 至于原因可以参考上面的链接\nif (a === b) return a !== 0 || 1 \/ a === 1 \/ b;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Identical objects are equal. `0 === -0`, but they aren\x27t identical.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ See the [Harmony `egal` proposal](http:\/\/wiki.ecmascript.org\/doku.php?id=harmony:egal).\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ a === b 时\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 需要注意 `0 === -0` 这个 special case\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 0 和 -0 不相同\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 至于原因可以参考上面的链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (a === b) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/ a === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/ b;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下去的情况，也就是 \x3ccode\x3ea !== b\x3c\/code\x3e 的情况了。\x3c\/p\x3e\n\x3cp\x3e如果 a 和 b 中有一个是 null 或者 undefined，那么可以特判下，不用继续比较了。源码实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ A strict comparison is necessary because `null == undefined`.\n\/\/ 如果 a 和 b 有一个为 null（或者 undefined）\n\/\/ 判断 a === b\nif (a == null || b == null) return a === b;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ A strict comparison is necessary because `null == undefined`.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果 a 和 b 有一个为 null（或者 undefined）\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断 a === b\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (a == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e || b == \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e a === b;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e个人觉得这里写的有点多余，因为根据上面的判断过滤，a === b 肯定是返回 false 的。\x3c\/p\x3e\n\x3cp\x3eok，我们继续，接下来我们可以先根据 a 和 b 的类型来判断，如果类型不一样，那么就没必要继续判断了。如何获取变量类型？没错，就是神奇的 \x3ccode\x3eObject.prototype.toString.call\x3c\/code\x3e！\x3c\/p\x3e\n\x3cp\x3e如果类型是 RegExp 和 String，我们可以将 a 和 b 分别转为字符串进行比较（如果是 String 就已经是字符串了），举个栗子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = \/a\/;\nvar b = new RegExp(\x26quot;a\x26quot;);\n\nconsole.log(_.isEqual(a, b));  \/\/ =\x3e true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-regexp\x22\x3e\/a\/\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(_.isEqual(a, b));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实它在 underscore 内部是这样判断的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = \/a\/;\nvar b = new RegExp(\x26quot;a\x26quot;);\n\nvar _a = \x27\x27 \x2b a; \/\/ =\x3e \/a\/\nvar _b = \x27\x27 \x2b b; \/\/ =\x3e \/a\/\n\nconsole.log(_a === _b); \/\/ =\x3e true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-regexp\x22\x3e\/a\/\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eRegExp\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22a\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _a = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e \x2b a; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \/a\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _b = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e \x2b b; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; \/a\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(_a === _b); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ =\x26gt; true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果是 Number 类型呢？这里又有个 special case，就是 NaN！这里规定，NaN 仅和 NaN 相同，与别的 Number 类型均 unequal。这里我们将引用类型均转为基本类型，看如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = new Number(1);\nconsole.log(\x2ba); \/\/ 1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2ba); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e没错，加个 \x3ccode\x3e\x2b\x3c\/code\x3e 就解决了，其他的不难理解，都在注释里了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ `NaN`s are equivalent, but non-reflexive.\n\/\/ Object(NaN) is equivalent to NaN\n\/\/ 如果 \x2ba !== \x2ba \n\/\/ 那么 a 就是 NaN\n\/\/ 判断 b 是否也是 NaN 即可\nif (\x2ba !== \x2ba) return \x2bb !== \x2bb;\n\n\/\/ An `egal` comparison is performed for other numeric values.\n\/\/ 排除了 NaN 干扰\n\/\/ 还要考虑 0 的干扰\n\/\/ 用 \x2ba 将 Number() 形式转为基本类型\n\/\/ 如果 a 为 0，判断 1 \/ \x2ba === 1 \/ b\n\/\/ 否则判断 \x2ba === \x2bb\nreturn \x2ba === 0 ? 1 \/ \x2ba === 1 \/ b : \x2ba === \x2bb;\n\n\/\/ 如果 a 为 Number 类型\n\/\/ 要注意 NaN 这个 special number\n\/\/ NaN 和 NaN 被认为 equal\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ `NaN`s are equivalent, but non-reflexive.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Object(NaN) is equivalent to NaN\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果 \x2ba !== \x2ba \x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 那么 a 就是 NaN\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断 b 是否也是 NaN 即可\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x2ba !== \x2ba) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x2bb !== \x2bb;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ An `egal` comparison is performed for other numeric values.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 排除了 NaN 干扰\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 还要考虑 0 的干扰\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用 \x2ba 将 Number() 形式转为基本类型\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果 a 为 0，判断 1 \/ \x2ba === 1 \/ b\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 否则判断 \x2ba === \x2bb\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x2ba === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e ? \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/ \x2ba === \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \/ b : \x2ba === \x2bb;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果 a 为 Number 类型\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 要注意 NaN 这个 special number\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ NaN 和 NaN 被认为 equal\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来我们看 Date 和 Boolean 两个类型。跟 Number 类型相似，它们也可以用 \x3ccode\x3e\x2b\x3c\/code\x3e 转化为基本类型的数字！看下面代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = new Date();\nvar b = true;\nvar c = new Boolean(false);\n\nconsole.log(\x2ba); \/\/ 1464180857222\nconsole.log(\x2bb); \/\/ 1\nconsole.log(\x2bc); \/\/ 0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e c = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eBoolean\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2ba); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1464180857222\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2bb); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2bc); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e非常简单，其实 \x2bnew Date() （或者也可以写成 \x2bnew Date）获取的正是当前时间和 1970 年 1 月 1 日 0 点的毫秒数（millisecond），可能你听说过时间戳，其实时间戳就是这个数据除以 1000，也就是秒数。在用 canvas 做动画时，我经常用 \x2bnew Date 来当时间戳。\x3c\/p\x3e\n\x3cp\x3eso，如果 a 和 b 均是 Date 类型或者 Boolean 类型，我们可以用 \x3ccode\x3e\x2ba === \x2bb\x3c\/code\x3e 来判断是否 equal。\x3c\/p\x3e\n\x3cp\x3e程序接着走，我们接着看，似乎还有两类重要的类型没有判断？没错，Array 和 Object！underscore 对此采用递归方法展开来比较。\x3c\/p\x3e\n\x3cp\x3e还是举个栗子吧，举例比较直观。\x3c\/p\x3e\n\x3cp\x3e假设 a，b 如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var a = {name: \x26quot;hanzichi\x26quot;, loveCity: [{cityName: \x26quot;hangzhou\x26quot;, province: \x26quot;zhenjiang\x26quot;}], age: 30};\nvar b = {name: \x26quot;hanzichi\x26quot;, loveCity: [{cityName: \x26quot;hangzhou\x26quot;, province: \x26quot;zhenjiang\x26quot;}], age: 25};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = {\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22hanzichi\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eloveCity\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3ecityName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22hangzhou\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprovince\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22zhenjiang\x22\x3c\/span\x3e}], \x3cspan class=\x22hljs-attr\x22\x3eage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e};\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e b = {\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22hanzichi\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eloveCity\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3ecityName\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22hangzhou\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eprovince\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22zhenjiang\x22\x3c\/span\x3e}], \x3cspan class=\x22hljs-attr\x22\x3eage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e25\x3c\/span\x3e};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e首先 a，b 是对象，我们可以分别比较其键值对，如果有一个键值对不同（或者说一个键值对 a 和 b 有一个没有），则 a 和 b unequal。如果是数组呢？那就一个一个元素比较喽。因为数组可能嵌套对象，对象的 value 又可能是数组，所以这里用了递归。\x3c\/p\x3e\n\x3cp\x3e还是以上面的例子，我们可以把它拆成三次比较，分别比较三个 key 的 value 值是否相同。对于 loveCity 这个 key 的 value，因为其 value 又是个数组，所以我们将这个 value 传入比较函数，通过这个比较的结果，来判断最后的比较结果。递归就是这样，可以将大的东西，拆成一个个小的，根据小的结果，来汇总得到大的结果。\x3c\/p\x3e\n\x3cp\x3e最后，给出代码位置。关于 _.isEqual 方法的源码，大家可以参考 \x3ca href=\x22https:\/\/github.com\/hanzichi\/underscore-analysis\/blob\/master\/underscore-1.8.3.js\/src\/underscore-1.8.3.js#L1094-L1190\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/hanzichi\/underscore-analysis\/blob\/master\/underscore-1.8.3.js\/src\/underscore-1.8.3.js#L1094-L1190\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【underscore 源码解读】JavaScript 中如何判断两个元素是否 &ldquo;相同&rdquo;</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005347766">https://segmentfault.com/a/1190000005347766</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/cdp8lnjwcp/" target="_blank">https://alili.tech/archive/cdp8lnjwcp/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>