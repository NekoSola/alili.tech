<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JavaScript进阶学习（三）—— 基于html5 File API的文件操作"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JavaScript进阶学习（三）—— 基于html5 File API的文件操作 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/9wunadrxegf/",
				"appid": "1613049289050283", 
				"title": "JavaScript进阶学习（三）—— 基于html5 File API的文件操作 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-05T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ugpgd7xatjn/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/hhuihqceoz/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&text=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&text=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&title=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&is_video=false&description=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&title=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&title=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&title=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9wunadrxegf%2f&title=JavaScript%e8%bf%9b%e9%98%b6%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%89%ef%bc%89%e2%80%94%e2%80%94%20%e5%9f%ba%e4%ba%8ehtml5%20File%20API%e7%9a%84%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JavaScript进阶学习（三）—— 基于html5 File API的文件操作</h1><div class="meta"><div class="postdate"><time datetime="2019-02-05" itemprop="datePublished">2019-02-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e文章来源：小青年原创\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e发布时间：2016-08-16\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e关键词：blob，File，FileReader，DataURI，URL\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e转载需标注本文原始地址: \x3ca href=\x22http:\/\/zhaomenghuan.github.io\/#!\/blog\/20160816\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/zhaomenghuan.github.io...\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e写在前面\x3c\/h2\x3e\n\x3cp\x3e这段时间一直有朋友在问文件上传下载的事，搜一下论坛发现相关的问题不少，但是不够系统，本着为人民服务的态度本文试着将一些问题整理一下，争取用初学者可以更明确的去处理相关的问题。文件上传是开发中绕不过的一个坎儿，对于很多没有经验的人来说，简直懵逼，目前我所知道的上传方式有下面这几种：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e传统flash上传\x3c\/li\x3e\n\x3cli\x3e隐藏iframe框上传\x3c\/li\x3e\n\x3cli\x3e表单数据提交\x3c\/li\x3e\n\x3cli\x3eHTML5的新工具——File API\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e本文限于篇幅先介绍最后一种使用html5 File API进行文件上传的相关细节。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e历史上，JavaScript无法处理二进制数据。如果一定要处理的话，只能使用charCodeAt()方法，一个个字节地从文字编码转成二进制数据，还有一种办法是将二进制数据转成Base64编码，再进行处理。这两种方法不仅速度慢，而且容易出错。ECMAScript 5引入了Blob对象，允许直接操作二进制数据。Blob对象是一个代表二进制数据的基本对象，在它的基础上，又衍生出一系列相关的API，用来操作文件。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eFile API\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3eFile 接口提供了文件的信息，以及文件内容的存取方法。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eFile对象可以用来获取某个文件的信息，还可以用来读取这个文件的内容。通常情况下，File对象是来自用户在一个\x26lt;input\x26gt;元素上选择文件后返回的FileList对象,也可以是来自由拖放操作生成的 DataTransfer对象.\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e通过input file标签选择文件\x3c\/h3\x3e\n\x3cp\x3e默认的input file标签比较难看，需要自己改造，一般无非是将input file设置宽高，然后使用overflow: hidden;将多余的部分隐藏，在上面再盖一个美化的按钮或者提示语，如下图：\x3c\/p\x3e\n\x3cp\x3e浏览器原生的效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVBRk8?w=234\x26amp;h=64\x22 src=\x22https:\/\/static.alili.tech\/img\/bVBRk8?w=234\x26amp;h=64\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e经过美化的效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVBRlg?w=451\x26amp;h=101\x22 src=\x22https:\/\/static.alili.tech\/img\/bVBRlg?w=451\x26amp;h=101\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n    \x3chead\x3e\n        \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n        \x3ctitle\x3e\x3c\/title\x3e\n        \x3cstyle type=\x26quot;text\/css\x26quot;\x3e\n            *{\n                margin: 0px;\n                padding: 0px;\n            }\n            .filePicker{\n                width: 160px;\n                height: 44px;\n                line-height: 44px;\n                text-align: center;\n                color: #fff;\n                background: #00b7ee;        \n            }\n            .filePicker input[type=\x26quot;file\x26quot;] {\n                position: relative;\n                top: -44px;\n                left: 0px;\n                width: 160px;\n                height: 44px;\n                opacity: 0;\n                cursor: pointer;\n                overflow: hidden;\n                z-index: 0;\n            }\n            \n            .container{\n                width: 160px;\n                margin: 30px auto;\n            }\n        \x3c\/style\x3e\n    \x3c\/head\x3e\n    \x3cbody\x3e\n        \x3cdiv class=\x26quot;container\x26quot;\x3e\n            \x3cinput type=\x26quot;file\x26quot; name=\x26quot;\x26quot; id=\x26quot;\x26quot; value=\x26quot;\x26quot; \/\x3e\n        \x3c\/div\x3e    \n        \x3cdiv class=\x26quot;container\x26quot;\x3e\n            \x3cdiv class=\x26quot;filePicker\x26quot;\x3e\n                \x3clabel\x3e点击选择文件\x3c\/label\x3e\n                \x3cinput id=\x26quot;fileInput\x26quot; type=\x26quot;file\x26quot; name=\x26quot;file\x26quot; multiple=\x26quot;multiple\x26quot; accept=\x26quot;image\/*\x26quot;\x3e\n            \x3c\/div\x3e\n        \x3c\/div\x3e\n    \x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n            *{\n                \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-selector-class\x22\x3e.filePicker\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e160px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e44px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e44px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: center;\n                \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#00b7ee\x3c\/span\x3e;        \n            }\n            \x3cspan class=\x22hljs-selector-class\x22\x3e.filePicker\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3einput\x3c\/span\x3e\x3cspan class=\x22hljs-selector-attr\x22\x3e[type=\x22file\x22]\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n                \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e44px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e160px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e44px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n                \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n                \x3cspan class=\x22hljs-attribute\x22\x3ez-index\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            }\n            \n            \x3cspan class=\x22hljs-selector-class\x22\x3e.container\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e160px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30px\x3c\/span\x3e auto;\n            }\n        \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e    \n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22filePicker\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/span\x3e点击选择文件\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3elabel\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22fileInput\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3emultiple\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22multiple\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eaccept\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22image\/*\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以通过给input file标签设置accept属性进行文件选择过滤，该属性的值必须为一个逗号分割的列表,包含了多个唯一的内容类型声明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e以 STOP 字符 (U\x2b002E) 开始的文件扩展名。（例如：\x22.jpg,.png,.doc\x22）\x3c\/li\x3e\n\x3cli\x3e一个有效的 MIME 类型，但没有扩展名\x3c\/li\x3e\n\x3cli\x3eaudio\/* 表示音频文件 HTML5\x3c\/li\x3e\n\x3cli\x3evideo\/* 表示视频文件 HTML5\x3c\/li\x3e\n\x3cli\x3eimage\/* 表示图片文件\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e设置multiple属性可以进行设置为多选。\x3c\/p\x3e\n\x3cp\x3e设置capture属性可以进行设置打开摄像拍照或者录像。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Capture Image: \n\x3cinput type=\x26quot;file\x26quot; accept=\x26quot;image\/*\x26quot; capture=\x26quot;camera\x26quot;\x3e \nCapture Audio: \n\x3cinput type=\x26quot;file\x26quot; accept=\x26quot;audio\/*\x26quot; capture=\x26quot;microphone\x26quot;\x3e \nCapture Video: \n\x3cinput type=\x26quot;file\x26quot; accept=\x26quot;video\/*\x26quot; capture=\x26quot;camcorder\x26quot;\x3e \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eCapture\x3c\/span\x3e Image: \n\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e accept=\x3cspan class=\x22hljs-string\x22\x3e\x22image\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ecapture\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22camera\x22\x3c\/span\x3e\x26gt; \n\x3cspan class=\x22hljs-keyword\x22\x3eCapture\x3c\/span\x3e Audio: \n\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e accept=\x3cspan class=\x22hljs-string\x22\x3e\x22audio\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ecapture\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22microphone\x22\x3c\/span\x3e\x26gt; \n\x3cspan class=\x22hljs-keyword\x22\x3eCapture\x3c\/span\x3e Video: \n\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3einput\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e accept=\x3cspan class=\x22hljs-string\x22\x3e\x22video\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ecapture\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22camcorder\x22\x3c\/span\x3e\x26gt; \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3emultiple属性和capture属性不能同时生效。\x3c\/p\x3e\n\x3cp\x3e通过File API,我们可以在用户选取一个或者多个文件之后,访问到代表了所选文件的一个或多个File对象，这些对象被包含在一个FileList对象中。所有type属性(attribute)为file的\x26lt;input\x26gt;元素都有一个files属性，用来存储用户所选择的文件。files有一个length属性和item方法，我们可以通过files[index]或者files.item(index)获取我们选择的file对象。可以通过change事件监听input file输入完成事件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var fileInput = document.getElementById(\x26quot;fileInput\x26quot;);\nfileInput.addEventListener(\x27change\x27, function(event) {\n    var file = fileInput.files[0];\n    \/\/ 或file = fileInput.files.item(0);\n    console.log(file);\n}, false);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fileInput = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22fileInput\x22\x3c\/span\x3e);\nfileInput.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = fileInput.files[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 或file = fileInput.files.item(0);\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(file);\n}, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eFile API提供File对象，它是FileList对象的成员，包含了文件的一些元信息，比如文件名、上次改动时间、文件大小和文件类型。下图可以File对象的属性：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVBRlF?w=765\x26amp;h=146\x22 src=\x22https:\/\/static.alili.tech\/img\/bVBRlF?w=765\x26amp;h=146\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3elastModifiedDate：文件对象最后修改的日期\x3c\/li\x3e\n\x3cli\x3ename：文件名,只读字符串,不包含任何路径信息.\x3c\/li\x3e\n\x3cli\x3esize：文件大小,单位为字节,只读的64位整数.\x3c\/li\x3e\n\x3cli\x3etype：MIME类型,只读字符串,如果类型未知,则返回空字符串.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e例如：我们可以根据size换算出我们习惯的文件大小表达方式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * 读文件大小\n * @param {Object} file\n *\/\nfunction readFileSize(file){\n    var size = file.size \/ 1024;\n    var aMultiples = [\x26quot;KB\x26quot;, \x26quot;MB\x26quot;, \x26quot;GB\x26quot;, \x26quot;TB\x26quot;, \x26quot;PB\x26quot;, \x26quot;EB\x26quot;, \x26quot;ZB\x26quot;, \x26quot;YB\x26quot;];\n    \n    var fileSizeString = \x27\x27;\n    for(var i = 0; size \x3e 1; size \/= 1024, i\x2b\x2b) {\n       fileSizeString = size.toFixed(2) \x2b \x26quot; \x26quot; \x2b aMultiples[i];\n    }\n    return fileSizeString;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * 读文件大小\n * @param {Object} file\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereadFileSize\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efile\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e = file.size \/ \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e aMultiples = [\x3cspan class=\x22hljs-string\x22\x3e\x22KB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22MB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22GB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22TB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22PB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22EB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22ZB\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22YB\x22\x3c\/span\x3e];\n    \n    \x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e fileSizeString = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e \x26gt; \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e \/= \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e, i\x2b\x2b) {\n       fileSizeString = \x3cspan class=\x22hljs-built_in\x22\x3esize\x3c\/span\x3e.toFixed(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22 \x22\x3c\/span\x3e \x2b aMultiples[i];\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e fileSizeString;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有时候我们希望限制用户上传的文件大小，可以通过这个方法先做判断。同时我们可以通过type属性判断用户的文件类型，但是这种方法不可靠，因为用户可以通过改变后缀名实现。\x3c\/p\x3e\n\x3cp\x3e很多新手企图通过input file标签获得文件完整路径，由于浏览器安全机制，这个是不被允许的，但是有时候我们希望选择完图片预览一下图片，这个时候我们就可以用FileReader API实现。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e通过拖放操作选择文件\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e预览效果\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVBRlM?w=343\x26amp;h=454\x22 src=\x22https:\/\/static.alili.tech\/img\/bVBRlM?w=343\x26amp;h=454\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e代码实现\x3c\/strong\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml\x3e\n    \x3chead\x3e\n        \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n        \x3ctitle\x3e\x3c\/title\x3e\n        \x3cstyle type=\x26quot;text\/css\x26quot;\x3e\n            .dropbox{\n                width: 300px;\n                height: 300px;\n                margin: 20px;\n                border: 3px dashed #e6e6e6;\n            }\n            .area{\n                margin: 100px auto;\n                width: 100px;\n                height: 100px;\n                background-repeat: no-repeat;\n                background-image: url(\x26quot;data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABLCAIAAAB7tddWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw\/eHBhY2tldCBiZWdpbj0i77u\/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8\x2bIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Q0VBNzA0MjEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0VBNzA0MzEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyI\x2bIDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAzNDA2MkY1MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAzNDA2MkY2MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIi8\x2bIDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY\x2bIDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8\x2bK6izdgAAAvpJREFUeNrsnFmPqkAQhWmX667gEp9c\/v\x2b\/MkSDG\x2b4LrvdcSYgRbw\/0ALZQ9WBUJOn\x2buqvqHGCG3e93hUJRUoSAQBAIAkEgCASBIBAE4neRicEcII51Xb\/dbnjPGOt0OqlUKok7ApN3jIKwY6DUIBAEgkAQCALho\/X47TeXy8U0TcuyrtdrZKPs9\/v2m8FgINYgf9QX\/gTV\x2bXw2DCNKBJKmxmKxsAVc0kEcDgfyGq8CNp\/Pa5qWy\x2bWiHG6v13v7\/XPt6Ha7Al5D3HQ1Go1sNkvtU8lkMsmtESSoCASBSFqEW\/DQ0tbr9W63O51OKK6FQkFV1XQ6nSwQ0OOTyQSvjknZbDaA0mq1QCQafSFFasxmM4eCE1Do0\x2blUQrcSFggsPhzq20NgsVqtkpIax\x2bMxMs\x2bC\/aXruvMxaonND75J9W5hUWWxuYAVdRfTg8EplUphGJywQPAFuBd5Dlhw\/aDwwgVtCDgCdzph1QisG\x2bdosVjkn44WYxjGC4XnvBuNRtvt9gtA2Hv47SGsZKVS4ef8eDzG4vMVCrpSgEU3xPbZbDar1erLl1AQ7XabU8xAAXvB3XffBnIHwkR2QcUYq9fr5XIZOxkTg6BEkeNLKdQF7AWPFBy1AoUmu8RG\/HmE91nxM\x2bJ\/ORIr07VcLvf7feCt\x2bstAQGIBRNJtOJolDAhdj\/hXGj5\x2bu\x2bTzIKAF\x2bMbkK00XFta2BhDRUE0\/9gv8Elogbu4TBW8\x2bnyPhHSeuaVqtVuNQC6TzyQUCXsg0TbfyAxfIKogr9ynP1GJyYQZ57qbg7AuIRfclKZwSlDqWBQSmxM9zFALYh\x2bfFBwJJSkNgqeFxSrAPw\x2bEQ9QJew7Is2Sj8FgSW2nu1gylYPkKRMsRTA\x2b4IcjA2fxsnDkLOq\/IfACFP54uP1yAQBIJAEIh4gWCPkHk\x2bGJ7AjU\/fICJ\x2bqlIghEfoDwQMtRjvyLYDRih4rsDT\x2bbBM9tP5kuhrzN\x2b\x2be6SqqvCdYUb\/SIO6BoEgEASCQBAIAkEgCEQg8VeAAQAB1bbO2qoeewAAAABJRU5ErkJggg==\x26quot;);\n            }\n            \n            #preview img{\n                width: 100px;\n                height: 100px;\n            }\n        \x3c\/style\x3e\n    \x3c\/head\x3e\n    \x3cbody\x3e\n        \x3cdiv id=\x26quot;dropbox\x26quot; class=\x26quot;dropbox\x26quot;\x3e\n            \x3cdiv class=\x26quot;area\x26quot;\x3e\x3c\/div\x3e\n        \x3c\/div\x3e\n        \x3cdiv id=\x26quot;preview\x26quot;\x3e\x3c\/div\x3e\n        \n        \x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n            var dropbox = document.getElementById(\x26quot;dropbox\x26quot;);\n            var preview = document.getElementById(\x26quot;preview\x26quot;);\n            \n            dropbox.addEventListener(\x26quot;dragenter\x26quot;, function(e){\n                e.stopPropagation();\n                  e.preventDefault();\n            }, false);\n            \n            dropbox.addEventListener(\x26quot;dragover\x26quot;, function(e){\n                e.stopPropagation();\n                  e.preventDefault();\n            }, false);\n            \n            dropbox.addEventListener(\x26quot;drop\x26quot;, function(e){\n                e.stopPropagation();\n                  e.preventDefault();\n            \n                  var dt = e.dataTransfer;\n                  var files = dt.files;\n                  \n                  for (var i = 0; i \x3c files.length; i\x2b\x2b) {\n                    var file = files[i];\n                    var imageType = \/^image\\\/\/;\n\n                    if ( !imageType.test(file.type) ) {\n                          continue;\n                    }\n                    \n                    \/\/ 填充选择的图片到展示区\n                    var img = document.createElement(\x26quot;img\x26quot;);\n                    img.classList.add(\x26quot;obj\x26quot;);\n                    img.file = file;\n                    preview.appendChild(img);\n                    \n                    \/\/ 读取File对象中的内容\n                    var reader = new FileReader();\n                    reader.onload = (function(aImg) { \n                      return function(e) { \n                        aImg.src = e.target.result; \n                      }; \n                    })(img);\n                    reader.readAsDataURL(file);\n                }\n            }, false);\n        \x3c\/script\x3e\n    \x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n            \x3cspan class=\x22hljs-selector-class\x22\x3e.dropbox\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e300px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3px\x3c\/span\x3e dashed \x3cspan class=\x22hljs-number\x22\x3e#e6e6e6\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-selector-class\x22\x3e.area\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e auto;\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3ebackground-repeat\x3c\/span\x3e: no-repeat;\n                \x3cspan class=\x22hljs-attribute\x22\x3ebackground-image\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABLCAIAAAB7tddWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw\/eHBhY2tldCBiZWdpbj0i77u\/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8\x2bIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Q0VBNzA0MjEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0VBNzA0MzEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyI\x2bIDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAzNDA2MkY1MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAzNDA2MkY2MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIi8\x2bIDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY\x2bIDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8\x2bK6izdgAAAvpJREFUeNrsnFmPqkAQhWmX667gEp9c\/v\x2b\/MkSDG\x2b4LrvdcSYgRbw\/0ALZQ9WBUJOn\x2buqvqHGCG3e93hUJRUoSAQBAIAkEgCASBIBAE4neRicEcII51Xb\/dbnjPGOt0OqlUKok7ApN3jIKwY6DUIBAEgkAQCALho\/X47TeXy8U0TcuyrtdrZKPs9\/v2m8FgINYgf9QX\/gTV\x2bXw2DCNKBJKmxmKxsAVc0kEcDgfyGq8CNp\/Pa5qWy\x2bWiHG6v13v7\/XPt6Ha7Al5D3HQ1Go1sNkvtU8lkMsmtESSoCASBSFqEW\/DQ0tbr9W63O51OKK6FQkFV1XQ6nSwQ0OOTyQSvjknZbDaA0mq1QCQafSFFasxmM4eCE1Do0\x2blUQrcSFggsPhzq20NgsVqtkpIax\x2bMxMs\x2bC\/aXruvMxaonND75J9W5hUWWxuYAVdRfTg8EplUphGJywQPAFuBd5Dlhw\/aDwwgVtCDgCdzph1QisG\x2bdosVjkn44WYxjGC4XnvBuNRtvt9gtA2Hv47SGsZKVS4ef8eDzG4vMVCrpSgEU3xPbZbDar1erLl1AQ7XabU8xAAXvB3XffBnIHwkR2QcUYq9fr5XIZOxkTg6BEkeNLKdQF7AWPFBy1AoUmu8RG\/HmE91nxM\x2bJ\/ORIr07VcLvf7feCt\x2bstAQGIBRNJtOJolDAhdj\/hXGj5\x2bu\x2bTzIKAF\x2bMbkK00XFta2BhDRUE0\/9gv8Elogbu4TBW8\x2bnyPhHSeuaVqtVuNQC6TzyQUCXsg0TbfyAxfIKogr9ynP1GJyYQZ57qbg7AuIRfclKZwSlDqWBQSmxM9zFALYh\x2bfFBwJJSkNgqeFxSrAPw\x2bEQ9QJew7Is2Sj8FgSW2nu1gylYPkKRMsRTA\x2b4IcjA2fxsnDkLOq\/IfACFP54uP1yAQBIJAEIh4gWCPkHk\x2bGJ7AjU\/fICJ\x2bqlIghEfoDwQMtRjvyLYDRih4rsDT\x2bbBM9tP5kuhrzN\x2b\x2be6SqqvCdYUb\/SIO6BoEgEASCQBAIAkEgCEQg8VeAAQAB1bbO2qoeewAAAABJRU5ErkJggg==\x22\x3c\/span\x3e);\n            }\n            \n            \x3cspan class=\x22hljs-selector-id\x22\x3e#preview\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eimg\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n                \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n            }\n        \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dropbox\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22dropbox\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22area\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22preview\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dropbox = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22dropbox\x22\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e preview = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22preview\x22\x3c\/span\x3e);\n            \n            dropbox.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22dragenter\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n                e.stopPropagation();\n                  e.preventDefault();\n            }, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n            \n            dropbox.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22dragover\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n                e.stopPropagation();\n                  e.preventDefault();\n            }, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n            \n            dropbox.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22drop\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n                e.stopPropagation();\n                  e.preventDefault();\n            \n                  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dt = e.dataTransfer;\n                  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e files = dt.files;\n                  \n                  \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; files.length; i\x2b\x2b) {\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = files[i];\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e imageType = \x3cspan class=\x22hljs-regexp\x22\x3e\/^image\\\/\/\x3c\/span\x3e;\n\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( !imageType.test(file.type) ) {\n                          \x3cspan class=\x22hljs-keyword\x22\x3econtinue\x3c\/span\x3e;\n                    }\n                    \n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 填充选择的图片到展示区\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e img = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e);\n                    img.classList.add(\x3cspan class=\x22hljs-string\x22\x3e\x22obj\x22\x3c\/span\x3e);\n                    img.file = file;\n                    preview.appendChild(img);\n                    \n                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 读取File对象中的内容\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reader = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e FileReader();\n                    reader.onload = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eaImg\x3c\/span\x3e) \x3c\/span\x3e{ \n                      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{ \n                        aImg.src = e.target.result; \n                      }; \n                    })(img);\n                    reader.readAsDataURL(file);\n                }\n            }, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n        \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这个例子中，ID 为 dropbox 的元素所在的区域是我们的拖放目的区域。我们需要在该元素上绑定 dragenter，dragover，和drop 事件。我们必须阻止dragenter和dragover事件的默认行为，这样才能触发 drop 事件。我们从drop 事件对象中获取到dataTransfer对象，这个对象包含Filelist对象。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eFileReader API\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e使用FileReader对象,web应用程序可以异步的读取存储在用户计算机上的文件(或者原始数据缓冲)内容,可以使用File对象或者Blob对象来指定所要处理的文件或数据.其中File对象可以是来自用户在一个\x26lt;input\x26gt;元素上选择文件后返回的FileList对象,也可以来自拖放操作生成的 DataTransfer对象,还可以是来自在一个HTMLCanvasElement上执行mozGetAsFile()方法后的返回结果。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eDataURI对象\x3c\/h3\x3e\n\x3cp\x3e在上面通过拖放操作选择文件的例子中，我们使用了\x22data:image\/png;base64,xxxxxxxxxxxxx\x22这种形式的字符串作为背景，而不是图片，选择的图片展示也是使用这种形式。这种字符串叫做DataURI对象，允许将一个小文件进行编码后嵌入到另外一个文档里，格式为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22data:[\x3cMIME type\x3e][;charset=\x3ccharset\x3e][;base64],\x3cencoded data\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3edata:[\x3cspan class=\x22hljs-string\x22\x3e\x26lt;MIME type\x26gt;\x3c\/span\x3e][\x3cspan class=\x22hljs-symbol\x22\x3e;charset=\x26lt;charset\x26gt;\x3c\/span\x3e][\x3cspan class=\x22hljs-string\x22\x3e;base64\x3c\/span\x3e],\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eencoded\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e整体可以视为三部分，即声明：参数\x2b数据，逗号左边的是各种参数，右边的是数据。\x3c\/p\x3e\n\x3cp\x3eURL是uniform resource locator的缩写，在web中的每一个可访问资源都有一个URL地址，例如图片，HTML文件，js文件以及style sheet文件，我们可以通过这个地址去download这个资源。其实URL是URI的子集，URI是uniform resource identifier的缩写。URI是用于获取资源，包括其附加的信息的一种协议。附加信息可能是地址，也可能不是地址，如果是地址，那么这时URI就变成URL了。注意的是data URI不是URL，因为它并不包含资源的公共地址。\x3c\/p\x3e\n\x3cp\x3e我们可以通过FileReader 的readAsDataURL方法获得：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var reader = new FileReader();\nreader.onload = function() {\n    console.log(this.result);\n}\nreader.readAsDataURL(file);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reader = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e FileReader();\nreader.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.result);\n}\nreader.readAsDataURL(file);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有时候我们需要将DataURI对象转blob对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * dataURI 转 blob\n * @param {Object} dataURI\n *\/\nfunction dataURItoBlob(dataURI) {\n    var arr = dataURI.split(\x27,\x27), mime = arr[0].match(\/:(.*?);\/)[1],\n    bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n    while(n--){\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], {type:mime});\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * dataURI 转 blob\n * @param {Object} dataURI\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edataURItoBlob\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edataURI\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e arr = dataURI.split(\x3cspan class=\x22hljs-string\x22\x3e\x27,\x27\x3c\/span\x3e), mime = arr[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].match(\x3cspan class=\x22hljs-regexp\x22\x3e\/:(.*?);\/\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e],\n    bstr = atob(arr[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]), n = bstr.length, u8arr = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eUint8Array\x3c\/span\x3e(n);\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(n--){\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Blob([u8arr], {\x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e:mime});\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eURL对象\x3c\/h3\x3e\n\x3cp\x3e我们除了可以使用base64字符串作为内容的DataURI将一个文件嵌入到另外一个文档里，还可以使用URL对象。URL对象用于生成指向File对象或Blob对象的URL。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3ewindow.URL.createObjectURL\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e静态方法会创建一个 DOMString，它的 URL 表示参数中的对象。这个 URL 的生命周期和创建它的窗口中的 document 绑定。这个新的URL 对象表示着指定的 File 对象或者 Blob 对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var objecturl =  window.URL.createObjectURL(file);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e objecturl =  \x3cspan class=\x22hljs-keyword\x22\x3ewindow\x3c\/span\x3e.URL.createObjectURL(\x3cspan class=\x22hljs-keyword\x22\x3efile\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3ewindow.URL.revokeObjectURL\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e静态方法用来释放一个之前通过调用 window.URL.createObjectURL() 创建的已经存在的 URL 对象。当你结束使用某个 URL 对象时，应该通过调用这个方法来让浏览器知道不再需要保持这个文件的引用了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.URL.revokeObjectURL(objecturl)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ewindow\x3cspan class=\x22hljs-selector-class\x22\x3e.URL\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.revokeObjectURL\x3c\/span\x3e(objecturl)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e例如：使用对象URL来显示图片：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.URL = window.URL || window.webkitURL;\n\nvar img = document.createElement(\x26quot;img\x26quot;);\nimg.src = window.URL.createObjectURL(blob);\nimg.height = 60;\nimg.onload = function(e) {\n    window.URL.revokeObjectURL(this.src);\n}\ndocument.body.appendChild(img);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.URL = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.URL || \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.webkitURL;\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e img = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22img\x22\x3c\/span\x3e);\nimg.src = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.URL.createObjectURL(blob);\nimg.height = \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e;\nimg.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.URL.revokeObjectURL(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.src);\n}\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.appendChild(img);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eFileReader API详解\x3c\/h3\x3e\n\x3ch4\x3e状态常量\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3eEMPTY\x3c\/strong\x3e：值为0，还没有加载任何数据;\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eLOADING\x3c\/strong\x3e：值为1，数据正在被加载;\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eDONE\x3c\/strong\x3e：值为2，已完成全部的读取请求。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e属性\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3eerror\x3c\/strong\x3e：在读取文件时发生的错误， 只读;\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ereadyState\x3c\/strong\x3e：表明FileReader对象的当前状态，值为State constants中的一个，只读；\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eresult\x3c\/strong\x3e：取到的文件内容，这个属性只在读取操作完成之后才有效,并且数据的格式取决于读取操作是由哪个方法发起的，只读。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e方法\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3eabort()\x3c\/strong\x3e：中止该读取操作.在返回时,readyState属性的值为DONE.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ereadAsArrayBuffer()\x3c\/strong\x3e：开始读取指定的Blob对象或File对象中的内容. 当读取操作完成时,readyState属性的值会成为DONE,如果设置了onloadend事件处理程序,则调用之.同时,result属性中将包含一个ArrayBuffer对象以表示所读取文件的内容.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ereadAsBinaryString()\x3c\/strong\x3e：开始读取指定的Blob对象或File对象中的内容. 当读取操作完成时,readyState属性的值会成为DONE,如果设置了onloadend事件处理程序,则调用之.同时,result属性中将包含所读取文件的原始二进制数据.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ereadAsDataURL()\x3c\/strong\x3e：开始读取指定的Blob对象或File对象中的内容. 当读取操作完成时,readyState属性的值会成为DONE,如果设置了onloadend事件处理程序,则调用之.同时,result属性中将包含一个data: URL格式的字符串以表示所读取文件的内容.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3ereadAsText()\x3c\/strong\x3e：开始读取指定的Blob对象或File对象中的内容. 当读取操作完成时,readyState属性的值会成为DONE,如果设置了onloadend事件处理程序,则调用之.同时,result属性中将包含一个字符串以表示所读取的文件内容.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e事件处理\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cstrong\x3eonabort\x3c\/strong\x3e：当读取操作被中止时调用.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eonerror\x3c\/strong\x3e：当读取操作发生错误时调用.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eonload\x3c\/strong\x3e：当读取操作成功完成时调用.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eonloadend\x3c\/strong\x3e：当读取操作完成时调用,不管是成功还是失败.该处理程序在onload或者onerror之后调用.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eonloadstart\x3c\/strong\x3e：当读取操作将要开始之前调用.\x3c\/li\x3e\n\x3cli\x3e\n\x3cstrong\x3eonprogress\x3c\/strong\x3e：在读取数据过程中周期性调用.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e上传实例\x3c\/strong\x3e：以二进制流上传文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var fileInput = document.getElementById(\x26quot;fileInput\x26quot;);\nfileInput.addEventListener(\x27change\x27, function(event) {\n    var file = fileInput.files[0];\n    if (file) {\n        var reader = new FileReader();  \n        var xhr = new XMLHttpRequest();\n        xhr.onprogress=function(e){\n            var percentage = Math.round((e.loaded * 100) \/ e.total);\n            console.log(\x26quot;percentage:\x26quot;\x2bpercentage);\n        }\n        xhr.onload=function(e){\n            console.log(\x26quot;percentage:100\x26quot;);\n        }\n        xhr.open(\x26quot;POST\x26quot;, \x26quot;这里填写服务器地址\x26quot;);  \n        reader.onload = function(evt) {\n            xhr.send(evt.target.result);\n        };\n        reader.readAsBinaryString(file);\n    }\n});         \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fileInput = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x22fileInput\x22\x3c\/span\x3e);\nfileInput.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = fileInput.files[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (file) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e reader = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e FileReader();  \n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e xhr = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n        xhr.onprogress=\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e percentage = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.round((e.loaded * \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e) \/ e.total);\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22percentage:\x22\x3c\/span\x3e\x2bpercentage);\n        }\n        xhr.onload=\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22percentage:100\x22\x3c\/span\x3e);\n        }\n        xhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x22POST\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22这里填写服务器地址\x22\x3c\/span\x3e);  \n        reader.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{\n            xhr.send(evt.target.result);\n        };\n        reader.readAsBinaryString(file);\n    }\n});         \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eblob 二进制大对象\x3c\/h2\x3e\n\x3cp\x3eBLOB (binary large object)，二进制大对象，是一个可以存储二进制文件的容器。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e创建Blob对象的方法有几种，可以调用Blob构造函数，还可以使用一个已有Blob对象上的slice()方法切出另一个Blob对象，还可以调用canvas对象上的toBlob方法。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e第一次见到这个词是半年之前，那个时候居然没有听过blob，然后上网查了一下，巴拉巴拉一大堆，当时是不理解的。\x3c\/p\x3e\n\x3cp\x3e看了前面的一系列API和对象，或许很多同学开始晕了，但是在一开始说到的blob对象，我们一直没有提到，如果本文不提及，显然是不合理的。毕竟作为File对象的爸爸，blob劳苦功高。上述的FileReader对象也可以操作blob对象。\x3c\/p\x3e\n\x3cp\x3eBlob对象有两个只读属性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3esize：二进制数据的大小，单位为字节。\x3c\/li\x3e\n\x3cli\x3etype：二进制数据的MIME类型，全部为小写，如果类型未知，则该值为空字符串。\x3cbr\x3e在Ajax操作中，如果xhr.responseType设为blob，接收的就是二进制数据。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eBlob 构造函数生成blob对象\x3c\/h3\x3e\n\x3cp\x3eBlob构造函数，接受两个参数。第一个参数是一个包含实际数据的数组，第二个参数是数据的类型，这两个参数都不是必需的。数组元素可以是任意多个的ArrayBuffer，ArrayBufferView (typed array)， Blob，或者 DOMString对象。\x3cbr\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var arr = [\x27\x3ch1\x3ehello world\x3c\/h1\x3e\x27];\nvar blob = new Blob(arr, { \x26quot;type\x26quot; : \x26quot;text\/xml\x26quot; }); \/\/ the blob\nconsole.log(blob);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e arr = [\x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;h1\x26gt;hello world\x26lt;\/h1\x26gt;\x27\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Blob(arr, { \x3cspan class=\x22hljs-string\x22\x3e\x22type\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22text\/xml\x22\x3c\/span\x3e }); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ the blob\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(blob);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVBRmh?w=401\x26amp;h=63\x22 src=\x22https:\/\/static.alili.tech\/img\/bVBRmh?w=401\x26amp;h=63\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e用JS在浏览器中创建下载文件\x3c\/h4\x3e\n\x3cp\x3e前端很多项目中，都有文件下载的需求，特别是JS生成文件内容，然后让浏览器执行下载操作（例如在线图片编辑、在线代码编辑、iPresst等）但受限于浏览器，很多情况下我们都只能给出个链接，让用户点击打开-》另存为。如下面这个链接：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca href=\x26quot;file.js\x26quot;\x3efile.js\x3c\/a\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e href=\x3cspan class=\x22hljs-string\x22\x3e\x22file.js\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22hljs-built_in\x22\x3efile\x3c\/span\x3e.js\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用户点击这个链接的时候，浏览器会打开并显示链接指向的文件内容，显然，这并没有实现我们的需求。HTML5中给a标签增加了一个download属性，只要有这个属性，点击这个链接时浏览器就不在打开链接指向的文件，而是改为下载（目前只有chrome、firefox和opera支持）。下载时会直接使用链接的名字来作为文件名，但是是可以改的，只要给download加上想要的文件名即可，如：\x3ccode\x3edownload=\x22not-a-file.js\x22\x3c\/code\x3e。但是这样还不够，以上的方法只适合用在文件是在服务器上的情况。如果在浏览器端js生成的内容，想让浏览器进行下载要如何办到呢？DataURI可以实现这个效果，但是DataURI的文件类型被限制了，我们这里可以变通一下实现blob对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca id=\x26quot;aLink\x26quot;\x3e下载\x3c\/a\x3e\n\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n    function downloadFile (el, fileName, content) {\n        var aLink = document.querySelector(el);\n        var blob = new Blob([content]);                \n        aLink.download = fileName;\n        aLink.href = URL.createObjectURL(blob);\n    }\n    document.querySelector(\x27#aLink\x27).addEventListener(\x27click\x27,function () {\n        downloadFile(\x27#aLink\x27, \x27hello.txt\x27, \x27\x3ch1\x3ehello world\x3c\/h1\x3e\x27);\n    })\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22aLink\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e下载\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edownloadFile\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eel, fileName, content\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e aLink = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(el);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Blob([content]);                \n        aLink.download = fileName;\n        aLink.href = URL.createObjectURL(blob);\n    }\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27#aLink\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        downloadFile(\x3cspan class=\x22hljs-string\x22\x3e\x27#aLink\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27hello.txt\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;h1\x26gt;hello world\x26lt;\/h1\x26gt;\x27\x3c\/span\x3e);\n    })\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3eBlob对象的slice方法生成blob对象\x3c\/h3\x3e\n\x3cp\x3eBlob对象的slice方法，将二进制数据按照字节分块，返回一个新的Blob对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var newBlob = oldBlob.slice(startingByte, endindByte);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eBlob\x3c\/span\x3e = oldBlob.slice(startingByte, endindByte);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e下面是一个使用XMLHttpRequest对象，将大文件分割上传的例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function upload(blobOrFile) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\x27POST\x27, \x27\/server\x27, true);\n  xhr.onload = function(e) { ... };\n  xhr.send(blobOrFile);\n}\n\ndocument.querySelector(\x27input[type=\x26quot;file\x26quot;]\x27).addEventListener(\x27change\x27, function(e) {\n  var blob = this.files[0];\n\n  const BYTES_PER_CHUNK = 1024 * 1024; \/\/ 1MB chunk sizes.\n  const SIZE = blob.size;\n\n  var start = 0;\n  var end = BYTES_PER_CHUNK;\n\n  while(start \x3c SIZE) {\n    upload(blob.slice(start, end));\n\n    start = end;\n    end = start \x2b BYTES_PER_CHUNK;\n  }\n}, false);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eupload\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eblobOrFile\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e xhr = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n  xhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x27POST\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\/server\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n  xhr.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{ ... };\n  xhr.send(blobOrFile);\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelector(\x3cspan class=\x22hljs-string\x22\x3e\x27input[type=\x22file\x22]\x27\x3c\/span\x3e).addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27change\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e blob = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.files[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e BYTES_PER_CHUNK = \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1024\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1MB chunk sizes.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e SIZE = blob.size;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e start = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e end = BYTES_PER_CHUNK;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(start \x26lt; SIZE) {\n    upload(blob.slice(start, end));\n\n    start = end;\n    end = start \x2b BYTES_PER_CHUNK;\n  }\n}, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e参考文档\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Using_files_from_web_applications\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在web应用中使用文件\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/aiyouu.net\/data-uris-explained\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDataURI详解\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/javascript.ruanyifeng.com\/htmlapi\/file.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文件和二进制数据的操作\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.zhangxinxu.com\/wordpress\/2013\/10\/understand-domstring-document-formdata-blob-file-arraybuffer\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e理解DOMString、Document、FormData、Blob、File、ArrayBuffer数据类型\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.jb51.net\/article\/47723.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e用JS在浏览器中创建下载文件\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e写文章不容易，也许写这些代码就几分钟的事，写一篇大家好接受的文章或许需要几天的酝酿，然后加上几天的码字，累并快乐着。如果文章对您有帮助请我喝杯咖啡吧！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMMoV?w=612\x26amp;h=384\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMMoV?w=612\x26amp;h=384\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JavaScript进阶学习（三）—— 基于html5 File API的文件操作</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006600936">https://segmentfault.com/a/1190000006600936</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/9wunadrxegf/" target="_blank">https://alili.tech/archive/9wunadrxegf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>