<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="基于NODEJS的SSO登录方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>基于NODEJS的SSO登录方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/rvrdvm3qjj/",
				"appid": "1613049289050283", 
				"title": "基于NODEJS的SSO登录方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kttlr3zcdkk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/cdwotenjqso/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&text=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&text=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&title=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&is_video=false&description=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&title=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&title=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&title=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frvrdvm3qjj%2f&title=%e5%9f%ba%e4%ba%8eNODEJS%e7%9a%84SSO%e7%99%bb%e5%bd%95%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">基于NODEJS的SSO登录方案</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e一、前言\x3c\/h3\x3e\n\x3cp\x3e注册、登录是服务端常做的功能，主要涉及用户信息表单提交、会员信息保存、登录状态维护，前端除了表单提交外也没有什么可参与的，能发挥的作用很少。\x3c\/p\x3e\n\x3cp\x3e如果通过nodejs介入开发，则可参与更多，这也是为什么建议大家学习下nodejs，通过服务端语言来增强自己的技术栈，技术研发是一个综合类的能力，相比较Java，单纯依靠前端是难以支撑技术的体量，这也是前端人员发展后期所面临的尴尬，若以前端为主体，知晓服务端、数据库、运维、测试等技术栈，则能支撑更宽更深的技术体量。\x3c\/p\x3e\n\x3cp\x3e前段时间为公司项目提供了sso解决方案，这里分享下。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e二、误区\x3c\/h3\x3e\n\x3cp\x3e登录重点在于会员状态的维护、保持，初级者有两个误区\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e使用数据库保持登录状态\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e即收到用户登录信息后，将状态维护在数据库，这样是可行的，但效率是非常低，因为后续每次涉及到用户权限的页面、数据获取都需要先验证状态，通过数据库操作耗时\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e单纯使用session\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e这算不上一个误区，也是教程常用的方式，不过session通常是保存在当前服务的缓存里的，单台服务可行，但多台服务器集群时，session无法共享\x3c\/p\x3e\n\x3cp\x3e基于上面两种情况，我们需要一个可被多台服务器快速访问的独立服务 -- redis。memcache也可达到，不过相比之下，redis功能、稳定性都更好。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e登录实现\x3c\/h3\x3e\n\x3cp\x3e前后端分离时我采用了下图的架构，可参考 \x3ca href=\x22http:\/\/www.upopen.cn\/blog\/info?id=575534339f414f2e4a15581b\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e全栈技术栈\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/www.upopen.cn\/assets\/upload\/article\/frame.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/www.upopen.cn\/assets\/upload\/article\/frame.png\x22 alt=\x22全栈架构图\x22 title=\x22全栈架构图\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e前后端分离架构中登录流程\x3c\/h4\x3e\n\x3cp\x3e分离架构中流程如下\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/www.upopen.cn\/assets\/upload\/article\/login.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/www.upopen.cn\/assets\/upload\/article\/login.png\x22 alt=\x22前后端分享时的登录流程\x22 title=\x22前后端分享时的登录流程\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e用户在client输入username \x2b password，提交到Node服务，Node对数据做规则有效性验证，错误则返回，通过则发给java到DB做信息验证，会员信息有效，由java端生成sessionId，通过http-header-cookie，由nodejs保存到客户端的cookie里，同时由java将sessionId保存到独立的缓存服务器redis里，以sessionId为key，可以多保存一些不适合保存在客户端的信息，如权限。\x3c\/p\x3e\n\x3cp\x3e当客户端请求用户数据时，http会自动带上cookie，nodejs检查是否有sessionId，如无，或在redis里不存在，则返回错误或redirect到login.html，若有，则继续请求java，通常任何一个涉及到用户信息的请求，无论是renderView，还是fetchData，都需要验证，所以需要频繁的获取验证，此时redis的缓存读取效率更高。\x3c\/p\x3e\n\x3cp\x3e用户退出时，由nodejs清空cookie，及redis里的sessionId，即可。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eSSO实现\x3c\/h3\x3e\n\x3cp\x3e浏览器出于安全考虑，实现了同源策略，对于跨站请求可以使用jsonp或设置http的Access-Control-Allow-Origin实现跨域。\x3c\/p\x3e\n\x3cp\x3e同源策略对cookie的访问限制，造成不同域无法相互访问（二级域名可以访问主域）。所以若A\/B两个不同域名的站点，使用同一套会员体系，也无法同时登录（如baidu.com \/ hao123.com），而实际项目中我们需要处理这样的问题，即会员A站登录后，打开B站也要保持该会员的登录状态，我的实现见下图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/www.upopen.cn\/assets\/upload\/article\/sso.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/www.upopen.cn\/assets\/upload\/article\/sso.png\x22 alt=\x22SSO实现\x22 title=\x22SSO实现\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eA\/B两站，分别有客户端和服务端，单站登录的客户端与服务端的通信见前图，此处不在描述，涉及跨站的流程大致如下\x3c\/p\x3e\n\x3cp\x3e会员在A站登录，A站服务端生成sessionId外，再额外生成一个ticket，设置3s时效，以请求返回值的形式返回给客户端，如下，同时，将ticket以{ticket: sid}形式保存在redis里\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#返回值\n{\n   code: 0,\n   message: \x27signin success\x27,\n   data: {ticket:\x27ffqwoij1230340lklfdf123fklk\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e#返回值\n{\n   \x3cspan class=\x22hljs-attr\x22\x3ecode\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27signin success\x27\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: {\x3cspan class=\x22hljs-attr\x22\x3eticket\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27ffqwoij1230340lklfdf123fklk\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eA站客户端收到返回后，请求B站的链接，如\x3c\/p\x3e\n\x3cp\x3eB.com\/api\/auth.gif?ticket=ffqwoij1230340lklfdf123fklk\x3c\/p\x3e\n\x3cp\x3eB站服务端收到该请求后，获取该ticket，到redis内验证该ticket存在，且取到sessionid，再将sessionid，通过http-header-cookie输出到B站客户端的cookie里，即为B添加的会员状态的标识。同时删除redis里的ticket。\x3c\/p\x3e\n\x3cp\x3eA\/B站都使用了同一个sid，且保存在同一个redis里，所以任何一方因退出而清空redis.sessionid的操作，都会引起其它站点的退出。\x3c\/p\x3e\n\x3cp\x3e注意以下几点:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eA站收到ticket后，马上发出B站的请求做登录验证，间隔时间很短，3S通常是够了，设置时效性，也更安全\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eticket的生成需要加入请求的客户端信息，以便数据被拦截后在其它环境非法登录，如IP等信息\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e发向B站的请求，通常有图片、iframe两种形式，后者过重，图片形式较轻。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e思考该方案时参考了百度的实现，也只是参考了其发图片请求这一点，其内部的机制并不了解，加上自己的思考实现这一套方案，且用于公司的项目上。\x3c\/p\x3e\n\x3cp\x3e若需要两个以上的域名登录，处理相同。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/www.upopen.cn\/assets\/upload\/article\/baidu.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/www.upopen.cn\/assets\/upload\/article\/baidu.png\x22 alt=\x22百度登录\x22 title=\x22百度登录\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e参见百度的实现，可以看到其发出了多个crossdomain请求，每个都是向不同的域发出的请求，如hao123.com、anquanbao.com等\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>基于NODEJS的SSO登录方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006103655">https://segmentfault.com/a/1190000006103655</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/rvrdvm3qjj/" target="_blank">https://alili.tech/archive/rvrdvm3qjj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>