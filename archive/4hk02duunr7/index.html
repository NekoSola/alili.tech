<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="深入理解 React 中的上下文 this"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>深入理解 React 中的上下文 this | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4hk02duunr7/",
				"appid": "1613049289050283", 
				"title": "深入理解 React 中的上下文 this | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/xhjcoxwbwk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/2evyxtqqvce/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&text=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&text=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&is_video=false&description=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4hk02duunr7%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3%20React%20%e4%b8%ad%e7%9a%84%e4%b8%8a%e4%b8%8b%e6%96%87%20this"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">深入理解 React 中的上下文 this</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e写在前面\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eJavaScript\x3c\/code\x3e中的作用域\x3ccode\x3escope\x3c\/code\x3e 和上下文 \x3ccode\x3econtext\x3c\/code\x3e 是这门语言的独到之处，每个函数有不同的变量上下文和作用域。这些概念是\x3ccode\x3eJavaScript\x3c\/code\x3e中一些强大的设计模式的后盾。在ES5规范里，我们可以遵循一个原则——每个\x3ccode\x3efunction\x3c\/code\x3e内的上下文\x3ccode\x3ethis\x3c\/code\x3e指向该\x3ccode\x3efunction\x3c\/code\x3e的调用方。比如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var Module = {\n    name: \x27Jafeney\x27,\n    first: function() {\n        console.log(this);   \/\/ this对象指向调用该方法的Module对象\n        var second = (function() {\n            console.log(this)  \/\/ 由于变量提升，this对象指向Window对象\n        })()\n    },\n    init: function() {\n        this.first()\n    }\n}\n\nModule.init()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Module = {\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Jafeney\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3efirst\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this对象指向调用该方法的Module对象\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e second = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 由于变量提升，this对象指向Window对象\x3c\/span\x3e\n        })()\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3einit\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.first()\n    }\n}\n\nModule.init()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006769772\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006769772\x22 alt=\x22这里写图片描述\x22 title=\x22这里写图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e但是，在ES6规范中，出现了一个逆天的箭头操作符 \x3ccode\x3e=\x26gt;\x3c\/code\x3e ，它可以替代原先ES5里\x3ccode\x3efunction\x3c\/code\x3e的作用，快速声明函数。那么，在没有了\x3ccode\x3efunction\x3c\/code\x3e关键字，箭头函数内部的上下文\x3ccode\x3ethis\x3c\/code\x3e是怎样一种情况呢？\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eES6 中的箭头函数\x3c\/h2\x3e\n\x3cp\x3e在阮一峰老师的\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/?search=fetch\x26amp;x=0\x26amp;y=0#docs\/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《ECMAScript 6 入门》\x3c\/a\x3e 中，对箭头函数的做了如下介绍：\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e箭头函数的基本介绍\x3c\/h3\x3e\n\x3cp\x3eES6 允许使用“箭头”\x3ccode\x3e=\x26gt;\x3c\/code\x3e 定义函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var f = v =\x3e v;\n\/\/上面的箭头函数等同于：\nvar f = function(v) {\n  return v;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e =\x26gt;\x3c\/span\x3e v;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/上面的箭头函数等同于：\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e v;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e如果箭头函数不需要参数或需要多个参数，就使用一个圆括号代表参数部分\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var f = () =\x3e 5;\n\/\/ 等同于\nvar f = function () { return 5 };\nvar sum = (num1, num2) =\x3e num1 \x2b num2;\n\/\/ 等同于\nvar sum = function(num1, num2) {\n  return num1 \x2b num2;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sum = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3enum1, num2\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e num1 \x2b num2;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e sum = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3enum1, num2\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num1 \x2b num2;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用\x3ccode\x3ereturn\x3c\/code\x3e语句返回（重要）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var sum = (num1, num2) =\x3e { return num1 \x2b num2; }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3evar sum = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(num1, num2)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e { \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num1 \x2b num2; }\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号（重要）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var getTempItem = id =\x3e ({ id: id, name: \x26quot;Temp\x26quot; });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e getTempItem = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eid\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({ \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: id, \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Temp\x22\x3c\/span\x3e });\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e箭头函数可以与变量解构结合使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const full = ({ first, last }) =\x3e first \x2b \x27 \x27 \x2b last;\n\/\/ 等同于\nfunction full(person) {\n  return person.first \x2b \x27 \x27 \x2b person.last;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e full = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ first, last }\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e first \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 \x27\x3c\/span\x3e \x2b last;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efull\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eperson\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e person.first \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27 \x27\x3c\/span\x3e \x2b person.last;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e箭头函数使得表达更加简洁\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const isEven = n =\x3e n % 2 == 0;\nconst square = n =\x3e n * n;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs excel\x22\x3e\x3ccode\x3econst \x3cspan class=\x22hljs-built_in\x22\x3eisEven\x3c\/span\x3e = \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e % \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\nconst square = \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e * \x3cspan class=\x22hljs-built_in\x22\x3en\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e上面代码只用了两行，就定义了两个简单的工具函数。如果不用箭头函数，可能就要占用多行，而且还不如现在这样写醒目。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e箭头函数的一个用处是简化回调函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 正常函数写法\n[1,2,3].map(function (x) {\n  return x * x;\n});\n\n\/\/ 箭头函数写法\n[1,2,3].map(x =\x3e x * x);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 正常函数写法\x3c\/span\x3e\n[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e].map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e x * x;\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 箭头函数写法\x3c\/span\x3e\n[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e,\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e].map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x * x);\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e箭头函数使用注意点\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e函数体内的\x3ccode\x3ethis\x3c\/code\x3e对象，就是定义时所在的对象，而不是使用时所在的对象。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不可以当作构造函数，也就是说，不可以使用\x3ccode\x3enew\x3c\/code\x3e命令，否则会抛出一个错误。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不可以使用\x3ccode\x3earguments\x3c\/code\x3e对象，该对象在函数体内不存在。如果要用，可以用Rest参数代替。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不可以使用\x3ccode\x3eyield\x3c\/code\x3e命令，因此箭头函数不能用作\x3ccode\x3eGenerator\x3c\/code\x3e函数。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e\n\x3ccode\x3ethis\x3c\/code\x3e 指向固定化\x3c\/h3\x3e\n\x3cp\x3eES5规范中，\x3ccode\x3ethis\x3c\/code\x3e对象的指向是可变的，但是在ES6的箭头函数中，它却是固定的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo() {\n  setTimeout(() =\x3e {\n    console.log(\x27id:\x27, this.id);\n  }, 100);\n}\n\nvar id = 21;\n\nfoo.call({ id: 42 });   \/\/ 输出 id: 42\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27id:\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id);\n  }, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e id = \x3cspan class=\x22hljs-number\x22\x3e21\x3c\/span\x3e;\n\nfoo.call({ \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e });   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 id: 42\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：上面代码中，\x3ccode\x3esetTimeout\x3c\/code\x3e的参数是一个箭头函数，这个箭头函数的定义生效是在\x3ccode\x3efoo\x3c\/code\x3e函数生成时，而它的真正执行要等到100毫秒后。如果是普通函数，执行时\x3ccode\x3ethis\x3c\/code\x3e应该指向全局对象\x3ccode\x3ewindow\x3c\/code\x3e，这时应该输出21。但是，箭头函数导致this总是指向函数定义生效时所在的对象（本例是\x3ccode\x3e{id: 42}\x3c\/code\x3e），所以输出的是42。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e箭头函数的原理\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3ethis\x3c\/code\x3e指向的固定化，并不是因为箭头函数内部有绑定\x3ccode\x3ethis\x3c\/code\x3e的机制，实际原因是箭头函数根本没有自己的\x3ccode\x3ethis\x3c\/code\x3e，导致内部的\x3ccode\x3ethis\x3c\/code\x3e就是外层代码块的\x3ccode\x3ethis\x3c\/code\x3e。正是因为它没有\x3ccode\x3ethis\x3c\/code\x3e，所以也就不能用作构造函数。所以，箭头函数转成ES5的代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ES6\nfunction foo() {\n  setTimeout(() =\x3e {\n    console.log(\x27id:\x27, this.id);\n  }, 100);\n}\n\n\/\/ ES5\nfunction foo() {\n  var _this = this;\n\n  setTimeout(function () {\n    console.log(\x27id:\x27, _this.id);\n  }, 100);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES6\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27id:\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id);\n  }, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ES5\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _this = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27id:\x27\x3c\/span\x3e, _this.id);\n  }, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e上面代码中，转换后的ES5版本清楚地说明了，箭头函数里面根本没有自己的\x3ccode\x3ethis\x3c\/code\x3e，而是引用外层的\x3ccode\x3ethis\x3c\/code\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e两道经典的面试题\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 请问下面有几个this \n\nfunction foo() {\n  return () =\x3e {\n    return () =\x3e {\n      return () =\x3e {\n        console.log(\x27id:\x27, this.id);\n      };\n    };\n  };\n}\n\nvar f = foo.call({id: 1});\n\nvar t1 = f.call({id: 2})()(); \/\/ 输出 id: 1\nvar t2 = f().call({id: 3})(); \/\/ 输出 id: 1\nvar t3 = f()().call({id: 4}); \/\/ 输出 id: 1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请问下面有几个this \x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27id:\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id);\n      };\n    };\n  };\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e f = foo.call({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e});\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e t1 = f.call({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e})()(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 id: 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e t2 = f().call({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e})(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 id: 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e t3 = f()().call({\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e}); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出 id: 1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e上面代码之中，其实只有一个\x3ccode\x3ethis\x3c\/code\x3e，就是函数foo的\x3ccode\x3ethis\x3c\/code\x3e，所以t1、t2、t3都输出同样的结果。因为所有的内层函数都是箭头函数，都没有自己的\x3ccode\x3ethis\x3c\/code\x3e，它们的this其实都是最外层foo函数的this。另外，\x3cstrong\x3e由于箭头函数没有自己的this，所以也不能用\x3ccode\x3ecall()\x3c\/code\x3e、\x3ccode\x3eapply()\x3c\/code\x3e、\x3ccode\x3ebind()\x3c\/code\x3e这些方法去改变this的指向\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 请问下面代码执行输出什么\n\n(function() {\n  return [\n    (() =\x3e this.x).bind({ x: \x27inner\x27 })()\n  ];\n}).call({ x: \x27outer\x27 });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请问下面代码执行输出什么\x3c\/span\x3e\n\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n    \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) =\x26gt; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.x\x3c\/span\x3e).\x3cspan class=\x22hljs-params\x22\x3ebind\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ x: \x27inner\x27 }\x3c\/span\x3e)\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\n  ];\n}).\x3cspan class=\x22hljs-params\x22\x3ecall\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{ x: \x27outer\x27 }\x3c\/span\x3e);\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e上面代码中，箭头函数没有自己的\x3ccode\x3ethis\x3c\/code\x3e，所以\x3ccode\x3ebind\x3c\/code\x3e方法无效，内部的\x3ccode\x3ethis\x3c\/code\x3e指向外部的\x3ccode\x3ethis\x3c\/code\x3e。所以上面的代码最终输出 \x3ccode\x3e[\x27outer\x27]\x3c\/code\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e函数绑定 \x3ccode\x3e::\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e箭头函数可以绑定\x3ccode\x3ethis\x3c\/code\x3e对象，大大减少了显式绑定this对象的写法（\x3ccode\x3ecall\x3c\/code\x3e、\x3ccode\x3eapply\x3c\/code\x3e、\x3ccode\x3ebind\x3c\/code\x3e）。但是，箭头函数并不适用于所有场合，所以ES7提出了“函数绑定”（\x3ccode\x3efunction\x3c\/code\x3e \x3ccode\x3ebind\x3c\/code\x3e）运算符，用来取代\x3ccode\x3ecall\x3c\/code\x3e、\x3ccode\x3eapply\x3c\/code\x3e、\x3ccode\x3ebind\x3c\/code\x3e调用。虽然该语法还是ES7的一个提案，但是Babel转码器已经支持。\x3c\/p\x3e\n\x3cp\x3e函数绑定运算符是并排的两个双冒号（\x3ccode\x3e::\x3c\/code\x3e），双冒号左边是一个对象，右边是一个函数。该运算符会自动将左边的对象，作为上下文环境（即\x3ccode\x3ethis\x3c\/code\x3e对象），绑定到右边的函数上面。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22foo::bar;\n\/\/ 等同于\nbar.bind(foo);\n\nfoo::bar(...arguments);\n\/\/ 等同于\nbar.apply(foo, arguments);\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn(obj, key) {\n  return obj::hasOwnProperty(key);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3efoo::bar;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\nbar.bind(foo);\n\nfoo::bar(...arguments);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\nbar.apply(foo, arguments);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e hasOwnProperty = Object.prototype.hasOwnProperty;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehasOwn\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(obj, key)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e obj::hasOwnProperty(key);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果双冒号左边为空，右边是一个对象的方法，则等于将该方法绑定在该对象上面。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var method = obj::obj.foo;\n\/\/ 等同于\nvar method = ::obj.foo;\n\nlet log = ::console.log;\n\/\/ 等同于\nvar log = console.log.bind(console);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs oxygene\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emethod\x3c\/span\x3e = \x3cspan class=\x22hljs-title\x22\x3eobj\x3c\/span\x3e:\x3c\/span\x3e:obj.foo;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3emethod\x3c\/span\x3e = :\x3c\/span\x3e:obj.foo;\n\nlet log = ::console.log;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等同于\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e log = console.log.bind(console);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于双冒号运算符返回的还是原对象，因此可以采用链式写法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 例一\nimport { map, takeWhile, forEach } from \x26quot;iterlib\x26quot;;\n\ngetPlayers()\n::map(x =\x3e x.character())\n::takeWhile(x =\x3e x.strength \x3e 100)\n::forEach(x =\x3e console.log(x));\n\n\/\/ 例二\nlet { find, html } = jake;\n\ndocument.querySelectorAll(\x26quot;div.myClass\x26quot;)\n::find(\x26quot;p\x26quot;)\n::html(\x26quot;hahaha\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 例一\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { map, takeWhile, forEach } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22iterlib\x22\x3c\/span\x3e;\n\ngetPlayers()\n::map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x.character())\n::takeWhile(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e x.strength \x26gt; \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e)\n::forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x));\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 例二\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e { find, html } = jake;\n\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x22div.myClass\x22\x3c\/span\x3e)\n::find(\x3cspan class=\x22hljs-string\x22\x3e\x22p\x22\x3c\/span\x3e)\n::html(\x3cspan class=\x22hljs-string\x22\x3e\x22hahaha\x22\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eReact 中的各种 \x3ccode\x3ethis\x3c\/code\x3e\n\x3c\/h2\x3e\n\x3cp\x3e目前\x3ccode\x3eReact\x3c\/code\x3e的编写风格已经全面地启用了ES6和部分ES7规范，所以很多ES6的坑在\x3ccode\x3eReact\x3c\/code\x3e里一个个浮现了。本篇重点介绍 \x3ccode\x3ethis\x3c\/code\x3e，也是近期跌得最疼的一个。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eComponent 方法内部的 \x3ccode\x3ethis\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e还是用具体的例子来解释吧，下面是我 \x3ca href=\x22https:\/\/github.com\/Jafeney\/Royal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eRoyal\x3c\/code\x3e\x3c\/a\x3e 项目里一个\x3ccode\x3eTable\x3c\/code\x3e组件（\x3ccode\x3eRoyal\x3c\/code\x3e正在开发中，欢迎\x3ca href=\x22https:\/\/github.com\/Jafeney\/Royal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3efork\x3c\/code\x3e\x3c\/a\x3e贡献代码 ^_^）\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component } from \x27react\x27\nimport Checkbox from \x27..\/..\/FormControls\/Checkbox\/\x27 \nimport \x27.\/style.less\x27\n\nclass Table extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataSource: props.dataSource || [],\n            columns: props.columns || [],\n            wrapClass: props.wrapClass || null,\n            wrapStyle: props.wrapStyle || null,\n            style: props.style || null,\n            className: props.className || null,\n        }\n        this.renderRow = props.renderRow || null\n    }\n\n    onSelectAll() {\n        for (let ref in this.refs) {\n            if (ref!==\x27selectAll\x27) {\n                this.refs[ref].setState({checked:true})\n            }\n        }\n    }\n\n    offSelectAll() {\n        for (let ref in this.refs) {\n            if (ref!==\x27selectAll\x27) {\n                this.refs[ref].setState({checked:false})\n            }\n        }\n    }\n\n    _renderHead() {\n        return this.state.columns.map((item,i) =\x3e {\n            return [\x3cth\x3e{i===0?\x3cCheckbox ref=\x26quot;selectAll\x26quot; onConfirm={()=\x3ethis.onSelectAll()} onCancel={()=\x3ethis.offSelectAll()} \/\x3e:\x27\x27}{item.title}\x3c\/th\x3e]\n        })\n    }\n\n    _renderBody() {\n        let _renderRow = this.renderRow;\n        return this.state.dataSource.map((item) =\x3e {\n            return _renderRow \x26amp;\x26amp; _renderRow(item)\n        })\n    }\n\n    render() {\n        let state = this.state;\n        return (\n            \x3cdiv className={state.wrapClass} style={state.wrapStyle}\x3e\n                \x3ctable\n                    border=\x26quot;0\x26quot;\n                    style={state.style}\n                    className={\x26quot;ry-table \x26quot; \x2b (state.className \x26amp;\x26amp; state.className : \x26quot;\x26quot;)}\x3e\n                    \x3cthead\x3e\n                        \x3ctr\x3e{this._renderHead()}\x3c\/tr\x3e\n                    \x3c\/thead\x3e\n                    \x3ctbody\x3e\n                        {this._renderBody()}\n                    \x3c\/tbody\x3e\n                \x3c\/table\x3e\n            \x3c\/div\x3e\n        )\n    }\n}\n\nexport default Table\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } from \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Checkbox from \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/FormControls\/Checkbox\/\x27\x3c\/span\x3e \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/style.less\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTable\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props)\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            dataSource: props.dataSource || [],\n            columns: props.columns || [],\n            wrapClass: props.wrapClass || \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n            wrapStyle: props.wrapStyle || \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n            style: props.style || \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n            className: props.className || \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e,\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.renderRow = props.renderRow || \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    }\n\n    onSelectAll() {\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let ref \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (ref!==\x3cspan class=\x22hljs-string\x22\x3e\x27selectAll\x27\x3c\/span\x3e) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs[ref].setState({checked:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n            }\n        }\n    }\n\n    offSelectAll() {\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (let ref \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (ref!==\x3cspan class=\x22hljs-string\x22\x3e\x27selectAll\x27\x3c\/span\x3e) {\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs[ref].setState({checked:\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e})\n            }\n        }\n    }\n\n    _renderHead() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.columns.map((item,i) =\x26gt; {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\x26lt;th\x26gt;{i===\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e?\x26lt;Checkbox ref=\x3cspan class=\x22hljs-string\x22\x3e\x22selectAll\x22\x3c\/span\x3e onConfirm={()=\x26gt;\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onSelectAll()} onCancel={()=\x26gt;\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.offSelectAll()} \/\x26gt;:\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e}{item.title}\x26lt;\/th\x26gt;]\n        })\n    }\n\n    _renderBody() {\n        let _renderRow = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.renderRow;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.dataSource.map((item) =\x26gt; {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e _renderRow \x26amp;\x26amp; _renderRow(item)\n        })\n    }\n\n    render() {\n        let state = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x26lt;div className={state.wrapClass} style={state.wrapStyle}\x26gt;\n                \x26lt;table\n                    border=\x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e\n                    style={state.style}\n                    className={\x3cspan class=\x22hljs-string\x22\x3e\x22ry-table \x22\x3c\/span\x3e \x2b (state.className \x26amp;\x26amp; state.className : \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e)}\x26gt;\n                    \x26lt;thead\x26gt;\n                        \x26lt;tr\x26gt;{\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._renderHead()}\x26lt;\/tr\x26gt;\n                    \x26lt;\/thead\x26gt;\n                    \x26lt;tbody\x26gt;\n                        {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e._renderBody()}\n                    \x26lt;\/tbody\x26gt;\n                \x26lt;\/table\x26gt;\n            \x26lt;\/div\x26gt;\n        )\n    }\n}\n\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Table\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eComponent\x3c\/code\x3e是\x3ccode\x3eReact\x3c\/code\x3e内的一个基类，用于继承和创建\x3ccode\x3eReact\x3c\/code\x3e自定义组件。ES6规范下的面向对象实现起来非常精简，\x3ccode\x3eclass\x3c\/code\x3e关键字 可以快速创建一个类，而\x3ccode\x3eComponent\x3c\/code\x3e类内的所有属性和方法均可以通过\x3ccode\x3ethis\x3c\/code\x3e访问。换而言之，在\x3ccode\x3eComponent\x3c\/code\x3e内的任意方法内，可以通过\x3ccode\x3ethis.xxx\x3c\/code\x3e的方式调用该\x3ccode\x3eComponent\x3c\/code\x3e的其他属性和方法。\x3c\/p\x3e\n\x3cp\x3e接着分析上面的代码，寥寥几行实现的是对一个Table组件的封装，借鉴了\x3ccode\x3eReactNative\x3c\/code\x3e组件的设计思路，通过外部传递\x3ccode\x3edataSource\x3c\/code\x3e（数据源）、\x3ccode\x3ecolumns\x3c\/code\x3e（表格的表头项）、\x3ccode\x3erenderRow\x3c\/code\x3e（当行渲染的模板函数）来完成一个Table的构建，支持全选和取消全选的功能、允许外部传递\x3ccode\x3eclassName\x3c\/code\x3e和\x3ccode\x3estyle\x3c\/code\x3e对象来修改样式。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e从这个例子我们可以发现：只要不采用\x3ccode\x3efunction\x3c\/code\x3e定义函数，\x3ccode\x3eComponent\x3c\/code\x3e所有方法内部的\x3ccode\x3ethis\x3c\/code\x3e对象始终指向该类自身。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3econtainer 调用 component 时传递的 \x3ccode\x3ethis\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cp\x3e还是继续上面的例子，下面在一个做为Demo的\x3ccode\x3econtainer\x3c\/code\x3e里调用之前 的\x3ccode\x3eTable\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Table from \x27..\/..\/components\/Views\/Table\/\x27 \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Table \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/components\/Views\/Table\/\x27\x3c\/span\x3e \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接着编写\x3ccode\x3erenderRow\x3c\/code\x3e函数并传递给Table组件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22_renderRow(row) {\n    \/\/ ------------ 注意：这里对callback函数的写法 -----------\n    let onEdit = (x)=\x3e {\n        console.log(x\x2bx)\n    }, onDelete = (x)=\x3e {\n        console.log(x*x)\n    }\n    \/\/ ---------------------------------------------------\n    return (\n        \x3ctr\x3e\n            \x3ctd\x3e\x3cCheckbox ref={\x26quot;item_\x26quot; \x2b row.key} \/\x3e{row.key}\x3c\/td\x3e\n            \x3ctd\x3e{row.name}\x3c\/td\x3e\n            \x3ctd\x3e{row.age}\x3c\/td\x3e\n            \x3ctd\x3e{row.birthday}\x3c\/td\x3e\n            \x3ctd\x3e{row.job}\x3c\/td\x3e\n            \x3ctd\x3e{row.address}\x3c\/td\x3e\n            \x3ctd\x3e\n                \x3cButton type=\x26quot;primary\x26quot; callback={()=\x3eonEdit(row.key)} text=\x26quot;编辑\x26quot; \/\x3e\n                \x3cButton type=\x26quot;secondary\x26quot; callback={()=\x3eonDelete(row.key)} text=\x26quot;删除\x26quot; \/\x3e\n            \x3c\/td\x3e\n        \x3c\/tr\x3e\n    )\n}\n\n\/\/... 省略一大堆代码\n\nrender() {\n    let dataSource = [{\n        key: \x271\x27,\n        name: \x27胡彦斌\x27,\n        age: 32,\n        birthday: \x272016-12-29\x27,\n        job: \x27前端工程师\x27,\n        address: \x27西湖区湖底公园1号\x27\n        }, {\n        key: \x272\x27,\n        name: \x27胡彦祖\x27,\n        age: 42,\n        birthday: \x272016-12-29\x27,\n        job: \x27前端工程师\x27,\n        address: \x27西湖区湖底公园1号\x27\n    }],columns = [{\n        title: \x27编号\x27,\n        dataIndex: \x27key\x27,\n        key: \x27key\x27,\n        },{\n        title: \x27姓名\x27,\n        dataIndex: \x27name\x27,\n        key: \x27name\x27,\n        }, {\n        title: \x27年龄\x27,\n        dataIndex: \x27age\x27,\n        key: \x27age\x27,\n        }, {\n        title: \x27生日\x27,\n        dataIndex: \x27birthday\x27,\n        key: \x27birthday\x27,\n        }, {\n        title: \x27职务\x27,\n        dataIndex: \x27job\x27,\n        key: \x27job\x27,\n        },{\n        title: \x27住址\x27,\n        dataIndex: \x27address\x27,\n        key: \x27address\x27,\n        }, {\n        title: \x27操作\x27,\n        dataIndex: \x27operate\x27,\n        key: \x27operate\x27,\n    }];\n    return (\n        \x3cdiv\x3e\n            \x3cTable dataSource={dataSource} columns={columns} renderRow={this._renderRow}\/\x3e\n        \x3c\/div\x3e\n    );\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e_renderRow(row) {\n    \/\/ ------------ 注意：这里对callback函数的写法 -----------\n    let onEdit = (x)=\x26gt; {\n        console.log(x\x2bx)\n    }, onDelete = (x)=\x26gt; {\n        console.log(x*x)\n    }\n    \/\/ ---------------------------------------------------\n    return (\n        \x26lt;tr\x26gt;\n            \x26lt;td\x26gt;\x26lt;Checkbox ref={\x3cspan class=\x22hljs-string\x22\x3e\x22item_\x22\x3c\/span\x3e \x2b row.key} \/\x26gt;{row.key}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;{row.name}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;{row.age}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;{row.birthday}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;{row.job}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;{row.address}\x26lt;\/td\x26gt;\n            \x26lt;td\x26gt;\n                \x26lt;Button type=\x3cspan class=\x22hljs-string\x22\x3e\x22primary\x22\x3c\/span\x3e callback={()=\x26gt;onEdit(row.key)} text=\x3cspan class=\x22hljs-string\x22\x3e\x22编辑\x22\x3c\/span\x3e \/\x26gt;\n                \x26lt;Button type=\x3cspan class=\x22hljs-string\x22\x3e\x22secondary\x22\x3c\/span\x3e callback={()=\x26gt;onDelete(row.key)} text=\x3cspan class=\x22hljs-string\x22\x3e\x22删除\x22\x3c\/span\x3e \/\x26gt;\n            \x26lt;\/td\x26gt;\n        \x26lt;\/tr\x26gt;\n    )\n}\n\n\/\/... 省略一大堆代码\n\nrender() {\n    let dataSource = [{\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e,\n        name: \x3cspan class=\x22hljs-string\x22\x3e\x27胡彦斌\x27\x3c\/span\x3e,\n        age: \x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e,\n        birthday: \x3cspan class=\x22hljs-string\x22\x3e\x272016-12-29\x27\x3c\/span\x3e,\n        job: \x3cspan class=\x22hljs-string\x22\x3e\x27前端工程师\x27\x3c\/span\x3e,\n        address: \x3cspan class=\x22hljs-string\x22\x3e\x27西湖区湖底公园1号\x27\x3c\/span\x3e\n        }, {\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x272\x27\x3c\/span\x3e,\n        name: \x3cspan class=\x22hljs-string\x22\x3e\x27胡彦祖\x27\x3c\/span\x3e,\n        age: \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e,\n        birthday: \x3cspan class=\x22hljs-string\x22\x3e\x272016-12-29\x27\x3c\/span\x3e,\n        job: \x3cspan class=\x22hljs-string\x22\x3e\x27前端工程师\x27\x3c\/span\x3e,\n        address: \x3cspan class=\x22hljs-string\x22\x3e\x27西湖区湖底公园1号\x27\x3c\/span\x3e\n    }],columns = [{\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27编号\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27key\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27key\x27\x3c\/span\x3e,\n        },{\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27姓名\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e,\n        }, {\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27年龄\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27age\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27age\x27\x3c\/span\x3e,\n        }, {\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27生日\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27birthday\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27birthday\x27\x3c\/span\x3e,\n        }, {\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27职务\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27job\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27job\x27\x3c\/span\x3e,\n        },{\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27住址\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27address\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27address\x27\x3c\/span\x3e,\n        }, {\n        title: \x3cspan class=\x22hljs-string\x22\x3e\x27操作\x27\x3c\/span\x3e,\n        dataIndex: \x3cspan class=\x22hljs-string\x22\x3e\x27operate\x27\x3c\/span\x3e,\n        key: \x3cspan class=\x22hljs-string\x22\x3e\x27operate\x27\x3c\/span\x3e,\n    }];\n    return (\n        \x26lt;div\x26gt;\n            \x26lt;Table dataSource={dataSource} columns={columns} renderRow={this._renderRow}\/\x26gt;\n        \x26lt;\/div\x26gt;\n    );\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e显示效果如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006032234\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006032234\x22 alt=\x22这里写图片描述\x22 title=\x22这里写图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e分析上面的代码，有几处容易出错的地方：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3e_renderRow\x3c\/code\x3e 作为\x3ccode\x3ecomponent\x3c\/code\x3e的方法来定义，然后在对应的\x3ccode\x3erender\x3c\/code\x3e函数内通过\x3ccode\x3ethis\x3c\/code\x3e来调用。很重要的一点，这里\x3ccode\x3ethis._renderRow\x3c\/code\x3e作为的是函数名方式传递。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3e_renderRow\x3c\/code\x3e 内部\x3ccode\x3eButton\x3c\/code\x3e组件的\x3ccode\x3ecallback\x3c\/code\x3e是按钮点击后触发的回调，也是一个函数，但是这个函数没有像上面一样放在\x3ccode\x3ecomponent\x3c\/code\x3e的方法里定义，而是作为一个变量定义并通过匿名函数的方式传递给子组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let onEdit = (x)=\x3e {\n    console.log(x\x2bx)\n}\n\n\/\/ .....\ncallback={()=\x3eonEdit(row.key)}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e onEdit = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x\x2bx)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ .....\x3c\/span\x3e\ncallback={\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3eonEdit(row.key)}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就避开了使用\x3ccode\x3ethis\x3c\/code\x3e时上下文变化的问题。这一点是很讲究的，如果沿用上面的写法很容易这样写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22onEdit(x) {\n   console.log(x\x2bx)\n}\n\n\/\/ ... \ncallback={()=\x3ethis.onEdit(row.key)}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3eonEdit(x) {\n   \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x\x2bx)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ... \x3c\/span\x3e\ncallback={\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onEdit(row.key)}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是很遗憾，这样写\x3ccode\x3ethis\x3c\/code\x3e传递到子组件后会变成\x3ccode\x3eundefined\x3c\/code\x3e，从而报错。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e父组件如要调用子组件的方法，有两种方式：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e第一种   通过匿名函数的方式\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22callback = {()=\x3ethis.modalShow()}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecallback = {\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.modalShow()}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e第二种   使用 \x3ccode\x3ebind\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22callback = {this.modalShow.bind(this)}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecallback = {\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.modalShow.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)}\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：如果要绑定的函数需要传参数，可以这么写： \x3ccode\x3exxx.bind(this,arg1,arg2...)\x3c\/code\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e参考\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/?search=fetch\x26amp;x=0\x26amp;y=0#docs\/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《ECMAScript 6 入门》\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e@欢迎关注我的 \x3ca href=\x22https:\/\/github.com\/Jafeney\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3egithub\x3c\/code\x3e\x3c\/a\x3e 和 \x3ca href=\x22http:\/\/jafeney.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e个人博客 －Jafeney\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>深入理解 React 中的上下文 this</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006032223">https://segmentfault.com/a/1190000006032223</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4hk02duunr7/" target="_blank">https://alili.tech/archive/4hk02duunr7/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>