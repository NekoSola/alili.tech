<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="聊聊Ajax那些事"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>聊聊Ajax那些事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/eqwpbdsxyl6/",
				"appid": "1613049289050283", 
				"title": "聊聊Ajax那些事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-05T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/vr4yc6nvwk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/4yp2ktcn3u8/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&text=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&text=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&title=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&is_video=false&description=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&title=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&title=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&title=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2feqwpbdsxyl6%2f&title=%e8%81%8a%e8%81%8aAjax%e9%82%a3%e4%ba%9b%e4%ba%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">聊聊Ajax那些事</h1><div class="meta"><div class="postdate"><time datetime="2019-02-05" itemprop="datePublished">2019-02-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e了解Ajax的起源、概念及特点\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e起源\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e该技术在1998年前后得到了应用。允许客户端脚本发送HTTP请求（XMLHTTP）的第一个组件由Outlook Web Access小组写成。该组件原属于微软Exchange Server，并且迅速地成为了Internet Explorer 4.0的一部分。部分观察家认为，Outlook Web Access是第一个应用了Ajax技术的成功的商业应用程序，并成为包括Oddpost的网络邮件产品在内的许多产品的领头羊。2005年初，许多事件使得Ajax被大众所接受。Google在它著名的交互应用程序中使用了异步通信，如Google讨论组、Google地图、Google搜索建议、Gmail等。对Mozilla\/Gecko的支持使得该技术走向成熟，变得更为易用。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e概念\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eAjax是一种技术方案，但并不是一种新技术。它依赖的是现有的CSS\/HTML\/Javascript，而其中最核心的依赖是浏览器提供的XMLHttpRequest对象，是这个对象使得浏览器可以发出HTTP请求与接收HTTP响应。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e特点\x3c\/strong\x3e（以toutiao.com做示例来讲）\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e无刷新更新数据 √\x3c\/p\x3e\n\x3cp\x3eAJAX最大优点就是能在不刷新整个页面的前提下与服务器通信维护数据。这使得Web应用程序更为迅捷地响应用户交互，并避免了在网络上发送那些没有改变的信息，减少用户等待时间，带来非常好的用户体验。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e异步与服务器通信 √\x3c\/p\x3e\n\x3cp\x3eAJAX使用异步方式与服务器通信，不需要打断用户的操作，具有更加迅速的响应能力。优化了Browser和Server之间的沟通，减少不必要的数据传输、时间及降低网络上数据流量。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e前端和后端负载平衡 √\x3c\/p\x3e\n\x3cp\x3eAJAX可以把以前一些服务器负担的工作转嫁到客户端，利用客户端闲置的能力来处理，减轻服务器和带宽的负担，节约空间和宽带租用成本。并且减轻服务器的负担，AJAX的原则是“按需取数据”，可以最大程度的减少冗余请求和响应对服务器造成的负担，提升站点性能\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e浏览器机制的破坏\x3cbr\x3e在动态更新页面的情况下，用户无法回到前一个页面状态，因为浏览器仅能记忆历史记录中的静态页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e安全问题\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e伪造ajax请求。【缺点】\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果你使用身份验证, 确定你在请求页上检查!\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e为 SQL 注入检查\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e保留商务逻辑在服务器上!\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不要假设每个请求是真实的!\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e数据校验和合理的加密解密\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e对搜索引擎支持较弱\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e理解Ajax通信的原理及兼容性\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e总结\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e一句话描述：使用XMLHttpRequest发送http请求并接收响应。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e知识点\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\x3cli\x3e\x3cp\x3eXMLHttpRequest是一个js对象，可以使用js对象的方法、事件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e流程\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3cp\x3e发起请求\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22发起一个http请求，方法GET、POST、PUT、DELETE、UPDATE\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs n1ql\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e发起一个http请求，方法GET、POST、PUT、\x3cspan class=\x22hljs-keyword\x22\x3eDELETE\x3c\/span\x3e、\x3cspan class=\x22hljs-keyword\x22\x3eUPDATE\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e发送数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22客户端向服务端发送数据\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e客户端向服务端发送数据\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e监听状态\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22监听整个连接的状态\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e监听整个连接的状态\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e接收响应\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22接收服务端返回的数据\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs\x22\x3e\x3ccode\x3e接收服务端返回的数据\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3cstrong\x3e兼容性\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3eIE和其他浏览器的实现\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eXMLHttpRequest\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eActiveXObject(\x22Microsoft.XMLHTTP\x22)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eXMLHttpRequest规范的升级\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e【Level1】受同源策略的限制，不能发送跨域请求；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level1】不能发送二进制文件（如图片、视频、音频等），只能发送纯文本数据；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level1】在发送和获取数据的过程中，无法实时获取进度信息，只能判断是否完成；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level2】可以发送跨域请求，在服务端允许的情况下；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level2】支持发送和接收二进制数据；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level2】新增formData对象，支持发送表单数据；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level2】发送和获取数据时，可以获取进度信息；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e【Level2】可以设置请求的超时时间；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e掌握XmlHttpRequest的属性及方法【重点】\x3c\/h3\x3e\n\x3cp\x3e希望这个环节大家手里准备纸和笔，边听编记，这个环节过后让大家重新屡一下顺序和重点。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e属性\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eonreadystatechange    设置状态监听函数\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ereadyState                连接状态【状态值为1、2、3、4之一】\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eresponseText            响应的文本\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eresponseXML                响应的XML\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3estatus                    状态码，如404，200\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3estatusText                状态文本描述，如NOT FOUND\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e方法\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eabort()                                    取消请求\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3egetAllResponseHeaders()                获取所有响应头\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3egetResponseHeader( headerName )        获取指定响应头\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eopen( method, URL, async, userName, password )    建立一个连接\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3esend( content )                        发送请求. 如果该请求是异步模式(默认),该方法会立刻返回. 相反,如果请求是同步模式,则直到请求的响应完全接受以后,该方法才会返回\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22【注】所有事件的绑定需要在send之前绑定才可以\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e【注】所有事件的绑定需要在\x3cspan class=\x22hljs-built_in\x22\x3esend\x3c\/span\x3e之前绑定才可以\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3esetRequestHeader( label, value )    发送请求头在send之前\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e事件\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eloadstart\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eprogress\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eabort\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eerror\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eload\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etimeout\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eloadend\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ereadystatechange\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e难点\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e事件触发条件\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3ereadystatechange\x3c\/em\x3e    每当xhr.readyState改变时触发；但xhr.readyState由非0值变为0时不触发。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eloadstart\x3c\/em\x3e      调用xhr.send()方法后立即触发，若xhr.send()未被调用则不会触发此事件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eprogress\x3c\/em\x3e  xhr.upload.onprogress在上传阶段(即xhr.send()之后，xhr.readystate=2之前)触发，每50ms触发一次；xhr.onprogress在下载阶段（即xhr.readystate=3时）触发，每50ms触发一次。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eload\x3c\/em\x3e      当请求成功完成时触发，此时xhr.readystate=4\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eloadend\x3c\/em\x3e   当请求结束（包括请求成功和请求失败）时触发\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eabort\x3c\/em\x3e     当调用xhr.abort()后触发\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3etimeout\x3c\/em\x3e   xhr.timeout不等于0，由请求开始即onloadstart开始算起，当到达xhr.timeout所设置时间请求还未结束即onloadend，则触发此事件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cem\x3eerror\x3c\/em\x3e     在请求过程中，若发生Network error则会触发此事件（若发生Network error时，上传还没有结束，则会先触发xhr.upload.onerror，再触发xhr.onerror；若发生Network error时，上传已经结束，则只会触发xhr.onerror）。注意，只有发生了网络层级别的异常才会触发此事件，对于应用层级别的异常，如响应返回的xhr.statusCode是4xx时，并不属于Network error，所以不会触发onerror事件，而是会触发onload事件\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e事件触发顺序\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.onreadystatechange(之后每次readyState变化时，都会触发一次)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.onloadstart\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.upload.onloadstart【上传开始】\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.upload.onprogress\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.upload.onload\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.upload.onloadend【上传结束】\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.onprogress\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.onload\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发xhr.onloadend\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e举例\x3c\/p\x3e\n\x3cp\x3e使用原生JavaScript构造一个Ajax实例\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var ajax = function(param) {\n   var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\x26quot;Microsoft.XMLHTTP\x26quot;);\n   var type = (param.type || \x27get\x27).toUpperCase();\n   var url = param.url;\n   if (!url) {\n      return\n   }\n   var data = param.data,\n       dataArr = [];\n   for (var k in data) {\n      dataArr.push(k \x2b \x27=\x27 \x2b data[k]);\n   }\n   dataArr.push(\x27_=\x27 \x2b Math.random());\n   if (type == \x27GET\x27) {\n      url = url \x2b \x27?\x27 \x2b dataArr.join(\x27\x26amp;\x27);\n      xhr.open(type, url);\n      xhr.send();\n   } else {\n     xhr.open(type, url);\n     xmlhttp.setRequestHeader(\x26quot;Content-type\x26quot;, \x26quot;application\/x-www-form-urlencoded\x26quot;);\n     xhr.send(dataArr.join(\x27\x26amp;\x27));\n   }\n   xhr.onload = function() {\n   if (xhr.status == 200 || xhr.status == 304) {\n      var res;\n      if (param.success \x26amp;\x26amp; param.success instanceof Function) {\n         res = xhr.responseText;\n         if (typeof res === \x27string\x27) {\n            res = JSON.parse(res);\n            param.success.call(xhr, res);\n         }\n      }\n    }\n  };\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ajax = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eparam\x3c\/span\x3e) \x3c\/span\x3e{\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e xhr = XMLHttpRequest ? \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest() : \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ActiveXObject(\x3cspan class=\x22hljs-string\x22\x3e\x22Microsoft.XMLHTTP\x22\x3c\/span\x3e);\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e type = (param.type || \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e).toUpperCase();\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e url = param.url;\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!url) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n   }\n   \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e data = param.data,\n       dataArr = [];\n   \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e k \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e data) {\n      dataArr.push(k \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27=\x27\x3c\/span\x3e \x2b data[k]);\n   }\n   dataArr.push(\x3cspan class=\x22hljs-string\x22\x3e\x27_=\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.random());\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (type == \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e) {\n      url = url \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27?\x27\x3c\/span\x3e \x2b dataArr.join(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26amp;\x27\x3c\/span\x3e);\n      xhr.open(type, url);\n      xhr.send();\n   } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n     xhr.open(type, url);\n     xmlhttp.setRequestHeader(\x3cspan class=\x22hljs-string\x22\x3e\x22Content-type\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22application\/x-www-form-urlencoded\x22\x3c\/span\x3e);\n     xhr.send(dataArr.join(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26amp;\x27\x3c\/span\x3e));\n   }\n   xhr.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n   \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (xhr.status == \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e || xhr.status == \x3cspan class=\x22hljs-number\x22\x3e304\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e res;\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (param.success \x26amp;\x26amp; param.success \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eFunction\x3c\/span\x3e) {\n         res = xhr.responseText;\n         \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e res === \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e) {\n            res = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(res);\n            param.success.call(xhr, res);\n         }\n      }\n    }\n  };\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e思考与练习\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e请自己用XMLHttpRequest实现与服务端的通信实例\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e请思考如何结合XMLHttpRequest实现JavaScript文件的加载。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>聊聊Ajax那些事</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006669043">https://segmentfault.com/a/1190000006669043</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/eqwpbdsxyl6/" target="_blank">https://alili.tech/archive/eqwpbdsxyl6/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>