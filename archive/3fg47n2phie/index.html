<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="webpack 单页面应用实战"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>webpack 单页面应用实战 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/3fg47n2phie/",
				"appid": "1613049289050283", 
				"title": "webpack 单页面应用实战 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-08T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/b5nzklc20m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0lhk9jqgtkc/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&text=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&text=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&title=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&is_video=false&description=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&title=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&title=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&title=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f3fg47n2phie%2f&title=webpack%20%e5%8d%95%e9%a1%b5%e9%9d%a2%e5%ba%94%e7%94%a8%e5%ae%9e%e6%88%98"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">webpack 单页面应用实战</h1><div class="meta"><div class="postdate"><time datetime="2019-02-08" itemprop="datePublished">2019-02-08</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e这篇文章将介绍如何利用 webpack 进行单页面应用的开发，算是我在实际开发中的一些心得和体会,在这里给大家做一个分享。webpack 的介绍这里就不多说了，可以直接去\x3ca href=\x22http:\/\/webpack.github.io\/docs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官网\x3c\/a\x3e查看。 关于这个单页面应用大家可以直接去我的github上查看\x3ca href=\x22https:\/\/github.com\/huangshuwei\/webpackForSPA\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/huangshuwei\/webpackForSPA\x3c\/a\x3e，我将结合这个项目去介绍。如果大家觉得这篇文章有不妥的地方，还请指出。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e这篇文章的目的是解决我们在开发中会遇到的问题，不是一篇基础教程，还请谅解。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e项目目录\x3c\/h2\x3e\n\x3cp\x3e我将根据这个目录结构进行讲解\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVyK8w\x22 src=\x22https:\/\/static.alili.tech\/img\/bVyK8w\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3edist\x3c\/strong\x3e：发布的文件目录，即webpack编译输出的目录\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3elibs\x3c\/strong\x3e：放置公共的文件，如js、css、img、font等\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3emockServer\x3c\/strong\x3e：模拟后端服务，即用webpack开发时模拟调用的后端服务（用nodejs服务模拟）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3enode_modules\x3c\/strong\x3e：项目依赖的包\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3esrc\x3c\/strong\x3e：资源文件，里面包含css、font、html、img、js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3epackage.json\x3c\/strong\x3e：项目配置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ewebpack.config.js\x3c\/strong\x3e：webpack的配置文件\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e项目的使用\x3c\/h2\x3e\n\x3cp\x3e建议先运行一下这个项目，有一个大致的了解，再往下阅读。使用说明：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22首先克隆一份到你的本地\n$ git clone https:\/\/github.com\/huangshuwei\/webpackForSPA.git\n\n然后 cd 到 ‘webpackForSPA’目录下\n$ cd webpackForSPA\n\n接着你可以运行不同的命令查看结果\n\n发布模式：\n$ npm run build\n\n开发模式：\n$ npm run dev\n\n热更新模式\n$ npm run dev-hrm\n\n如果使用了热更新模式，并且想要结合后端服务形式运行，那么cd 到‘mockServer’目录下，并执行node 服务：\n$ cd mockServer\n\n$ node server.js\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode\x3e首先克隆一份到你的本地\n$ git \x3cspan class=\x22hljs-keyword\x22\x3eclone\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehttps\x3c\/span\x3e:\/\/github.com\/huangshuwei\/webpackForSPA.git\n\n然后 cd 到 ‘webpackForSPA’目录下\n$ cd webpackForSPA\n\n接着你可以运行不同的命令查看结果\n\n发布模式：\n$ npm run build\n\n开发模式：\n$ npm run dev\n\n热更新模式\n$ npm run dev-hrm\n\n如果使用了热更新模式，并且想要结合后端服务形式运行，那么cd 到‘mockServer’目录下，并执行\x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e服务：\n$\x3c\/span\x3e cd mockServer\n\n$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eserver\x3c\/span\x3e.js\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e区分开发、热更新、发布模式\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e一般开发时和发布时是不同的，比如开发时文件的访问目录包含‘dist’目录，但是发布上线时，一般会把‘dist’文件夹去掉。\x3cbr\x3e当然还有其他的一些细节不同。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e开发模式：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e能看到webpack编译输出的文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ejs、css、html文件不需要压缩\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以正确的运行编译输出后的文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e这种模式一般只是用来看webpack编译输出后的文件是否正确\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e热更新模式：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e看不到webpack编译输出的文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ejs、css、html文件不需要压缩\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e更改完文件后无需重新编译并自动刷新浏览器\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以结合后端服务开发，避过浏览器同源策略，如结合java、.net服务等\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e发布模式：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e能看到webpack编译输出的文件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ejs、css、html文件压缩\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e文件的层级目录不需要包含‘dist’目录\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e我区分开发、热更新、发布模式是通过配置‘package.json’文件的运行命令，有些人是通过创建多个不同的webpack的配置文件来达到想要的效果。\x3c\/p\x3e\n\x3cp\x3e像\x3ca href=\x22https:\/\/github.com\/webpack\/react-starter\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这个项目\x3c\/a\x3e就是使用了多个webpack的配置文件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e配置命令\x3c\/h3\x3e\n\x3cp\x3e这是在 package.json 文件中配置的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ package.json 文件\n...\n\x26quot;scripts\x26quot;: {\n    \x26quot;build\x26quot;: \x26quot;webpack  --profile --progress --colors --display-error-details\x26quot;,\n    \x26quot;dev\x26quot;: \x26quot;webpack  --display-modules --profile --progress --colors --display-error-details\x26quot;,\n    \x26quot;dev-hrm\x26quot;: \x26quot;webpack-dev-server --config\x26quot;\n  },\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs brainfuck\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3epackage\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ejson\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e文件\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x22scripts\x22:\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e{\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x22build\x22:\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\x22webpack\x3c\/span\x3e  \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eprofile\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eprogress\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ecolors\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edisplay\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eerror\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edetails\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x22dev\x22:\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\x22webpack\x3c\/span\x3e  \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edisplay\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3emodules\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eprofile\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eprogress\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ecolors\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edisplay\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eerror\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edetails\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x22dev\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ehrm\x22:\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\x22webpack\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edev\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eserver\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3econfig\x22\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e}\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3ecolor 输出结果带彩色，比如：会用红色显示耗时较长的步骤\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eprofile 输出性能数据，可以看到每一步的耗时\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eprogress 输出当前编译的进度，以百分比的形式呈现\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3edisplay-modules  默认情况下 node_modules 下的模块会被隐藏，加上这个参数可以显示这些被隐藏的模块\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3edisplay-error-details 输出详细的错误信息\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ewebpack-dev-server 将会开启热更新\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e更多请参考官网 \x3ca href=\x22https:\/\/webpack.github.io\/docs\/cli.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecli\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e配置好了package.json文件,我们就可以这样运行\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 开发模式\nnpm run dev\n\n\/\/ 热更新模式\nnpm run dev-hrm\n\n\/\/ 发布模式\nnpm run build\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e\/\/ 开发模式\nnpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e dev\n\x3c\/span\x3e\n\/\/ 热更新模式\nnpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e dev-hrm\n\x3c\/span\x3e\n\/\/ 发布模式\nnpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e build\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e配置变量标识\x3c\/h3\x3e\n\x3cp\x3e配置完了命令，当我们运行不同的命令时，我们可以通过‘process.env.npm_lifecycle_event’去获取当前运行的命令，根据不同的命令，我们可以按照自己的需要做相应的处理。比如开发模式时，允许开启调试，静态资源不要压缩；发布模式时，不允许调试，静态资源要压缩。具体如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n\n\/\/ 获取当前运行的模式\nvar currentTarget = process.env.npm_lifecycle_event;\n\nvar debug,          \/\/ 是否是调试\n    devServer,      \/\/ 是否是热更新模式\n    minimize;       \/\/ 是否需要压缩\n\nif (currentTarget == \x26quot;build\x26quot;) { \/\/ 发布模式\n\n    debug = false, devServer = false, minimize = true;\n    \n} else if (currentTarget == \x26quot;dev\x26quot;) { \/\/ 开发模式\n\n    debug = true, devServer = false, minimize = false;\n    \n} else if (currentTarget == \x26quot;dev-hrm\x26quot;) { \/\/ 热更新模式\n\n    debug = true, devServer = true, minimize = false;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nix\x22\x3e\x3ccode\x3e\/\/ webpack.config.js\n\n\/\/ 获取当前运行的模式\nvar \x3cspan class=\x22hljs-attr\x22\x3ecurrentTarget\x3c\/span\x3e = process.env.npm_lifecycle_event;\n\nvar debug,          \/\/ 是否是调试\n    devServer,      \/\/ 是否是热更新模式\n    minimize;       \/\/ 是否需要压缩\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-attr\x22\x3ecurrentTarget\x3c\/span\x3e == \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e) { \/\/ 发布模式\n\n    \x3cspan class=\x22hljs-attr\x22\x3edebug\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eminimize\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    \n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-attr\x22\x3ecurrentTarget\x3c\/span\x3e == \x3cspan class=\x22hljs-string\x22\x3e\x22dev\x22\x3c\/span\x3e) { \/\/ 开发模式\n\n    \x3cspan class=\x22hljs-attr\x22\x3edebug\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eminimize\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    \n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-attr\x22\x3ecurrentTarget\x3c\/span\x3e == \x3cspan class=\x22hljs-string\x22\x3e\x22dev-hrm\x22\x3c\/span\x3e) { \/\/ 热更新模式\n\n    \x3cspan class=\x22hljs-attr\x22\x3edebug\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eminimize\x3c\/span\x3e = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e基础配置\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e配置路径\x3c\/h3\x3e\n\x3cp\x3e为了方便我们频繁使用路径，如下配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nvar PATHS = {\n    \/\/ 发布目录\n    publicPath: debug ? \x27\/webpackForSPA\/dist\/\x27 : \x27\/webpackForSPA\/\x27,\n\n    \/\/ 公共资源目录\n    libsPath: path.resolve(process.cwd(), \x27.\/libs\x27),\n    \n    \/\/ src 资源目录\n    srcPath: path.resolve(process.cwd(), \x27src\x27),\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\nvar PATHS = {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发布目录\x3c\/span\x3e\n    publicPath: debug ? \x3cspan class=\x22hljs-string\x22\x3e\x27\/webpackForSPA\/dist\/\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27\/webpackForSPA\/\x27\x3c\/span\x3e,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 公共资源目录\x3c\/span\x3e\n    libsPath: path.resolve(\x3cspan class=\x22hljs-built_in\x22\x3eprocess\x3c\/span\x3e.cwd(), \x3cspan class=\x22hljs-string\x22\x3e\x27.\/libs\x27\x3c\/span\x3e),\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ src 资源目录\x3c\/span\x3e\n    srcPath: path.resolve(\x3cspan class=\x22hljs-built_in\x22\x3eprocess\x3c\/span\x3e.cwd(), \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e),\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e配置别名\x3c\/h3\x3e\n\x3cp\x3ewebpack的别名的目的就是简化我们的操作，引用资源时直接使用别名即可（和 \x3ca href=\x22http:\/\/seajs.org\/docs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eseajs\x3c\/a\x3e 里的别名用法一样）。配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nresolve:{\n     alias: {\n        \/\/ js\n        jquery: path.join(PATHS.libsPath, \x26quot;js\/jquery\/jquery\x26quot;),\n        underscore: path.join(PATHS.libsPath, \x26quot;js\/underscore\/underscore.js\x26quot;),\n\n        \/\/ css\n        bootstrapcss: path.join(PATHS.libsPath, \x26quot;css\/bootstrap\/bootstrap-3.3.5.css\x26quot;),\n        indexcss: path.join(PATHS.srcPath, \x26quot;css\/index.css\x26quot;),\n    }\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nresolve:{\n     alias: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ js\x3c\/span\x3e\n        jquery: path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.libsPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22js\/jquery\/jquery\x22\x3c\/span\x3e),\n        underscore: path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.libsPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22js\/underscore\/underscore.js\x22\x3c\/span\x3e),\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ css\x3c\/span\x3e\n        bootstrapcss: path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.libsPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22css\/bootstrap\/bootstrap-3.3.5.css\x22\x3c\/span\x3e),\n        indexcss: path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.srcPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22css\/index.css\x22\x3c\/span\x3e),\n    }\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e配置webpack编译入口\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nentry:{\n    \/\/ 入口 js\n    index: \x27.\/src\/js\/index.js\x27,\n    \/\/ 公共js包含的文件\n    common: [\n        path.join(PATHS.libsPath, \x26quot;js\/jquery\/jquery.js\x26quot;),\n        path.join(PATHS.libsPath, \x26quot;js\/underscore\/underscore.js\x26quot;)\n    ],\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nentry:{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 入口 js\x3c\/span\x3e\n    index: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/js\/index.js\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 公共js包含的文件\x3c\/span\x3e\n    common: [\n        path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.libsPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22js\/jquery\/jquery.js\x22\x3c\/span\x3e),\n        path.join(PATHS\x3cspan class=\x22hljs-selector-class\x22\x3e.libsPath\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22js\/underscore\/underscore.js\x22\x3c\/span\x3e)\n    ],\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e配置webpack编译输出\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\noutput：{\n    \/\/ 输出目录\n    path: path.join(__dirname, \x27dist\x27),\n\n    \/\/ 发布后，资源的引用目录\n    publicPath: PATHS.publicPath,\n\n    \/\/ 文件名称\n    filename: \x27js\/[name].js\x27,\n\n    \/\/ 按需加载模块时输出的文件名称\n    chunkFilename: \x27js\/[name].js\x27\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-selector-tag\x22\x3eoutput\x3c\/span\x3e：{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出目录\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e),\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发布后，资源的引用目录\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3epublicPath\x3c\/span\x3e: PATHS.publicPath,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 文件名称\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按需加载模块时输出的文件名称\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3echunkFilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e提取css到单独的文件\x3c\/h2\x3e\n\x3cp\x3e当我们在js文件中通过require(\x27\x27)引用js时，webpack 默认会将css文件与当前js文件打包一起，但是这种方式会阻塞页面的加载，因为css的执行要等待js文件加载进来。所以我们会把css从js文件中提取出来，放到一个单独的css文件中。这时我们要使用webpack的插件：\x3ca href=\x22https:\/\/github.com\/webpack\/extract-text-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eextract-text-webpack-plugin\x3c\/a\x3e，配置如下：\x3c\/p\x3e\n\x3cp\x3e引入插件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nvar ExtractTextPlugin = require(\x26quot;extract-text-webpack-plugin\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ExtractTextPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22extract-text-webpack-plugin\x22\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置 loader\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nloaders: [\n    {\n        test: \/\\.css$\/,\n        loader: ExtractTextPlugin.extract(\x26quot;style-loader\x26quot;, \x26quot;css-loader!postcss-loader\x26quot;)\n    },\n    ...\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nloaders: [\n    {\n        test: \/\\.css$\/,\n        loader: ExtractTextPlugin.extract(\x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader!postcss-loader\x22\x3c\/span\x3e)\n    },\n    ...\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置 plugins\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    new ExtractTextPlugin(\x26quot;css\/[name].css\x26quot;, {allChunks: true}),\n    ...\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-string\x22\x3eplugins:\x3c\/span\x3e[\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e ExtractTextPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22css\/[name].css\x22\x3c\/span\x3e, {\x3cspan class=\x22hljs-string\x22\x3eallChunks:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e}),\n    ...\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e公共js打包\x3c\/h2\x3e\n\x3cp\x3e项目中，我们通常会有公共的js，比如 jquery、bootstrap、underscore 等，那么这时候我们需要将这些公共的js单独打包。这时我们需要用webpack自带的插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    \/\/ 会把 ‘entry’ 定义的 common 对应的两个js 打包为 ‘common.js’\n    new webpack.optimize.CommonsChunkPlugin(\x26quot;common\x26quot;, \x27js\/[name].js\x27, Infinity),\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins:[\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 会把 ‘entry’ 定义的 common 对应的两个js 打包为 ‘common.js’\x3c\/span\x3e\n    new webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.CommonsChunkPlugin\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22common\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e, Infinity),\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e资源添加版本号\x3c\/h2\x3e\n\x3cp\x3e项目上线后，资源的版本号十分重要。资源没有版本号，即使重新发布，客户端浏览器可能会把老的资源缓存下来，导致无法下载最新的资源。webpack 支持给资源添加版本号，不仅仅是js、css,甚至font、img都可以添加版本号。我们可以通过webpack中的‘chunkhash’来解决。\x3c\/p\x3e\n\x3cp\x3e首先要了解下webpack 中 [hash]、[chunkhash]、[chunkhash:8]的区别。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e[hash]：webpack编译会产生一个hash值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e[chunkhash]：每个模块的hash值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e[chunkhash:8]：取[chunkhash]的前8位\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e推荐发布模式使用版本号，其他模式无需使用，热更新模式不支持‘chunkhash’，但是支持‘hash’\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e资源加版本号，那么我们的输出的部分都要做改动，并且要区分当前的命令模式，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\noutput：{\n    \/\/ 输出目录\n    path: path.join(__dirname, \x27dist\x27),\n\n    \/\/ 发布后，资源的引用目录\n    publicPath: PATHS.publicPath,\n\n    \/\/ 文件名称\n    filename: devServer ? \x27js\/[name].js\x27 : \x27js\/[name]-[chunkhash:8].js\x27,\n\n    \/\/ 按需加载模块时输出的文件名称\n    chunkFilename: devServer ? \x27js\/[name].js\x27 : \x27js\/[name]-[chunkhash:8].js\x27\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-selector-tag\x22\x3eoutput\x3c\/span\x3e：{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 输出目录\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3epath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e),\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发布后，资源的引用目录\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3epublicPath\x3c\/span\x3e: PATHS.publicPath,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 文件名称\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3efilename\x3c\/span\x3e: devServer ? \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name]-[chunkhash:8].js\x27\x3c\/span\x3e,\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按需加载模块时输出的文件名称\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3echunkFilename\x3c\/span\x3e: devServer ? \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name]-[chunkhash:8].js\x27\x3c\/span\x3e\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出公共js的地方也要改动：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    \/\/ 会把 ‘entry’ 定义的 common 对应的两个js 打包为 ‘common.js’\n    new webpack.optimize.CommonsChunkPlugin(\x26quot;common\x26quot;, \x26quot;\x26quot; \x2b (devServer ? \x27js\/[name].js\x27 : \x26quot;js\/[name]-[chunkhash:8].js\x26quot;), Infinity),\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins:[\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 会把 ‘entry’ 定义的 common 对应的两个js 打包为 ‘common.js’\x3c\/span\x3e\n    new webpack.optimize.CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22common\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e \x2b (devServer ? \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22js\/[name]-[chunkhash:8].js\x22\x3c\/span\x3e), Infinity),\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e页面自动引入含有版本号的文件\x3c\/h2\x3e\n\x3cp\x3e有个版本号后，我们考虑如何通过html引用这些含有版本号的js、css、font、img。webpack每次编译后的资源 chunkhash 会随着内容的变化而变化，所以我们不可能每次都手动的更改html这些资源的引用路径。这时我们要用到webpack的插件：\x3ca href=\x22https:\/\/github.com\/ampedandwired\/html-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehtml-webpack-plugin\x3c\/a\x3e。这个插件的目的是生成html,也可以根据模板生成html，当然还有其他的功能，具体看插件介绍。下面是的配置：\x3c\/p\x3e\n\x3cp\x3e引入插件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nvar HtmlWebpackPlugin = require(\x27html-webpack-plugin\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e HtmlWebpackPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27html-webpack-plugin\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置 plugins，生成需要的html\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    new HtmlWebpackPlugin({\n        filename: \x27index.html\x27,\n        template: __dirname \x2b \x27\/src\/index.html\x27,\n        inject: \x27true\x27\n    }),\n    new HtmlWebpackPlugin({\n        filename: \x27html\/hrm.html\x27,\n        template: __dirname \x2b \x27\/src\/html\/hrm.html\x27,\n        inject: false,\n    }),\n    new HtmlWebpackPlugin({\n        filename: \x27html\/home.html\x27,\n        template: __dirname \x2b \x27\/src\/html\/home.html\x27,\n        inject: false,\n    }),\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins:[\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e,\n        template: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\/index.html\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3einject\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27true\x27\x3c\/span\x3e\n    }),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27html\/hrm.html\x27\x3c\/span\x3e,\n        template: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\/html\/hrm.html\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3einject\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e,\n    }),\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlWebpackPlugin({\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27html\/home.html\x27\x3c\/span\x3e,\n        template: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\/html\/home.html\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-keyword\x22\x3einject\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e,\n    }),\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们前面说过，webpack 默认只识别 js 文件，所以对于html也要使用对应的loader:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nloaders:[\n     {test: \/\\.html$\/,loader: \x26quot;html\x26quot;},\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-string\x22\x3eloaders:\x3c\/span\x3e[\n     {\x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.html$\/\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3eloader:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22html\x22\x3c\/span\x3e},\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e引用图片和字体\x3c\/h2\x3e\n\x3cp\x3e引用图片和字体，需要对应的loader,并且可以设置这些资源大小的临界值，当小于临界值的时候，字体或者图片文件会以base64的形式在html引用，否则则是以资源路径的形式引用。如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n\n\/\/ 图片 loader\n{\n    test: \/\\.(png|gif|jpe?g)$\/,\n    loader: \x27url-loader\x27,\n    query: {\n        \/*\n         *  limit=10000 ： 10kb\n         *  图片大小小于10kb 采用内联的形式，否则输出图片\n         * *\/\n        limit: 10000,\n        name: \x27\/img\/[name]-[hash:8].[ext]\x27\n    }\n},\n\n\/\/ 字体loader\n{\n    test: \/\\.(eot|woff|woff2|ttf|svg)$\/,\n    loader: \x27url-loader\x27,\n    query: {\n        limit: 5000,\n        name: \x27\/font\/[name]-[hash:8].[ext]\x27\n    }\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片 loader\x3c\/span\x3e\n{\n    test: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(png|gif|jpe?g)$\/\x3c\/span\x3e,\n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27url-loader\x27\x3c\/span\x3e,\n    query: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/*\n         *  limit=10000 ： 10kb\n         *  图片大小小于10kb 采用内联的形式，否则输出图片\n         * *\/\x3c\/span\x3e\n        limit: \x3cspan class=\x22hljs-number\x22\x3e10000\x3c\/span\x3e,\n        name: \x3cspan class=\x22hljs-string\x22\x3e\x27\/img\/[name]-[hash:8].[ext]\x27\x3c\/span\x3e\n    }\n},\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 字体loader\x3c\/span\x3e\n{\n    test: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(eot|woff|woff2|ttf|svg)$\/\x3c\/span\x3e,\n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27url-loader\x27\x3c\/span\x3e,\n    query: {\n        limit: \x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e,\n        name: \x3cspan class=\x22hljs-string\x22\x3e\x27\/font\/[name]-[hash:8].[ext]\x27\x3c\/span\x3e\n    }\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e资源文件的压缩\x3c\/h2\x3e\n\x3cp\x3ejs、css、html的压缩是少不了的，webpack 自带了压缩插件，如果某些对象名称不想被压缩，可以排除不想要压缩的对象名称。配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    new webpack.optimize.UglifyJsPlugin({ \n            mangle: { \/\/ 排除不想要压缩的对象名称\n                except: [\x27$super\x27, \x27$\x27, \x27exports\x27, \x27require\x27, \x27module\x27, \x27_\x27]\n            },\n            compress: {\n                warnings: false\n            },\n            output: {\n                comments: false,\n            }\n        })\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e\/\/ webpack.config.js\n...\nplugin\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e[\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.UglifyJsPlugin({ \n            mangle: { \/\/ 排除不想要压缩的对象名称\n                excep\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x27$super\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27$\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27exports\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27require\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27module\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27_\x27\x3c\/span\x3e]\n            },\n            compres\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e {\n                warning\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e false\n            },\n            outpu\x3cspan class=\x22hljs-variable\x22\x3et:\x3c\/span\x3e {\n                comment\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e false,\n            }\n        })\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e使用jquery、underscore\x3c\/h2\x3e\n\x3cp\x3e通过webpack编译输出后的项目中，虽然页面已经引用了jquery、underscore,但是还是无法直接使用‘$’、‘_’对象，我们可以这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var $ = require(\x27jquery\x27)；\nvar _ =  require(\x27underscore\x27)；\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e $ = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e)；\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _ =  \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27underscore\x27\x3c\/span\x3e)；\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是这样实在不方便，如果我们就是要使用‘$’、‘_’对象直接操作，webpack 内置的插件可以帮我们解决。具体如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nnew webpack.ProvidePlugin({\n        $: \x26quot;jquery\x26quot;,\n        jQuery: \x26quot;jquery\x26quot;,\n        \x26quot;window.jQuery\x26quot;: \x26quot;jquery\x26quot;,\n        \x26quot;_\x26quot;: \x26quot;underscore\x26quot;,\n    }),\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.ProvidePlugin({\n        $: \x3cspan class=\x22hljs-string\x22\x3e\x22jquery\x22\x3c\/span\x3e,\n        jQuery: \x3cspan class=\x22hljs-string\x22\x3e\x22jquery\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22window.jQuery\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22jquery\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22_\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22underscore\x22\x3c\/span\x3e,\n    }),\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e代码分割，按需加载\x3c\/h2\x3e\n\x3cp\x3e在单页面应用中，当我们加载其他的模板文件时，想要引用这个模板文件对应的js。如果我们通过这种方式require(),那么webpack会将这个模板文件对应的js也会和当前js打包成一个js。如果项目比较大，那么js文件也将越来越大。我们希望的是加载模板文件的时候动态的引用这个模板文件对应的js。那么我们可以通过 require.ensure()的方式。\x3c\/p\x3e\n\x3cp\x3e比如现在有两个导航菜单：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul\x3e\n\x3cli\x3e\x3ca href=\x26quot;#home\x26quot;\x3ehome\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x26quot;#hrm\x26quot;\x3eHRM\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#home\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ehome\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22#hrm\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eHRM\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们给这两个菜单绑定点击事件，当点击‘home’时引用对应的‘home.js’;当点击‘HRM’时引用对应的‘hrm.js’,那么大致可以这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function loadJs(jsPath) {\n    var currentMod;\n    if (jsPath === \x27.\/home\x27) {\n        require.ensure([], function (require) {\n            currentMod = require(\x27.\/home\x27);\n        }, \x27home\x27);\n    }\n    else if (jsPath === \x27.\/hrm\x27) {\n        require.ensure([], function (require) {\n            currentMod = require(\x27.\/hrm\x27);\n        }, \x27hrm\x27);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eloadJs\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ejsPath\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e currentMod;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (jsPath === \x3cspan class=\x22hljs-string\x22\x3e\x27.\/home\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequire\x3c\/span\x3e) \x3c\/span\x3e{\n            currentMod = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/home\x27\x3c\/span\x3e);\n        }, \x3cspan class=\x22hljs-string\x22\x3e\x27home\x27\x3c\/span\x3e);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (jsPath === \x3cspan class=\x22hljs-string\x22\x3e\x27.\/hrm\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequire\x3c\/span\x3e) \x3c\/span\x3e{\n            currentMod = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/hrm\x27\x3c\/span\x3e);\n        }, \x3cspan class=\x22hljs-string\x22\x3e\x27hrm\x27\x3c\/span\x3e);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e全局环境变量\x3c\/h2\x3e\n\x3cp\x3e有时我们只有在开发过程中，才想输出log日志。可以用以下webpack内置的插件解决：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n      new webpack.DefinePlugin({\n        \/\/ 全局debug标识\n        __DEV__: debug,\n    }),\n\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins:[\n      new webpack.DefinePlugin({\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局debug标识\x3c\/span\x3e\n        __DEV__: debug,\n    }),\n\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时代码中就可以这么写了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (__DEV__) {\n    console.log(\x27debug 模式\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sqf\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-variable\x22\x3e__DEV__\x3c\/span\x3e) {\n    console.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27debug 模式\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader19\x22\x3e清空发布目录\x3c\/h2\x3e\n\x3cp\x3e发布前清空发布目录是有必要的，我们可以通过\x3ca href=\x22https:\/\/github.com\/johnagan\/clean-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e‘clean-webpack-plugin’\x3c\/a\x3e插件解决：\x3c\/p\x3e\n\x3cp\x3e引入插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nvar CleanWebpackPlugin = require(\x27clean-webpack-plugin\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e CleanWebpackPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27clean-webpack-plugin\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置plugins:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins:[\n    new CleanWebpackPlugin([\x27dist\x27], {\n        root: \x27\x27, \/\/ An absolute path for the root  of webpack.config.js\n        verbose: true,\/\/ Write logs to console.\n        dry: false \/\/ Do not delete anything, good for testing.\n    }),\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-string\x22\x3eplugins:\x3c\/span\x3e[\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e CleanWebpackPlugin([\x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e], {\n\x3cspan class=\x22hljs-symbol\x22\x3e        root:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ An absolute path for the root  of webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        verbose:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Write logs to console.\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        dry:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Do not delete anything, good for testing.\x3c\/span\x3e\n    }),\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e热更新结合后端服务\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader21\x22\x3e热更新\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/webpack.github.io\/docs\/hot-module-replacement-with-webpack.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e热更新\x3c\/a\x3e可以在你代码改变的时候即时编译输出，不用每次都要从都重新编译一遍，并且除了第一次编译比较慢，后面的编译都是增量编译，速度很快。有了这个功能，我们就不需要，每次都从头编译一次了。配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins: [\n        \/\/ Enable multi-pass compilation for enhanced performance\n        \/\/ in larger projects. Good default.\n        new webpack.HotModuleReplacementPlugin({\n            multiStep: true\n        }),\n],\ndevServer: {\n        \/\/ Enable history API fallback so HTML5 History API based\n        \/\/ routing works. This is a good default that will come\n        \/\/ in handy in more complicated setups.\n        historyApiFallback: true,\n\n        \/\/ Unlike the cli flag, this doesn\x27t set\n        \/\/ HotModuleReplacementPlugin!\n        hot: true,\n        inline: true,\n\n        \/\/ Display only errors to reduce the amount of output.\n        stats: \x27errors-only\x27,\n\n        host: \x26quot;localhost\x26quot;, \/\/ Defaults to `localhost`   process.env.HOST\n        port: \x26quot;8080\x26quot;,  \/\/ Defaults to 8080   process.env.PORT\n}\n...\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-string\x22\x3eplugins:\x3c\/span\x3e [\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Enable multi-pass compilation for enhanced performance\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ in larger projects. Good default.\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.HotModuleReplacementPlugin({\n\x3cspan class=\x22hljs-symbol\x22\x3e            multiStep:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n        }),\n],\n\x3cspan class=\x22hljs-string\x22\x3edevServer:\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Enable history API fallback so HTML5 History API based\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ routing works. This is a good default that will come\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ in handy in more complicated setups.\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        historyApiFallback:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Unlike the cli flag, this doesn\x27t set\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ HotModuleReplacementPlugin!\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        hot:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        inline:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Display only errors to reduce the amount of output.\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        stats:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27errors-only\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e\n        host:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22localhost\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Defaults to `localhost`   process.env.HOST\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        port:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x228080\x22\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Defaults to 8080   process.env.PORT\x3c\/span\x3e\n}\n...\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时我们只要打开浏览器，输入：localhost:8080\/ 就能看到结果，并且在你修改某些源文件后，浏览器会自动刷新，就能看到webpack 即时编译输出的结果，而不需要重新编译。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader22\x22\x3e结合后端服务\x3c\/h3\x3e\n\x3cp\x3e我们在使用webpack开发时难免要结合后端服务开发，比如我们用webstorm 编译器开发项目，需要调用java的服务，由于有同源策略问题，这时我们会收到相关报错信息。这时我们可以通过代理的方式绕过同源策略。\x3cbr\x3e这里我用nodejs 模拟一个后端服务，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ~\/mockServer\/server.js\n\nvar http = require(\x27http\x27);\n\nvar content = \x27▍if you see that,It means you have get the correct data by backend server(mock data by nodejs server)!\x27;\n\nvar srv = http.createServer(function (req, res) {\n    res.writeHead(200, {\x27Content-Type\x27: \x27application\/text\x27});\n    res.end(content);\n});\n\nsrv.listen(8888, function() {\n    console.log(\x27listening on localhost:8888\x27);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ~\/mockServer\/server.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e http = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27http\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e content = \x3cspan class=\x22hljs-string\x22\x3e\x27▍if you see that,It means you have get the correct data by backend server(mock data by nodejs server)!\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e srv = http.createServer(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e) \x3c\/span\x3e{\n    res.writeHead(\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e, {\x3cspan class=\x22hljs-string\x22\x3e\x27Content-Type\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27application\/text\x27\x3c\/span\x3e});\n    res.end(content);\n});\n\nsrv.listen(\x3cspan class=\x22hljs-number\x22\x3e8888\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27listening on localhost:8888\x27\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来我们需要这样配置去调用这个nodejs 的服务。\x3cbr\x3e首先将热更新配置的代码修改为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins: [\n        \/\/ Enable multi-pass compilation for enhanced performance\n        \/\/ in larger projects. Good default.\n        new webpack.HotModuleReplacementPlugin({\n            multiStep: true\n        }),\n],\ndevServer: {\n        \/\/ Enable history API fallback so HTML5 History API based\n        \/\/ routing works. This is a good default that will come\n        \/\/ in handy in more complicated setups.\n        historyApiFallback: true,\n\n        \/\/ Unlike the cli flag, this doesn\x27t set\n        \/\/ HotModuleReplacementPlugin!\n        hot: true,\n        inline: true,\n\n        \/\/ Display only errors to reduce the amount of output.\n        stats: \x27errors-only\x27,\n\n        host: \x26quot;localhost\x26quot;, \/\/ Defaults to `localhost`   process.env.HOST\n        port: \x26quot;8080\x26quot;,  \/\/ Defaults to 8080   process.env.PORT\n        proxy: {\n                \x27\/devApi\/*\x27: {\n                    target: \x27http:\/\/localhost:8888\/\x27,\n                    secure: true,\n                    \/*\n                     * rewrite 的方式扩展性更强，不限制服务的名称\n                     * *\/\n                    rewrite: function (req) {\n                        req.url = req.url.replace(\/^\\\/devApi\/, \x27\x27);\n                    }\n                }\n        }\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins: [\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Enable multi-pass compilation for enhanced performance\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ in larger projects. Good default.\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.HotModuleReplacementPlugin({\n            \x3cspan class=\x22hljs-attr\x22\x3emultiStep\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n        }),\n],\n\x3cspan class=\x22hljs-attr\x22\x3edevServer\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Enable history API fallback so HTML5 History API based\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ routing works. This is a good default that will come\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ in handy in more complicated setups.\x3c\/span\x3e\n        historyApiFallback: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Unlike the cli flag, this doesn\x27t set\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ HotModuleReplacementPlugin!\x3c\/span\x3e\n        hot: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3einline\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Display only errors to reduce the amount of output.\x3c\/span\x3e\n        stats: \x3cspan class=\x22hljs-string\x22\x3e\x27errors-only\x27\x3c\/span\x3e,\n\n        \x3cspan class=\x22hljs-attr\x22\x3ehost\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22localhost\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Defaults to `localhost`   process.env.HOST\x3c\/span\x3e\n        port: \x3cspan class=\x22hljs-string\x22\x3e\x228080\x22\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Defaults to 8080   process.env.PORT\x3c\/span\x3e\n        proxy: {\n                \x3cspan class=\x22hljs-string\x22\x3e\x27\/devApi\/*\x27\x3c\/span\x3e: {\n                    \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8888\/\x27\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3esecure\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-comment\x22\x3e\/*\n                     * rewrite 的方式扩展性更强，不限制服务的名称\n                     * *\/\x3c\/span\x3e\n                    rewrite: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ereq\x3c\/span\x3e) \x3c\/span\x3e{\n                        req.url = req.url.replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/^\\\/devApi\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n                    }\n                }\n        }\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后配置一个全局的环境变量，通过\x3ccode\x3eDefinePlugin\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins: [\n new webpack.DefinePlugin({\n        __DEVAPI__: devServer ? \x26quot;\/devApi\/\x26quot; : \x26quot;\x27\x27\x26quot;,\n    }),\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\nplugins: [\n new webpack.DefinePlugin({\n        __DEVAPI__: devServer ? \x3cspan class=\x22hljs-string\x22\x3e\x22\/devApi\/\x22\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x22\x27\x27\x22\x3c\/span\x3e,\n    }),\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后在调用服务的地方，只需要在调用地址前添加 \x3ccode\x3e__DEVAPI__\x3c\/code\x3e全局环境变量即可，如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$.ajax({\n        url: __DEVAPI__ \x2b \x27http:\/\/localhost:8888\/\x27,\n        data: {},\n        type: \x27get\x27,\n        dataType: \x27text\x27,\n        success: function (text) {}\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs vim\x22\x3e\x3ccode\x3e$.ajax({\n        ur\x3cspan class=\x22hljs-variable\x22\x3el:\x3c\/span\x3e __DEVAPI__ \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8888\/\x27\x3c\/span\x3e,\n        dat\x3cspan class=\x22hljs-variable\x22\x3ea:\x3c\/span\x3e {},\n        \x3cspan class=\x22hljs-built_in\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e,\n        dataType: \x3cspan class=\x22hljs-string\x22\x3e\x27text\x27\x3c\/span\x3e,\n        succes\x3cspan class=\x22hljs-variable\x22\x3es:\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(text)\x3c\/span\x3e {}\x3c\/span\x3e\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样在热更新的模式下，当有\x3ccode\x3e__DEVAPI__ \x3c\/code\x3e的地方就会自动识别为\x3ccode\x3e\/devApi\/\x3c\/code\x3e，而这里会通过代理处理帮你重写掉，绕过同源策略。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader23\x22\x3e自动打开浏览器\x3c\/h2\x3e\n\x3cp\x3e虽然以上的工作几乎已经满足我们对webpack的要求了，但是我们还想懒一点，想在热更新模式下，编译完成后自动打开浏览器。那么我们可以通过这个插件\x3ca\x3eopen-browser-webpack-plugin\x3c\/a\x3e解决：\x3c\/p\x3e\n\x3cp\x3e引用插件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\nvar OpenBrowserPlugin = require(\x27open-browser-webpack-plugin\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e OpenBrowserPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27open-browser-webpack-plugin\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置插件，这个配置要根据项目的具体情况去配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.config.js\n...\nplugins: [\n new OpenBrowserPlugin({url: \x27http:\/\/localhost:8080\x27 \x2b PATHS.publicPath \x2b \x27index.html\x27})\n]\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.config.js\x3c\/span\x3e\n...\n\x3cspan class=\x22hljs-string\x22\x3eplugins:\x3c\/span\x3e [\n \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e OpenBrowserPlugin({\x3cspan class=\x22hljs-string\x22\x3eurl:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8080\x27\x3c\/span\x3e \x2b PATHS.publicPath \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e})\n]\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader24\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e以上就是这篇文章的主要内容，希望通过这篇文章能够给大家带来一些启发。如果有觉得哪里不对，或者不合理的地方，欢迎指出。其实webpack还有一个关于版本号的\x3ca href=\x22https:\/\/github.com\/webpack\/webpack\/issues\/672\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebug\x3c\/a\x3e，不知道是不是有人解决了，如果有人已经解决了，还请分享。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>webpack 单页面应用实战</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005866410">https://segmentfault.com/a/1190000005866410</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/3fg47n2phie/" target="_blank">https://alili.tech/archive/3fg47n2phie/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>