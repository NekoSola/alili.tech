<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[译] Webpack 前端构建集成方案"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[译] Webpack 前端构建集成方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gm74pqyyg3h/",
				"appid": "1613049289050283", 
				"title": "[译] Webpack 前端构建集成方案 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-09T02:30:58"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/sgcjxsahbv/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/msdlvxmvawr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&text=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&text=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&title=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&is_video=false&description=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&title=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&title=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&title=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgm74pqyyg3h%2f&title=%5b%e8%af%91%5d%20Webpack%20%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e9%9b%86%e6%88%90%e6%96%b9%e6%a1%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[译] Webpack 前端构建集成方案</h1><div class="meta"><div class="postdate"><time datetime="2019-02-09" itemprop="datePublished">2019-02-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e构建工具\x3c\/strong\x3e逐渐成为前端工程必备的工具，Grunt、Gulp、Fis、Webpack等等，译者有幸使用过Fis、Gulp。\x3cbr\x3e前者是百度的集成化方案，提供了一整套前端构建方案，优点是基本帮你搞定了，但是灵活性相对比较低，社区也没那么大；后者提供了非常灵活的配置，简单的语法可以配置出强大的功能，流控制也减少了编译时的时间，可以和各种插件配合使用。\x3cbr\x3e译者因为要使用AMD模块机制，开始接触了webpack，发现官网上讲的晦涩难懂，无法实践，而国内虽有博客也讲解一些入门的教程，但是要么篇幅过短，要么只讲各种配置贴各种代码，然后谷歌发现了国外大牛写的这篇\x3ca href=\x22https:\/\/blog.madewithlove.be\/post\/webpack-your-bags\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e，发现讲的非常通俗易懂，配合实践和代码，让译者感慨万千，瞬间打开了一扇大门。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e原文链接：\x3ca href=\x22https:\/\/blog.madewithlove.be\/post\/webpack-your-bags\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.madewithlove.be\/post\/webpack-your-bags\/\x3c\/a\x3e\x3cbr\x3e作者：\x3ca href=\x22https:\/\/twitter.com\/anahkiasen\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMaxime Fabre\x3c\/a\x3e\x3cbr\x3e译者：\x3ca href=\x22https:\/\/github.com\/chenjsh36\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e陈坚生\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e也许你已经听说过这个叫做webpack的新工具了。有些人称它是一个像gulp一样的构建工具， 有些人则认为它是像browserify一样的打包工具， 如果你并没有深入去了解它你可能就会产生疑惑。就算你仔细地研究它你也可能依旧困惑，因为webpack的官网介绍webpack的时候同时提到了这两个功能。\x3c\/p\x3e\n\x3cp\x3e一开始对\x22webpack 是什么\x22的模糊概念使得我很挫败以至于我直接关掉了webpack的网页。到了现在，我已经有了一套自己的构建系统并为此觉得很开心。如果你和我一样紧跟javascript的潮流，那么错过如此好的工具将是非常可惜的事情。（这句话翻译的不好：And if you follow closely the very fast Javascript scene, like me, you’ve probably been burnt in the past by jumping on the bandwagon too soon.\x26nbsp;）因为对webpack有了一定的实践和经验，我决定写这篇文章来更加清晰地解释“什么是webpack”还有webpack的重要性和优势。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是webpack？\x3c\/h2\x3e\n\x3cp\x3e首先让我们来回答标题中的问题：webpack到底是一个构建系统还是一个打包工具？好吧， 它都有——但不是说它做了两者而是说它合并了两者。webpack并不构建你的资源（assets），然后分别对你的模块进行打包，它认为你的资源都是模块\x3c\/p\x3e\n\x3cp\x3e更精确地说webpack并不是构建所有的sass文件，优化你的图片，并将它们包括在一边，而是打包你所有的模块，然后在另一个页面引用它们，像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import stylesheet from \x27styles\/my-styles.scss\x27;\nimport logo from \x27img\/my-logo.svg\x27;\nimport someTemplate from \x27html\/some-template.html\x27;\nconsole.log(stylesheet); \/\/ \x26quot;body{font-size:12px}\x26quot;\nconsole.log(logo); \/\/ \x26quot;data:image\/svg\x2bxml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5[...]\x26quot;\nconsole.log(someTemplate) \/\/ \x26quot;\x3chtml\x3e\x3cbody\x3e\x3ch1\x3eHello\x3c\/h1\x3e\x3c\/body\x3e\x3c\/html\x3e\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport stylesheet from \x3cspan class=\x22hljs-string\x22\x3e\x27styles\/my-styles.scss\x27\x3c\/span\x3e;\nimport logo from \x3cspan class=\x22hljs-string\x22\x3e\x27img\/my-logo.svg\x27\x3c\/span\x3e;\nimport someTemplate from \x3cspan class=\x22hljs-string\x22\x3e\x27html\/some-template.html\x27\x3c\/span\x3e;\nconsole.log(stylesheet); \/\/ \x3cspan class=\x22hljs-string\x22\x3e\x22body{font-size:12px}\x22\x3c\/span\x3e\nconsole.log(logo); \/\/ \x3cspan class=\x22hljs-string\x22\x3e\x22data:image\/svg\x2bxml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5[...]\x22\x3c\/span\x3e\nconsole.log(someTemplate) \/\/ \x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;html\x26gt;\x26lt;body\x26gt;\x26lt;h1\x26gt;Hello\x26lt;\/h1\x26gt;\x26lt;\/body\x26gt;\x26lt;\/html\x26gt;\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你所有的资源都被认为是模块，因此是可以被引用的、修改、操作，最后可以被打包进你的终极模块中。\x3c\/p\x3e\n\x3cp\x3e为了使得这样能够运行，你需要在你的webpack配置中注册\x3cstrong\x3eloaders\x3c\/strong\x3e。 Loaders 可以认为是一些小型的插件，简单地说就是让webpack在处理的时候，当遇到这种类型的文件时，做这样的操作（操作就是Loaders也就是你的配置）。以下是Loaders配置的一些例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{ \/\/ When you import a .ts file, parse it with Typescript \n    test: \/\\.ts\/, \n    loader: \x27typescript\x27,\n},{\n    \/\/ When you encounter images, compress them with image-webpack (wrapper around imagemin) \n    \/\/ and then inline them as data64 URLs \n    test: \/\\.(png|jpg|svg)\/, \n    loaders: [\x27url\x27, \x27image-webpack\x27],\n},{ \n    \/\/ When you encounter SCSS files, parse them with node-sass, then pass autoprefixer on them \n    \/\/ then return the results as a string of CSS \n    test: \/\\.scss\/, \n    loaders: [\x27css\x27, \x27autoprefixer\x27, \x27sass\x27],\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e{ \/\/ When you import a .ts file, parse it with Typescript \n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.ts\/, \n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27typescript\x27\x3c\/span\x3e,\n},{\n    \/\/ When you encounter images, compress them with image-webpack (wrapper around imagemin) \n    \/\/ and \x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e inline them as data64 URLs \n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.(png|jpg|svg)\/, \n    loaders: [\x3cspan class=\x22hljs-string\x22\x3e\x27url\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27image-webpack\x27\x3c\/span\x3e],\n},{ \n    \/\/ When you encounter SCSS files, parse them with node-sass, \x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e pass autoprefixer on them \n    \/\/ \x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e the results as a string of CSS \n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.scss\/, \n    loaders: [\x3cspan class=\x22hljs-string\x22\x3e\x27css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27sass\x27\x3c\/span\x3e],\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e总之到食物链的末尾，所有的Loaders返回字符串。这个机制使得Webpack可以将它们引进到javascript的包中。当你的sass文件被Loaders转化后，它在内部会像这样被传递：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export default \x27body{font-size:12px}\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eexport\x3c\/span\x3e default \x3cspan class=\x22hljs-string\x22\x3e\x27body{font-size:12px}\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e为什么要这样做？\x3c\/h2\x3e\n\x3cp\x3e当你明白webpack做了什么后，随之而来的问题大部分是这样做的好处是什么？ “图片、css在我的JS中？这是什么鬼？” 好吧，思考下我们最近一直推崇的并被教育应该这样做的，把所有的东西打包成一个文件，以减少http请求……\x3c\/p\x3e\n\x3cp\x3e这导致了一个很大的缺点就是大多数人把当前的所有资源都打包到一个app.js文件中，然后包含在所有的页面。这意味着任何给定页面上大部分加载的资源都是非必须的。如果你不这样做，那么你很可能要手工引入资源，导致需要维护和跟踪一个巨大的依赖书，用来记录那个页面用到了样式表A和样式表B。\x3c\/p\x3e\n\x3cp\x3e无论方法是正确的还是错误的。 想象一下webpack作为一个中间者，它不止是一个构建系统或者一个打包工具，它是一个顽皮的智能模块包装系统。一旦被很好地配置，它会比你更加了解你的栈，所以它会比你更加清楚如何更好地优化。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e让我们一起构建一个简单的APP\x3c\/h2\x3e\n\x3cp\x3e为了让你更简单地了解webpack的优点，我们将一起构建一个小型的App并对资源进行打包。对于本教程，我建议运行Node4或者Node5以及NPM3的平行依赖树以避免在使用webpack时遇到坑爹地问题。如果你还没有NPM3，你可以通过\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install npm@3 -g \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install \x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e@\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e -g \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e来安装。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ node --version\nv5.7.1\n$ npm --version\n3.6.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22base\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e--version\x3c\/span\x3e\nv5.\x3cspan class=\x22hljs-number\x22\x3e7.1\x3c\/span\x3e\n$ npm --\x3cspan class=\x22hljs-keyword\x22\x3eversion\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e3.6\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我也建议你添加node_modules\/.bin 到你的环境变量中以避免每次都输入 \x3ccode\x3enode_modules\/.bin\/webpack\x3c\/code\x3e 来运行命令。后面的所有例子我将不会使用node_modules\/.bin这个命令了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e基本的使用\x3c\/h3\x3e\n\x3cp\x3e让我们创建我们的项目并安装webpack，同时我们引入jQuery以便后面使用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm init -y\n$ npm install jquery --save\n$ npm install webpack --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ npm init -y\n$ npm install jquery --save\n$ npm install webpack --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在，让我们创建项目的入口，并使用es2015:\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3esrc\/index.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var $ = require(\x27jquery\x27);\n$(\x27body\x27).html(\x27hello\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar $ = require(\x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e);\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27body\x27\x3c\/span\x3e).html(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后创建我们的webpack配置，文件名为webpack.config.js， webpack的配置文件是一个javascript，并且需要export成一个object（对象）\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3ewebpack.config.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n    module.exports = {\n      entry: \x27.\/src\x27,\n      output: {\n        path: \x27builds\x27,\n        filename: \x27bundle.js\x27,\n      }\n    };\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\n    module.exports = {\n      entry: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\x27\x3c\/span\x3e,\n      output: {\n        path: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n      }\n    };\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里，entry告诉webpack那些文件是你应用的入口。入口文件位于你依赖树的顶部。然后我们告诉它去编译我们的文件到__builds__这个文件夹中并使用((bundle.js这个名字。接下来我们创建我们的index.html：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n    \x3c!DOCTYPE html\x3e\n    \x3chtml lang=\x26quot;en\x26quot;\x3e\n    \x3chead\x3e\n        \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n        \x3ctitle\x3ewebpack\x3c\/title\x3e\n    \x3c\/head\x3e\n    \x3cbody\x3e\n        \x3ch1\x3emy title\x3c\/h1\x3e\n        \x3ca href=\x26quot;\x26quot;\x3eclick me\x3c\/a\x3e\n        \x3cscript src=\x26quot;builds\/bundle.js\x26quot;\x3e\x3c\/script\x3e\n    \x3c\/body\x3e\n    \x3c\/html\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\n    \x26lt;!DOCTYPE html\x26gt;\n    \x26lt;html lang=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\n    \x26lt;head\x26gt;\n        \x26lt;meta charset=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\n        \x26lt;title\x26gt;webpack\x26lt;\/title\x26gt;\n    \x26lt;\/head\x26gt;\n    \x26lt;body\x26gt;\n        \x26lt;h1\x26gt;my title\x26lt;\/h1\x26gt;\n        \x26lt;a href=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\x26gt;click me\x26lt;\/a\x26gt;\n        \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22builds\/bundle.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n    \x26lt;\/body\x26gt;\n    \x26lt;\/html\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行webpack，如果一切运行正常，我们会收到一段信息告诉我们webpack成功编译打包到了bundle.js中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Version: webpack 1.13.1\nTime: 382ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  267 kB       0  [emitted]  main\n   [0] .\/src\/index.js 58 bytes {0} [built]\n    \x2b 1 hidden modules\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eVersion: webpack 1.13.1\nTime: 382ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  267 kB       0  [emitted]  main\n   [0] .\/src\/index.js 58 bytes {0} [built]\n    \x2b 1 hidden modules\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里你可以看到webpack告诉你你的bundle.js包含了我们的入口文件index.js同时还有一个隐藏的模块。这个隐藏的模块便是jquery，webpack默认会隐藏不属于你的模块，如果要看所有被webpack隐藏的模块，我们可以向webpack传参 --display-modules：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ewebpack --display-modules\nHash: 20aea3445ac35ac27c32\nVersion: webpack 1.13.1\nTime: 382ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  267 kB       0  [emitted]  main\n   [0] .\/src\/index.js 58 bytes {0} [built]\n   [1] .\/~\/jquery\/dist\/jquery.js 258 kB {0} [built]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x26gt;webpack --display-modules\nHash: 20aea3445ac35ac27c32\nVersion: webpack 1.13.1\nTime: 382ms\n    Asset    Size  Chunks             Chunk Names\nbundle.js  267 kB       0  [emitted]  main\n   [0] .\/src\/index.js 58 bytes {0} [built]\n   [1] .\/~\/jquery\/dist\/jquery.js 258 kB {0} [built]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你也可以运行 \x3cstrong\x3ewebpack --watch\x3c\/strong\x3e 让webpack去监听你的文件，一旦有改变则自动编译。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e建立我们的第一个Loader\x3c\/h3\x3e\n\x3cp\x3e还记得我们讨论过的webpack如何引进css和html以及其他所有类型的资源吗？在那里适合？如果你有投身到这几年的web组件化发展的事业中（angular2， vue, react, polymer, x-tag等等），你应该听说过关于构建webapp的一个新的概念，不适用单一集成的ui模块，而是将ui分解为多个小型的可重用的ui。现在为了让组件真正独立，他们需要能够将所有依赖都引入他们自身中。想象一下一个按钮肯定有html、一些脚本让它能够交互，当然也需要一些样式。最好能在需要到这个组件的时候所有这些资源才被加载。只有当我们引入这个按钮的时候，我们才拿到相关的资源。\x3c\/p\x3e\n\x3cp\x3e让我们来写button组件。首先，我假设大多数人都习惯了es2015，我们将添加第一个Loader： babel。安装Loader于webpack中需要做两件事情：**npm install {whatever}-loader, 然后添加它到你webpack配置中，即module.loaders。如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install babel-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install babel-loader --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于babel-loader并不会自动安装babel， 我们需要自己安装babel-core还有es2015 preset：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install babel-core babel-preset-es2015 --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install babel-core babel-preset-es2015 --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后我们创建.babelrc来告诉babel应该用哪一种preset，文件是json格式，在本例子中，我们告诉它使用es2015 preset\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.babelrc { \x26quot;presets\x26quot;: [\x26quot;es2015\x26quot;]}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.babelrc\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e]}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在已经配置并安装好babel了。我们需要babel运行在所有的以.js结尾的文件中，但是由于webpack会遍历包括第三方在内的所有依赖包，因此我们要防止babel运行在如jquery这样的第三方库中。Loaders可以拥有一个include或者一个exclude规则，它可以是一个字符串、一个正则表达、一个回调函数或者其他任何你想要的。在本例子中，我们想要babel只运行在我们的文件上，因此我们将\x3cstrong\x3einclude\x3c\/strong\x3e我们的资源文件夹：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    entry: \x27.\/src\x27,\n    output: {\n        path: \x27builds\x27,\n        filename: \x27[name].js\x27,\n    },\n    module: {\n        loaders: [\n            {\n                test: \/\\.js\/,\n                loader: \x27babel\x27,\n                include: __dirname \x2b \x27\/src\x27,\n            }\n        ],\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3emodule.exports = {\n    entry: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\x27\x3c\/span\x3e,\n    output: {\n        path: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27[name].js\x27\x3c\/span\x3e,\n    },\n    module: {\n        loaders: [\n            {\n                \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.js\/,\n                loader: \x3cspan class=\x22hljs-string\x22\x3e\x27babel\x27\x3c\/span\x3e,\n                include: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\x27\x3c\/span\x3e,\n            }\n        ],\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们可以重写我们的index.js（我们在之前引入了babel）。并且接下来的例子我们也将使用es6\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e写一个小型的组件\x3c\/h3\x3e\n\x3cp\x3e现在我们开始写一个小型的button组件， 它将有一些scss样式，一个html模板，还有一些行为。我们将安装我们需要的东西。手下我们需要mustache，一个非常轻量级的模板渲染库，同时还有sasss和html的Loaders。同时，由于Loader可以像管道一样将处理后的结果顺序传递下去，我们将需要一个cssloader来处理sass Loader处理后的结果。现在，我们有了我们的css， 有很多方式可以处理他们，这次我们使用的是style-loader，它可以动态地将css注入到页面中去。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install mustache --save\n$ npm install css-loader style-loader html-loader sass-loader node-sass --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ npm install mustache --save\n$ npm install css-loader style-loader html-loader sass-loader node-sass --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们由右到左以‘！’为分割向配置文件传递loader以告诉webpack如何将匹配到的文件顺序传递给Loaders，你也可以使用数组来进行传递，当然顺序也要是由右到左\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    entry: \x27.\/src\x27,\n    output: {\n        path: \x27builds\x27,\n        filename: \x27[name].js\x27,\n    },\n    module: {\n        loaders: [\n            {\n                test: \/\\.js\/,\n                loader: \x27babel\x27,\n                include: __dirname \x2b \x27\/src\x27,\n            }\n        ],\n        {\n            test: \x27\\.scss\x27,\n            loader: \x27style!css!sass\x27,\n            \/\/ loaders: [\x27style\x27, \x27css\x27, \x27sass\x27],\n        },\n        {\n            test: \/\\.html\/,\n            loader: \x27html\x27,\n        }\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3emodule.exports = {\n    entry: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\x27\x3c\/span\x3e,\n    output: {\n        path: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n        filename: \x3cspan class=\x22hljs-string\x22\x3e\x27[name].js\x27\x3c\/span\x3e,\n    },\n    module: {\n        loaders: [\n            {\n                \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.js\/,\n                loader: \x3cspan class=\x22hljs-string\x22\x3e\x27babel\x27\x3c\/span\x3e,\n                include: __dirname \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\x27\x3c\/span\x3e,\n            }\n        ],\n        {\n            \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\\.scss\x27\x3c\/span\x3e,\n            loader: \x3cspan class=\x22hljs-string\x22\x3e\x27style!css!sass\x27\x3c\/span\x3e,\n            \/\/ loaders: [\x3cspan class=\x22hljs-string\x22\x3e\x27style\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27sass\x27\x3c\/span\x3e],\n        },\n        {\n            \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.html\/,\n            loader: \x3cspan class=\x22hljs-string\x22\x3e\x27html\x27\x3c\/span\x3e,\n        }\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eloaders已经配置安装好了，我们可以开始写我们的按钮了\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Button.scss\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.button {\n    background: tomato;\n    color: white;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e.button {\n    background: tomato;\n    color: white;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Button.html\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ca href=\x26quot;\x22{{\x22link\x22}}\x22\x26quot; class=\x26quot;button\x26quot;\x3e\x22{{\x22text\x22}}\x22\x3c\/a\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;a href=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22link\x22}}\x22\x22\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e\x26gt;\x22{{\x22text\x22}}\x22\x26lt;\/a\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Button.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import $ from \x27jquery\x27;\nimport template from \x27.\/Button.html\x27;\nimport Mustache from \x27mustache\x27;\nimport \x27.\/Button.scss\x27;\n\nexport default class Button {\n    constructor(link) {\n        this.link = link;\n    }\n    onClick(event) {\n        event.preventDefault();\n        alert(this.link);\n    }\n    render(node) {\n        const text = $(node).text();\n\n        $(node).html(\n            Mustache.render(template, {text})\n            );\n\n        $(\x27.button\x27).click(this.onClick.bind(this));\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport $ from \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e;\nimport template from \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Button.html\x27\x3c\/span\x3e;\nimport Mustache from \x3cspan class=\x22hljs-string\x22\x3e\x27mustache\x27\x3c\/span\x3e;\nimport \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Button.scss\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-built_in\x22\x3eexport\x3c\/span\x3e default class Button {\n    constructor(link) {\n        this.link = link;\n    }\n    onClick(event) {\n        event.preventDefault();\n        alert(this.link);\n    }\n    render(node) {\n        const text = $(node).text();\n\n        $(node).html(\n            Mustache.render(template, {text})\n            );\n\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.button\x27\x3c\/span\x3e).click(this.onClick.bind(this));\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你的button.js现在是100%自引用并且在那里都可以被引用， 现在我们只需要将button渲染到我们的页面来\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3esrc\/index.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Button from \x27.\/Components\/Button\x27;\nButton = Button.default\nconst button  = new Button(\x27google.com\x27);\nbutton.render(\x27a\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport Button from \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Components\/Button\x27\x3c\/span\x3e;\nButton = Button.default\nconst button  = new Button(\x3cspan class=\x22hljs-string\x22\x3e\x27google.com\x27\x3c\/span\x3e);\nbutton.render(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行webpack，刷新页面，你应该可以看到我们丑陋的按钮，并有对应的行为，（这一步有问题，编译成功了，但是无法new一个，提示\x3cstrong\x3e _Button2.default is not a constructor\x3c\/strong\x3e 错误）\x3cbr\x3e至此你学会了如何建立loaders以及如何定义应用每一部分的依赖。现在貌似还不不出有什么用处，让我们更加深入到例子中去。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e代码分割\x3c\/h3\x3e\n\x3cp\x3e上面的例子会一直引用button，当然，这并没有什么问题，但我们并不总是一直需要我们的按钮。也许在一些页面没有按钮需要渲染。在这种情况下，我们不想去引入按钮的样式、模板等。这个时候就是代码分割出场的时候了（code spliting）。代码分割便是webpack用来解决之前所说的单集成模块 VS 不可维护的引用的问题。分割点（split points）：你的代码被分割为多个文件并被按需请求加载。语法非常简单：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import $ from \x27jquery\x27;\n\n\/\/ This is a split point\nrequire.ensure([], () =\x3e {\n  \/\/ All the code in here, and everything that is imported\n  \/\/ will be in a separate file\n  const library = require(\x27some-big-library\x27);\n  $(\x27foo\x27).click(() =\x3e library.doSomething());\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport $ from \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e;\n\n\/\/ This is a split point\nrequire.ensure([], () =\x26gt; {\n  \/\/ All the code \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e here, and everything that is imported\n  \/\/ will be \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e a separate file\n  const library = require(\x3cspan class=\x22hljs-string\x22\x3e\x27some-big-library\x27\x3c\/span\x3e);\n  $(\x3cspan class=\x22hljs-string\x22\x3e\x27foo\x27\x3c\/span\x3e).click(() =\x26gt; library.doSomething());\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e任何写在require.ensure回调中的东西会被分隔到一个数据块，一个隔离的文件，webpack会在需要的时候，通过ajax请求去加载。这意味着，我们会看到如下面的依赖树：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22bundle.js\n|- jquery.js\n|- index.js \/\/ our main file\nchunk1.js\n|- some-big-libray.js\n|- index-chunk.js \/\/ the code in the callback\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3ebundle.js\n|- jquery.js\n|- index.js \/\/ our main file\nchunk1.js\n|- some-big-libray.js\n|- index-chunk.js \/\/ the code \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e the callback\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e并且我们不用去引入chunk1.js或者去加载它，webpack已经帮我们做了这些事情。这意味着我们可以通过各种各样的逻辑去分割我们的代码。在接下来的例子中，我们只想在页面有链接的时候去加载我们的button组件\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3esrc\/index.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (document.querySelectorAll(\x27a\x27).length) {\n    require.ensure([], () =\x3e {\n        const Button = require(\x27.\/Components\/Button\x27).default;\n        const button = new Button(\x27google.com\x27);\n\n        button.render(\x27a\x27);\n    });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (document.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e).length) {\n    require.ensure([], () =\x26gt; {\n        const Button = require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/Components\/Button\x27\x3c\/span\x3e).default;\n        const button = new Button(\x3cspan class=\x22hljs-string\x22\x3e\x27google.com\x27\x3c\/span\x3e);\n\n        button.render(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\n    });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意当使用require的时候，如果你想要默认的导出时，你需要手动的包裹它（default)。原因在于require无法同时处理default和正常的导出，所以你需要显示申明想要用哪一个。而import则有一个系统来解决这个问题，所以它知道如何处理。（eg. \x3ccode\x3eimport foo from \x27bar\x27\x3c\/code\x3e vs \x3ccode\x3eimport {baz} from \x27bar\x27\x3c\/code\x3e)\x3c\/p\x3e\n\x3cp\x3e现在webpack的输出信息应该不一样了，让我们运行--display-chunks来看数据块的关系：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ webpack --display-modules --display-chunks\nHash: 43b51e6cec5eb6572608\nVersion: webpack 1.12.14\nTime: 1185ms\n      Asset     Size  Chunks             Chunk Names\n  bundle.js  3.82 kB       0  [emitted]  main\n1.bundle.js   300 kB       1  [emitted]\nchunk    {0} bundle.js (main) 235 bytes [rendered]\n    [0] .\/src\/index.js 235 bytes {0} [built]\nchunk    {1} 1.bundle.js 290 kB {0} [rendered]\n    [1] .\/src\/Components\/Button.js 1.94 kB {1} [built]\n    [2] .\/~\/jquery\/dist\/jquery.js 259 kB {1} [built]\n    [3] .\/src\/Components\/Button.html 72 bytes {1} [built]\n    [4] .\/~\/mustache\/mustache.js 19.4 kB {1} [built]\n    [5] .\/src\/Components\/Button.scss 1.05 kB {1} [built]\n    [6] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Button.scss 212 bytes {1} [built]\n    [7] .\/~\/css-loader\/lib\/css-base.js 1.51 kB {1} [built]\n    [8] .\/~\/style-loader\/addStyles.js 7.21 kB {1} [built]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ webpack --display-modules --display-chunks\nHash: 43b51e6cec5eb6572608\nVersion: webpack 1.12.14\nTime: 1185ms\n      Asset     Size  Chunks             Chunk Names\n  bundle.js  3.82 kB       0  [emitted]  main\n1.bundle.js   300 kB       1  [emitted]\nchunk    {0} bundle.js (main) 235 bytes [rendered]\n    [0] .\/src\/index.js 235 bytes {0} [built]\nchunk    {1} 1.bundle.js 290 kB {0} [rendered]\n    [1] .\/src\/Components\/Button.js 1.94 kB {1} [built]\n    [2] .\/~\/jquery\/dist\/jquery.js 259 kB {1} [built]\n    [3] .\/src\/Components\/Button.html 72 bytes {1} [built]\n    [4] .\/~\/mustache\/mustache.js 19.4 kB {1} [built]\n    [5] .\/src\/Components\/Button.scss 1.05 kB {1} [built]\n    [6] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Button.scss 212 bytes {1} [built]\n    [7] .\/~\/css-loader\/lib\/css-base.js 1.51 kB {1} [built]\n    [8] .\/~\/style-loader\/addStyles.js 7.21 kB {1} [built]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从输出数据你可以看到，我们的入口文件（bundle.js)现在只包含webpack的逻辑，其他的脚本（jquery、mustache、button）全都在1.bundle.js中，并只有当我们页面中有连接的时候才会加载进来。现在为了让webpack知道到哪里去ajax我们的数据块，我们需要配置下我们的文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22path: \x27builds\x27,\nfilename: \x27bundle.js\x27,\npublicPath: \x27builds\/\x27,\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3epath: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\nfilename: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\npublicPath: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\/\x27\x3c\/span\x3e,\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3epublishPath告诉webpack到哪里去找资源， 至此，我们运行webpack，由于页面有连接，因此webpack加载了button组件。注意： 我们可以对数据块进行命名来替代默认的1.bundle.js：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (document.querySelectorAll(\x27a\x27).length) {\n    require.ensure([], () =\x3e {\n        const Button = require(\x27.\/Components\/Button\x27).default;\n        const button = new Button(\x27google.com\x27);\n\n        button.render(\x27a\x27);\n    }, \x27button\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (document.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e).length) {\n    require.ensure([], () =\x26gt; {\n        const Button = require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/Components\/Button\x27\x3c\/span\x3e).default;\n        const button = new Button(\x3cspan class=\x22hljs-string\x22\x3e\x27google.com\x27\x3c\/span\x3e);\n\n        button.render(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\n    }, \x3cspan class=\x22hljs-string\x22\x3e\x27button\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e尝试了，发现并没有什么用……是我打开的方式不对么\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e添加第二个组件\x3c\/h3\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Header.scss\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.header {\n  font-size: 3rem;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e.header {\n  font-size: 3rem;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Header.html\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cheader class=\x26quot;header\x26quot;\x3e\x22{{\x22text\x22}}\x22\x3c\/header\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26lt;header class=\x3cspan class=\x22hljs-string\x22\x3e\x22header\x22\x3c\/span\x3e\x26gt;\x22{{\x22text\x22}}\x22\x26lt;\/header\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3esrc\/Components\/Header.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import $ from \x27jquery\x27;\nimport Mustache from \x27mustache\x27;\nimport template from \x27.\/Header.html\x27;\nimport \x27.\/Header.scss\x27;\n\nexport default class Header {\n    render(node) {\n        const text = $(node).text();\n\n        $(node).html(\n            Mustache.render(template, {text})\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport $ from \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e;\nimport Mustache from \x3cspan class=\x22hljs-string\x22\x3e\x27mustache\x27\x3c\/span\x3e;\nimport template from \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Header.html\x27\x3c\/span\x3e;\nimport \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Header.scss\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-built_in\x22\x3eexport\x3c\/span\x3e default class Header {\n    render(node) {\n        const text = $(node).text();\n\n        $(node).html(\n            Mustache.render(template, {text})\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在应用中渲染它：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ If we have an anchor, render the Button component on it\nif (document.querySelectorAll(\x27a\x27).length) {\n    require.ensure([], () =\x3e {\n        const Button = require(\x27.\/Components\/Button\x27).default;\n        const button = new Button(\x27google.com\x27);\n\n        button.render(\x27a\x27);\n    });\n}\n\n\/\/ If we have a title, render the Header component on it\nif (document.querySelectorAll(\x27h1\x27).length) {\n    require.ensure([], () =\x3e {\n        const Header = require(\x27.\/Components\/Header\x27).default;\n\n        new Header().render(\x27h1\x27);\n    });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\/\/ If we have an anchor, render the Button component on it\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (document.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e).length) {\n    require.ensure([], () =\x26gt; {\n        const Button = require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/Components\/Button\x27\x3c\/span\x3e).default;\n        const button = new Button(\x3cspan class=\x22hljs-string\x22\x3e\x27google.com\x27\x3c\/span\x3e);\n\n        button.render(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\n    });\n}\n\n\/\/ If we have a title, render the Header component on it\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (document.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27h1\x27\x3c\/span\x3e).length) {\n    require.ensure([], () =\x26gt; {\n        const Header = require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/Components\/Header\x27\x3c\/span\x3e).default;\n\n        new Header().render(\x3cspan class=\x22hljs-string\x22\x3e\x27h1\x27\x3c\/span\x3e);\n    });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再次运行webpack查看依赖情况，你会发现两个组件都需要jquery、mustache，意味着这些依赖模块被重复定义于我们的数据块中，这并不是我们想要的。默认情况webpack并不对此进行优化。但是webpack可以通过插件的形式提供强力的优化方案。\x3c\/p\x3e\n\x3cp\x3e插件（plugins)和loaders不同，loaders只执行与特定类型的文件，plugins执行于所有的文件并提供更多丰富的功能。webpack拥有大量的插件来处理各种各样的优化。\x3cstrong\x3eCommonChunksPlugin\x3c\/strong\x3e可以用来解决这个问题的插件， 它通过递归分析你的依赖包，找到公用的模块并将它们分离成一个独立的文件中，当然你也可以写入到入口文件中。\x3c\/p\x3e\n\x3cp\x3e在接下来的例子中，我们将公用的模块放到了我们的入口文件中，因为如果所有的页面有引用了jquery和mustache，我们就把它们放到顶端。接下来让我们更新下我们的配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22plugins: [\n    new webpack.optimize.CommonsChunkPlugin({\n        name:      \x27main\x27, \/\/ Move dependencies to our main file\n        children:  true, \/\/ Look for common dependencies in all children,\n        minChunks: 2, \/\/ How many times a dependency must come up before being extracted\n    })\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eplugins: [\n    new webpack.optimize.CommonsChunkPlugin({\n        name:      \x3cspan class=\x22hljs-string\x22\x3e\x27main\x27\x3c\/span\x3e, \/\/ Move dependencies to our main file\n        children:  \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \/\/ Look \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e common dependencies \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e all children,\n        minChunks: 2, \/\/ How many \x3cspan class=\x22hljs-built_in\x22\x3etimes\x3c\/span\x3e a dependency must come up before being extracted\n    })\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果我们再次运行webpack， 我们可以发现公用的组件已经被提取到了顶部：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22chunk    {0} bundle.js (main) 287 kB [rendered]\n    [0] .\/src\/index.js 550 bytes {0} [built]\n    [2] .\/~\/jquery\/dist\/jquery.js 259 kB {0} [built]\n    [4] .\/~\/mustache\/mustache.js 19.4 kB {0} [built]\n    [7] .\/~\/css-loader\/lib\/css-base.js 1.51 kB {0} [built]\n    [8] .\/~\/style-loader\/addStyles.js 7.21 kB {0} [built]\nchunk    {1} 1.bundle.js 3.28 kB {0} [rendered]\n    [1] .\/src\/Components\/Button.js 1.94 kB {1} [built]\n    [3] .\/src\/Components\/Button.html 72 bytes {1} [built]\n    [5] .\/src\/Components\/Button.scss 1.05 kB {1} [built]\n    [6] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Button.scss 212 bytes {1} [built]\nchunk    {2} 2.bundle.js 2.92 kB {0} [rendered]\n    [9] .\/src\/Components\/Header.js 1.62 kB {2} [built]\n   [10] .\/src\/Components\/Header.html 64 bytes {2} [built]\n   [11] .\/src\/Components\/Header.scss 1.05 kB {2} [built]\n   [12] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Header.scss 192 bytes {2} [built]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3echunk    {0} bundle.js (main) 287 kB [rendered]\n    [0] .\/src\/index.js 550 bytes {0} [built]\n    [2] .\/~\/jquery\/dist\/jquery.js 259 kB {0} [built]\n    [4] .\/~\/mustache\/mustache.js 19.4 kB {0} [built]\n    [7] .\/~\/css-loader\/lib\/css-base.js 1.51 kB {0} [built]\n    [8] .\/~\/style-loader\/addStyles.js 7.21 kB {0} [built]\nchunk    {1} 1.bundle.js 3.28 kB {0} [rendered]\n    [1] .\/src\/Components\/Button.js 1.94 kB {1} [built]\n    [3] .\/src\/Components\/Button.html 72 bytes {1} [built]\n    [5] .\/src\/Components\/Button.scss 1.05 kB {1} [built]\n    [6] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Button.scss 212 bytes {1} [built]\nchunk    {2} 2.bundle.js 2.92 kB {0} [rendered]\n    [9] .\/src\/Components\/Header.js 1.62 kB {2} [built]\n   [10] .\/src\/Components\/Header.html 64 bytes {2} [built]\n   [11] .\/src\/Components\/Header.scss 1.05 kB {2} [built]\n   [12] .\/~\/css-loader!.\/~\/sass-loader!.\/src\/Components\/Header.scss 192 bytes {2} [built]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果我们将name改为\x27vender‘：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.CommonsChunkPlugin({\n    name:      \x27verder\x27, \/\/ Move dependencies to our main file\n    children:  true, \/\/ Look for common dependencies in all children,\n    minChunks: 2, \/\/ How many times a dependency must come up before being extracted\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3enew webpack.optimize.CommonsChunkPlugin({\n    name:      \x3cspan class=\x22hljs-string\x22\x3e\x27verder\x27\x3c\/span\x3e, \/\/ Move dependencies to our main file\n    children:  \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \/\/ Look \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e common dependencies \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e all children,\n    minChunks: 2, \/\/ How many \x3cspan class=\x22hljs-built_in\x22\x3etimes\x3c\/span\x3e a dependency must come up before being extracted\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于该数据块还没有创建出来，webpack会自动创建builds\/verder.js的文件，然后供我们在html中引用，这一步笔者试了，发现无法创建vender这个依赖，所有公用依赖也没有被提取出来，不知道是不是windows的问题。\x3c\/p\x3e\n\x3cp\x3e你还可以使得公用模块文件以异步请求的方式加载进来，设置属性async: true便可以了。webpack还有大量的功能强大智能化的插件，我无法一个个介绍它们，但是作为练习，让我们为应用创建一个生产环境\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e生产和超越\x3c\/h3\x3e\n\x3cp\x3e首先，我们将添加几个插件到我们的配置中去，但我们只想要在生产环境中去加载并使用这些插件。所以我们要添加逻辑来控制我们的配置。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var webpack    = require(\x27webpack\x27);\nvar production = process.env.NODE_ENV === \x27production\x27;\n\nvar plugins = [\n    new webpack.optimize.CommonsChunkPlugin({\n        name:      \x27main\x27, \/\/ Move dependencies to our main file\n        children:  true, \/\/ Look for common dependencies in all children,\n        minChunks: 2, \/\/ How many times a dependency must come up before being extracted\n    }),\n];\n\nif (production) {\n    plugins = plugins.concat([\n       \/\/ Production plugins go here\n    ]);\n}\n\nmodule.exports = {\n    entry:   \x27.\/src\x27,\n    output:  {\n        path:       \x27builds\x27,\n        filename:   \x27bundle.js\x27,\n        publicPath: \x27builds\/\x27,\n    },\n    plugins: plugins,\n    \/\/ ...\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode class=\x22base\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e webpack    = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e production = process.env.NODE_ENV === \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e plugins = [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.CommonsChunkPlugin({\n        \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:      \x3cspan class=\x22hljs-string\x22\x3e\x27main\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Move dependencies to our main file\x3c\/span\x3e\n        children:  \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Look for common dependencies in all children,\x3c\/span\x3e\n        minChunks: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ How many times a dependency must come up before being extracted\x3c\/span\x3e\n    }),\n];\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (production) {\n    plugins = plugins.concat([\n       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Production plugins go here\x3c\/span\x3e\n    ]);\n}\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e:   \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e:  {\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e:       \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e:   \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3epublicPath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27builds\/\x27\x3c\/span\x3e,\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: plugins,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ewebpack 有多个设置我们可以在生产环境中关掉：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    debug:   !production,\n    devtool: production ? false : \x27eval\x27,\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3emodule.exports = {\n    debug:   !production,\n    devtool: production ? \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27eval\x27\x3c\/span\x3e,\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3edebug意味着不会打包过多的代码以让你在本地调试的时候更加容易，第二个是关于资源映射的方式（sourcemaps generation），webpack有几个方式来渲染sourcemaps，eval是在本地开发中最好的一种，但在生产环境中，我们并不在意这些，所以在生产环境中我们禁止了它。接下来我们可以添加生产环境中用到的插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if (production) {\n    plugins = plugins.concat([\n\n        \/\/ This plugin looks for similar chunks and files\n        \/\/ and merges them for better caching by the user\n        new webpack.optimize.DedupePlugin(),\n\n        \/\/ This plugins optimizes chunks and modules by\n        \/\/ how much they are used in your app\n        new webpack.optimize.OccurenceOrderPlugin(),\n\n        \/\/ This plugin prevents Webpack from creating chunks\n        \/\/ that would be too small to be worth loading separately\n        new webpack.optimize.MinChunkSizePlugin({\n            minChunkSize: 51200, \/\/ ~50kb\n        }),\n\n        \/\/ This plugin minifies all the Javascript code of the final bundle\n        new webpack.optimize.UglifyJsPlugin({\n            mangle:   true,\n            compress: {\n                warnings: false, \/\/ Suppress uglification warnings\n            },\n        }),\n\n        \/\/ This plugins defines various variables that we can set to false\n        \/\/ in production to avoid code related to them from being compiled\n        \/\/ in our final bundle\n        new webpack.DefinePlugin({\n            __SERVER__:      !production,\n            __DEVELOPMENT__: !production,\n            __DEVTOOLS__:    !production,\n            \x27process.env\x27:   {\n                BABEL_ENV: JSON.stringify(process.env.NODE_ENV),\n            },\n        }),\n\n    ]);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (production) {\n    plugins = plugins.concat([\n\n        \/\/ This plugin looks \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e similar chunks and files\n        \/\/ and merges them \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e better caching by the user\n        new webpack.optimize.DedupePlugin(),\n\n        \/\/ This plugins optimizes chunks and modules by\n        \/\/ how much they are used \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e your app\n        new webpack.optimize.OccurenceOrderPlugin(),\n\n        \/\/ This plugin prevents Webpack from creating chunks\n        \/\/ that would be too small to be worth loading separately\n        new webpack.optimize.M\x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3eChunkSizePlugin({\n            minChunkSize: 51200, \/\/ ~50kb\n        }),\n\n        \/\/ This plugin minifies all the Javascript code of the final bundle\n        new webpack.optimize.UglifyJsPlugin({\n            mangle:   \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n            compress: {\n                warnings: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \/\/ Suppress uglification warnings\n            },\n        }),\n\n        \/\/ This plugins defines various variables that we can \x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e to \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        \/\/ \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e production to avoid code related to them from being compiled\n        \/\/ \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e our final bundle\n        new webpack.DefinePlugin({\n            __SERVER__:      !production,\n            __DEVELOPMENT__: !production,\n            __DEVTOOLS__:    !production,\n            \x3cspan class=\x22hljs-string\x22\x3e\x27process.env\x27\x3c\/span\x3e:   {\n                BABEL_ENV: JSON.stringify(process.env.NODE_ENV),\n            },\n        }),\n\n    ]);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这些我最常使用到的插件，webpack还提供了很多其他的插件供你去协调你的模块和数据块。同时在npm上也有自由开发者开发贡献出来的拥有强大功能的插件。具体可以参考文章最后的链接。\x3c\/p\x3e\n\x3cp\x3e现在你希望你生产环境下的资源能按版本发布。还记得我们为bundle.js设置过的output.filename属性吗？这里有几个变量供你使用，一个是[hash], 和最终生成的bundle.js内容的哈希值保持一致。我们也想我们的数据块（chunks)也版本话，我们将设置output.chunkFilename属性来实现同样的功能：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22output: {\n    path:          \x27builds\x27,\n    filename:      production ? \x27[name]-[hash].js\x27 : \x27bundle.js\x27,\n    chunkFilename: \x27[name]-[chunkhash].js\x27,\n    publicPath:    \x27builds\/\x27,\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eoutput: {\n    path:          \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n    filename:      production ? \x3cspan class=\x22hljs-string\x22\x3e\x27[name]-[hash].js\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    chunkFilename: \x3cspan class=\x22hljs-string\x22\x3e\x27[name]-[chunkhash].js\x27\x3c\/span\x3e,\n    publicPath:    \x3cspan class=\x22hljs-string\x22\x3e\x27builds\/\x27\x3c\/span\x3e,\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在我们这个简单的应用中并没有一个方法来动态检索编译后文件的名字啊，我们将只在生产环境中使用版本化的资源。同时我们想在生产环境中清空我们的打包环境，让我们添加一个三方插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install --save-dev clean-webpack-plugin\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm install --save-dev clean-webpack-plugin\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e将这个插件配置到webpack中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var webpack     = require(\x27webpack\x27);\nvar CleanPlugin = require(\x27clean-webpack-plugin\x27);\n\n\/\/ ...\n\nif (production) {\n    plugins = plugins.concat([\n\n        \/\/ Cleanup the builds\/ folder before\n        \/\/ compiling our final assets\n        new CleanPlugin(\x27builds\x27),\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar webpack     = require(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\nvar CleanPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x27clean-webpack-plugin\x27\x3c\/span\x3e);\n\n\/\/ ...\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (production) {\n    plugins = plugins.concat([\n\n        \/\/ Cleanup the builds\/ folder before\n        \/\/ compiling our final assets\n        new CleanPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e),\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e好了，我们已经做了一些优化的方案，让我们来比较下结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ webpack\n                bundle.js   314 kB       0  [emitted]  main\n1-21660ec268fe9de7776c.js  4.46 kB       1  [emitted]\n2-fcc95abf34773e79afda.js  4.15 kB       2  [emitted]\n$ NODE_ENV=production webpack\nmain-937cc23ccbf192c9edd6.js  97.2 kB       0  [emitted]  main\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ webpack\n                bundle.js   314 kB       0  [emitted]  main\n1-21660ec268fe9de7776c.js  4.46 kB       1  [emitted]\n2-fcc95abf34773e79afda.js  4.15 kB       2  [emitted]\n$ NODE_ENV=production webpack\nmain-937cc23ccbf192c9edd6.js  97.2 kB       0  [emitted]  main\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e所以webpack到底做了什么：一开始，由于我们的例子非常的简单轻量级，我们的两个异步数据块不值得使用两个异步请求去获取，所以webpack将它们合并回了入口文件中；其次，所有的文件都被合理地压缩了。我们从原本的3个请求总大小为322kb变成了一个97kb大小的文件。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eBut wasn’t the point of Webpack to stem away for one big ass JS file?\x3cbr\x3e但是webpack不是不提倡合并成一个文件吗？\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e是的，它的确不提倡，当时如果我们的app很小，代码量很少，它是提倡这样做的。但请考虑如下情况，你不需要去考虑什么时候什么地方做什么合并。如果你的数据块突然间依赖了很多模块，那么webpack会让它变成异步加载而不是合并到入口文件中， 同时如果这些模块的依赖有公用的，那么这些模块也会被抽离出来等等。你只需要设立好规则，然后，webpack变回自动提供最好的优化方案。不用手册，不用思考模块依赖的顺序，所有的东西都自动化了。\x3c\/p\x3e\n\x3cp\x3e你可能发现我并没有设置任何东西去压缩我们的HTML和CSS，这是因为CSS-loader和html-loader已经默认完成了这些事情。\x3c\/p\x3e\n\x3cp\x3e因为webpack是本身就是一个JS-loader，因此在webpack中没有js-loader，这也是uglify是一个独立引进来的插件的原因。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e信息抽取\x3c\/h3\x3e\n\x3cp\x3e现在你可能发现，一开始我们顶一个的样式被分开几段插入到页面从而导致了FOUAP（Flash of Ugly Ass Page），如果我们可以把所有的样式都合并到一个文件中不是更好吗？是的，我们可以使用另一个插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install extract-text-webpack-plugin --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install extract-text-webpack-plugin --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个组件做了我刚才说的事情，它收集了你最后的bundle后内容里所有的样式，并将它们合成到一个文件中。\x3c\/p\x3e\n\x3cp\x3e让我们把它引入：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var webpack    = require(\x27webpack\x27);\nvar CleanPlugin = require(\x27clean-webpack-plugin\x27);\nvar ExtractPlugin = require(\x27extract-text-webpack-plugin\x27);\nvar production = process.env.NODE_ENV === \x27production\x27;\n\nvar plugins = [\n    new ExtractPlugin(\x27bundle.css\x27), \/\/ \x3c=== where should content be piped\n    new webpack.optimize.CommonsChunkPlugin({\n        name:      \x27main\x27, \/\/ Move dependencies to our main file\n        children:  true, \/\/ Look for common dependencies in all children,\n        minChunks: 2, \/\/ How many times a dependency must come up before being extracted\n    }),\n];\n\n\/\/ ...\n\nmodule.exports = {\n    \/\/ ...\n    plugins: plugins,\n    module:  {\n        loaders: [\n            {\n                test:   \/\\.scss\/,\n                loader: ExtractPlugin.extract(\x27style\x27, \x27css!sass\x27),\n            },\n            \/\/ ...\n        ],\n    }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar webpack    = require(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\nvar CleanPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x27clean-webpack-plugin\x27\x3c\/span\x3e);\nvar ExtractPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x27extract-text-webpack-plugin\x27\x3c\/span\x3e);\nvar production = process.env.NODE_ENV === \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e;\n\nvar plugins = [\n    new ExtractPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x27bundle.css\x27\x3c\/span\x3e), \/\/ \x26lt;=== \x3cspan class=\x22hljs-built_in\x22\x3ewhere\x3c\/span\x3e should content be piped\n    new webpack.optimize.CommonsChunkPlugin({\n        name:      \x3cspan class=\x22hljs-string\x22\x3e\x27main\x27\x3c\/span\x3e, \/\/ Move dependencies to our main file\n        children:  \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \/\/ Look \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e common dependencies \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e all children,\n        minChunks: 2, \/\/ How many \x3cspan class=\x22hljs-built_in\x22\x3etimes\x3c\/span\x3e a dependency must come up before being extracted\n    }),\n];\n\n\/\/ ...\n\nmodule.exports = {\n    \/\/ ...\n    plugins: plugins,\n    module:  {\n        loaders: [\n            {\n                \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e:   \/\\.scss\/,\n                loader: ExtractPlugin.extract(\x3cspan class=\x22hljs-string\x22\x3e\x27style\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27css!sass\x27\x3c\/span\x3e),\n            },\n            \/\/ ...\n        ],\n    }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3eNow the extract method takes two arguments: first is what to do with the extracted contents when we’re in a chunk (\x27style\x27), second is what to do when we’re in a main file (\x27css!sass\x27). Now if we’re in a chunk, we can’t just magically append our CSS to the generated one so we use the style loader here as before, but for all the styles that are found in the main file, pipe them to a builds\/bundle.css file. Let’s test it out, let’s add a small main stylesheet for our application:\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e（这一段翻译得不好，请看上面的原文）\x3c\/p\x3e\n\x3cp\x3e现在可以看到 \x3cstrong\x3eextract\x3c\/strong\x3e 方法传入了两个参数： 第一个是当我们在\x3cstrong\x3estyle\x3c\/strong\x3e数据块中我们要对引出的内容做什么；第二是当我们在入口文件\x3cstrong\x3ecss!sass\x3c\/strong\x3e中要做的事情。如果我们在一个数据块中，我们不能简单地把我们的CSS添加到我们的css文件中，所以我们在此之前使用\x3cstrong\x3estyle\x3c\/strong\x3e加载器，但对于在入口函数找到的所有样式，我们将它们传递到builds\/bundle.css文件中。让我们为应用添加一个主样式表。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e问题\x3c\/strong\x3e：这里遇到一个问题，每次修改主样式表（styles.scss)后，如果是有监听的话，webpack的自动重编译是会出错的，需要重新保存一次脚本才能让其正确编译成功，不知道是什么问题导致的。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3esrc\/styles.scss\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22body {\n  font-family: sans-serif; \n  background: darken(white, 0.2);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efont-family\x3c\/span\x3e: sans-serif; \n  \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3edarken\x3c\/span\x3e(white, 0.2);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3esrc\/index.js\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import \x27.\/styles.scss\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x27.\/styles.scss\x27;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你想导出所有的样式，你也可以向ExtractTextPlugin传参（’bundle.css\x27, {allChunks: true})。如果你想在你的文件名中使用变量，你也可以传入 [name]-[hash].css。\x3c\/p\x3e\n\x3cp\x3e图片处理\x3c\/p\x3e\n\x3cp\x3e脚本处理已经基本可以，但是我们还没有处理如图片、字体等资源。在webpack中要怎么处理这些资源并得到最好的优化？接下来让我们下载一张图片并让它作为我们的背景，因为我觉得它很酷：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008753573\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008753573\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e将这张图片保存在\x3cstrong\x3eimg\/puppy.png\x26amp;\x3c\/strong\x3e 并更新我们的sass文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22body {\n    font-family: sans-serif;\n    background-color: #333;\n    background-image: url(\x27..\/img\/puppy.jpg\x27);\n    background-size: cover;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3efont-family\x3c\/span\x3e: sans-serif;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#333\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-image\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/img\/puppy.jpg\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground-size\x3c\/span\x3e: cover;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你这样做的话，webpack会和你说：“我tmd要我怎么处理jpg这东西？”，因为我们没有一个Loader用来处理它。有两个自带的加载器可以用来处理这些资源，一个是file-loader，另一个是url-loader，第一个不会做什么改变，只会返回一个url，并可以版本化设置，第二个可以将资源转化为base64的url\x3c\/p\x3e\n\x3cp\x3e这两个加载器各有优缺点：如果你的背景图片是2mb大的图片，你不会想将它作为base64引入到样式表中而更加倾向于单独去加载它。如果它只是一个2kb的图片，那么则引入它从而减少http请求次数会更好：\x3c\/p\x3e\n\x3cp\x3e所以我们把这两个加载器都安装上：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install --save-dev url-loader file-loader\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs fortran\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install --\x3cspan class=\x22hljs-keyword\x22\x3esave\x3c\/span\x3e-dev url-loader \x3cspan class=\x22hljs-keyword\x22\x3efile\x3c\/span\x3e-loader\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    test: \/\\.(png|gif|jpe?g|svg)$\/i,\n    loader: \x27url?limit=10000\x27,\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.(png|gif|jpe?g|svg)$\/i,\n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27url?limit=10000\x27\x3c\/span\x3e,\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们在这里向url-loader传递了限制类的参数，告诉它：如果资源文件小于10kb则引入，否则，使用file-loader去处理它。语法使用的是查询字符串，你也可以使用对象去配置加载器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    test: \/\\.(png|gif|jpe?g|svg)$\/i,\n    \/\/ loader: \x27url?limit=10000\x27,\n    loader: \x27url\x27,\n    query: {\n        limit: 10000,\n    }\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.(png|gif|jpe?g|svg)$\/i,\n    \/\/ loader: \x3cspan class=\x22hljs-string\x22\x3e\x27url?limit=10000\x27\x3c\/span\x3e,\n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27url\x27\x3c\/span\x3e,\n    query: {\n        \x3cspan class=\x22hljs-built_in\x22\x3elimit\x3c\/span\x3e: 10000,\n    }\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e好了，让我们来试试看\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22                bundle.js   15 kB       0  [emitted]  main\n1-b8256867498f4be01fd7.js  317 kB       1  [emitted]\n2-e1bc215a6b91d55a09aa.js  317 kB       2  [emitted]\n               bundle.css  2.9 kB       0  [emitted]  main\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e                bundle.js   15 kB       0  [emitted]  main\n1-b8256867498f4be01fd7.js  317 kB       1  [emitted]\n2\x3cspan class=\x22hljs-_\x22\x3e-e\x3c\/span\x3e1bc215a6b91d55a09aa.js  317 kB       2  [emitted]\n               bundle.css  2.9 kB       0  [emitted]  main\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们可以看到并没有提到jpg文件，因为我们的puppy图片太小了，它被直接引入到bundle.css文件中了。\x3c\/p\x3e\n\x3cp\x3ewebpack会智能地根据大小或者http请求来优化资源文件。还有很多加载器可以更好地处理，最常用的一个是\x3ca href=\x22https:\/\/github.com\/tcoopman\/image-webpack-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eimage-loader\x3c\/a\x3e，可以在合并的时候对图片进行压缩，甚至可以设置?bypassOnDebug让你只在生产环境中使用。像这样的插件还有很多，我鼓励你在文章的末尾去看看这些插件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e实时监听编译\x3c\/h3\x3e\n\x3cp\x3e我们的生产环境已经搭建好了，接下来就是实时重载：LiveReload、BrowserSync，这可能是你想要的。但是刷新整个页面很消耗性能，让我们使用更吊的装备\x3cstrong\x3ehot module replacement\x3c\/strong\x3e或者叫做\x3cstrong\x3ehot reload\x3c\/strong\x3e。由于webpack知道我们依赖树的每一个模块的位置，修改的时候就可以很简单地替换树上的某一块文件。更清晰地说，当你修改文件的时候，浏览器不用刷新整个页面就可以看到实时变化。\x3c\/p\x3e\n\x3cp\x3e要使用HMR，我们需要一个支持hot assets的服务器。Webpack有一个dev-server供我们使用，安装下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install webpack-dev-server --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install webpack-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e-server --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后运行该服务器：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ webpack-dev-server --inline --hot\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs brainfuck\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e$\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3ewebpack\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edev\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eserver\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3einline\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ehot\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第一个参数告诉webpack将HMR逻辑引入到页面中（而不使用一个iframe去包含页面），第二个参数是启动HMR（hot module reload）。现在让我们访问web-server的地址：\x3ca href=\x22http:\/\/localhost:8080\/webpack-dev-server\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost:8080\/webpack-dev-server\/\x3c\/a\x3e 。尝试改变文件，会看到浏览器上实时的变化\x3c\/p\x3e\n\x3cp\x3e你可以使用这个插件作为你的本地服务器。如果你计划一直使用它来做HMR，你可以将其配置到webpack中。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22output: {\n    path:          \x27builds\x27,\n    filename:      production ? \x27[name]-[hash].js\x27 : \x27bundle.js\x27,\n    chunkFilename: \x27[name]-[chunkhash].js\x27,\n    publicPath:    \x27builds\/\x27,\n},\ndevServer: {\n    hot: true,\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eoutput: {\n    path:          \x3cspan class=\x22hljs-string\x22\x3e\x27builds\x27\x3c\/span\x3e,\n    filename:      production ? \x3cspan class=\x22hljs-string\x22\x3e\x27[name]-[hash].js\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    chunkFilename: \x3cspan class=\x22hljs-string\x22\x3e\x27[name]-[chunkhash].js\x27\x3c\/span\x3e,\n    publicPath:    \x3cspan class=\x22hljs-string\x22\x3e\x27builds\/\x27\x3c\/span\x3e,\n},\ndevServer: {\n    hot: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置后，无论我们什么时候运行ewbpack-dev-server，它都会在HMR模式。当然，还有很多配置供你配置，例如提供一个中间件供你在express服务器中使用HMR模式。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e规范的代码\x3c\/h3\x3e\n\x3cp\x3e如果你一直跟着本文实践，你肯定发现了奇怪的地方：为什么Loaders被放在了Module.loaders中，而plugins却没有？这当然是因为还有其他东西你可以放在module中！Webpack不仅有loaders，它也有pre-loaders和post-loaders：它们会在主加载器加载前\/加载后执行。来个例子，很明显我的代码非常糟糕，所以在转化前我们使用eslint来检测我们的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install eslint eslint-loader babel-eslint --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm \x3cspan class=\x22hljs-keyword\x22\x3einstall \x3c\/span\x3eeslint eslint-loader \x3cspan class=\x22hljs-keyword\x22\x3ebabel-eslint \x3c\/span\x3e--save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e创建一个小型的eslintrc文件：\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e.eslintrc\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22parser: \x27babel-eslint\x27\nrules: \n  quotes: 2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3eparser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27babel-eslint\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3erules\x3c\/span\x3e: \n  \x3cspan class=\x22hljs-attribute\x22\x3equotes\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们添加我们的preloader，我们使用和之前一样的语法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22        preLoaders: [\n            {\n                test: \/\\.js\/,\n                loader: \x27eslint\x27,\n            }\n        ],\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e        preLoaders: [\n            {\n                \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.js\/,\n                loader: \x3cspan class=\x22hljs-string\x22\x3e\x27eslint\x27\x3c\/span\x3e,\n            }\n        ],\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后运行webpack，当然，它会报错：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ webpack\nHash: 33cc307122f0a9608812\nVersion: webpack 1.12.2\nTime: 1307ms\n                    Asset      Size  Chunks             Chunk Names\n                bundle.js    305 kB       0  [emitted]  main\n1-551ae2634fda70fd8502.js    4.5 kB       1  [emitted]\n2-999713ac2cd9c7cf079b.js   4.17 kB       2  [emitted]\n               bundle.css  59 bytes       0  [emitted]  main\n    \x2b 15 hidden modules\n\nERROR in .\/src\/index.js\n\n\/Users\/anahkiasen\/Sites\/webpack\/src\/index.js\n   1:8   error  Strings must use doublequote  quotes\n   4:31  error  Strings must use doublequote  quotes\n   6:32  error  Strings must use doublequote  quotes\n   7:35  error  Strings must use doublequote  quotes\n   9:23  error  Strings must use doublequote  quotes\n  14:31  error  Strings must use doublequote  quotes\n  16:32  error  Strings must use doublequote  quotes\n  18:29  error  Strings must use doublequote  quotes\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ webpack\nHash: 33cc307122f0a9608812\nVersion: webpack 1.12.2\nTime: 1307ms\n                    Asset      Size  Chunks             Chunk Names\n                bundle.js    305 kB       0  [emitted]  main\n1-551ae2634fda70fd8502.js    4.5 kB       1  [emitted]\n2-999713ac2\x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e9c7cf079b.js   4.17 kB       2  [emitted]\n               bundle.css  59 bytes       0  [emitted]  main\n    \x2b 15 hidden modules\n\nERROR \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e .\/src\/index.js\n\n\/Users\/anahkiasen\/Sites\/webpack\/src\/index.js\n   1:8   error  Strings must use doublequote  quotes\n   4:31  error  Strings must use doublequote  quotes\n   6:32  error  Strings must use doublequote  quotes\n   7:35  error  Strings must use doublequote  quotes\n   9:23  error  Strings must use doublequote  quotes\n  14:31  error  Strings must use doublequote  quotes\n  16:32  error  Strings must use doublequote  quotes\n  18:29  error  Strings must use doublequote  quotes\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在举另一个例子，现在我们的组件都会引入同样名字的样式表以及模板。让我们使用一个预加载器来自动加载：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install baggage-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm \x3cspan class=\x22hljs-keyword\x22\x3einstall \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebaggage-loader \x3c\/span\x3e--save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n    test: \/\\.js\/,\n    loader: \x27baggage?[file].html=template\x26amp;[file].scss\x27,\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e: \/\\.js\/,\n    loader: \x3cspan class=\x22hljs-string\x22\x3e\x27baggage?[file].html=template\x26amp;[file].scss\x27\x3c\/span\x3e,\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这告诉webpack，如果你定义了一个同样名字的html文件，会把它以template的名字引入，同样的也会引入同名的sass文件。现在我们可以修改我们的组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import $ from \x27jquery\x27\nimport Mustache from \x27mustache\x27\n\/\/ import template from \x27.\/Header.html\x27\n\/\/ import \x27.\/Header.scss\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3eimport $ from \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e\nimport Mustache from \x3cspan class=\x22hljs-string\x22\x3e\x27mustache\x27\x3c\/span\x3e\n\/\/ import template from \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Header.html\x27\x3c\/span\x3e\n\/\/ import \x3cspan class=\x22hljs-string\x22\x3e\x27.\/Header.scss\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3epre-loader的功能强大，post-loader也一样，你也可以从文章末尾看到很多有用的加载器并使用它们。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e你还想了解更多吗？\x3c\/h3\x3e\n\x3cp\x3e现在我们的应用还很小，但随着应用的增大，了解正式的依赖树情况是很有用的。可以帮助我们了解我们做的是否正确，我们的应用的瓶颈在哪里。webpack知道所有这些事情，但我们需要告诉他显示给我们看，我们可以到处一个profile文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22webpack --profile --json \x3e stats.json\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ewebpack --profile --json \x26gt; stats.json\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第一个参数告诉webpack生成一个profile 文件，第一个指定生成的格式。有多个站点提供分析并可视化这些文件的功能，webpack官方也提供解析这些信息的功能。所以你可以到\x3ca href=\x22http:\/\/webpack.github.io\/analyse\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack analysis\x3c\/a\x3e引入你的文件。选择modules 标签然后便可以看到你的可视化依赖树。另一个我比较喜欢的是\x3ca href=\x22http:\/\/chrisbateman.github.io\/webpack-visualizer\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack visualizer\x3c\/a\x3e\x3cbr\x3e用圆环图的形式表示你的包大小占据情况。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3eThat\x27s all folks\x3c\/h3\x3e\n\x3cp\x3e我知道在我的案例中，Webpack已经完全取代了Grunt或者gulp了，大部分功能已经由webpack来渠道，剩下的值通过npm script。过去使用Aglio转化我们的API文档为html我们使用的是任务型，现在可以这样做：\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3epackage.json\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;scripts\x26quot;: {\n    \x26quot;build\x26quot;: \x26quot;webpack\x26quot;,\n    \x26quot;build:api\x26quot;: \x26quot;aglio -i docs\/api\/index.apib -o docs\/api\/index.html\x26quot;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22webpack\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22build:api\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22aglio -i docs\/api\/index.apib -o docs\/api\/index.html\x22\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e无论你在gulp中有多么复杂不关乎打包的任务，Webpack都可以很好地配合。提供一个在Gulp中集成webpack的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var gulp = require(\x27gulp\x27);\nvar gutil = require(\x27gutil\x27);\nvar webpack = require(\x27webpack\x27);\nvar config = require(\x27.\/webpack.config\x27);\n\ngulp.task(\x27default\x27, function(callback) {\n  webpack(config, function(error, stats) {\n    if (error) throw new gutil.PluginError(\x27webpack\x27, error);\n    gutil.log(\x27[webpack]\x27, stats.toString());\n\n    callback();\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar gulp = require(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e);\nvar gutil = require(\x3cspan class=\x22hljs-string\x22\x3e\x27gutil\x27\x3c\/span\x3e);\nvar webpack = require(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\nvar config = require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/webpack.config\x27\x3c\/span\x3e);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(callback) {\n  webpack(config, \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(error, stats) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (error) throw new gutil.PluginError(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e, error);\n    gutil.log(\x3cspan class=\x22hljs-string\x22\x3e\x27[webpack]\x27\x3c\/span\x3e, stats.toString());\n\n    callback();\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ewebpack也有Node API，所以在其他构建系统中可以很容易地被使用和包容。\x3c\/p\x3e\n\x3cp\x3e以上我只讲述了webpack的冰山一角，也许你认为我们已经通过这篇文章了解了很多，但是我们只讲述了写皮毛： multiple entry points、prefetching、context replacement等等。Webpack是一个强大的工具，当然代价是更多的配置需要你去写。不过一旦你知道如何驯服它，它会给你最好的优化方案。我在几个项目中使用了它，它也提供了强大的优化方案和自动化，让我无法不用它。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e资源\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/webpack.github.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebpack documentation\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/webpack.github.io\/docs\/list-of-loaders.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eList of loaders\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/webpack.github.io\/docs\/list-of-plugins.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eList of plugins\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/madewithlove\/webpack-article\/commits\/master\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSources for this article\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/madewithlove\/webpack-config\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOur Webpack configuration package\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e译者拓展链接：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/npm.taobao.org\/package\/style-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estyle-loader文档\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e备注\x3c\/h2\x3e\n\x3cp\x3e开发过程遇到的问题可以查看原文下的评论或和译者交流学习。\x3c\/p\x3e\n\x3cp\x3e译者英文水平有限，如果哪里翻译的不好欢迎指正，相关的代码可参考译者的\x3ca href=\x22https:\/\/github.com\/chenjsh36\/webpackdemos\/tree\/master\/demo2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo2\x3c\/a\x3e和\x3ca href=\x22https:\/\/github.com\/chenjsh36\/webpackdemos\/tree\/master\/demo6\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo6\x3c\/a\x3e，\x3ca href=\x22https:\/\/github.com\/chenjsh36\/webpackdemos\/tree\/master\/demo4\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo4\x3c\/a\x3e是使用Webpack \x2b Vue写的DEMO，有兴趣的同学也可以看看。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[译] Webpack 前端构建集成方案</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005659878">https://segmentfault.com/a/1190000005659878</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gm74pqyyg3h/" target="_blank">https://alili.tech/archive/gm74pqyyg3h/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>