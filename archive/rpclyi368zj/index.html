<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何在 React 中做到 jQuery-free"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何在 React 中做到 jQuery-free | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/rpclyi368zj/",
				"appid": "1613049289050283", 
				"title": "如何在 React 中做到 jQuery-free | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ey3jcbxf316/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/mevh58hh59/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frpclyi368zj%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20React%20%e4%b8%ad%e5%81%9a%e5%88%b0%20jQuery-free"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何在 React 中做到 jQuery-free</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e前些天在订阅的公众号中看到了以前阮一峰老师写过的一篇文章，\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2013\/05\/jquery-free.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e「如何做到 jQuery-free？」\x3c\/a\x3e。这篇文章讨论的问题，在今天来看仍不过时，其中的一些点的讨论主要是面向新内核现代浏览器的标准 DOM API，很可惜的是在目前的开发环境下，我们仍然无法完全抛弃 IE，大部分情况下我们至少还要兼容到 IE 8，这一点使我们无法充分践行文章中提到的一些点，而本文也正是首次启发，顺着阮老师文章的思路来讨论如何在 React 中实战 IE8-compatible 的 jQuery-free。\x3c\/p\x3e\n\x3cp\x3e首先我们仍要说的是，jQuery 是现在最流行的 JavaScript 工具库。在 W3techs 的\x3ca href=\x22https:\/\/w3techs.com\/technologies\/overview\/javascript_library\/all\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e统计\x3c\/a\x3e中，目前全世界 70.6% 的网站在使用他，而 React 甚至还不到 0.1%，但 React 一个值得注意的趋势是，他在目前顶级流量网站中的使用率是最高的，比例达到了 \x3ca href=\x22https:\/\/w3techs.com\/technologies\/topsite\/javascript_library\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e16%\x3c\/a\x3e。这一趋势也表明了目前整个前端界的技术趋势，但 70.6% 的数字也在告诉我们，jQuery 在 JS 库中的王者地位，即使使用了React，也可能因为各种各样的原因，还要和 jQuery 来配合使用。但 React 本身的体积已经让我们对任何一个重库产生了不适反应，为了兼容 IE8，我们仍然需要使用 1.x 的 jQuery 版本，但当时设计上的缺陷使得我们无法像 lodash 那样按需获取。而 React 和 jsx 的强大，又使得我们不需要了 jQuery 的大部分功能。从这个角度来看，他臃肿的体积让开发者更加难以忍受，jQuery-free 势在必行。\x3c\/p\x3e\n\x3cp\x3e下面就顺着阮老师当年的思路，来讨论如何使用 React 自带的强大功能，和一些良心第三方库屏蔽兼容性，来取代 jQuery 的主要功能，做到 jQuery-free。\x3c\/p\x3e\n\x3cp\x3e（注：React 15.x 版本已经不再兼容 IE8，因此本文讨论的 React 仍是 0.14.x 的版本，同时为了易于理解，本文也基本上以 ES6 class 的方式来声明组件，而不采用 pure function。）\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e一、选取 DOM 元素\x3c\/h2\x3e\n\x3cp\x3e在 jQuery 中，我们已经熟悉了使用 sizzle 选择器来完成 DOM 元素的选取。而在 React 中，我们可以使用 \x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/more-about-refs.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eref\x3c\/a\x3e 来更有针对性的获取元素。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Compoent {\n\n    getDomNode() {\n        return this.refs.root; \/\/ 获取 Dom Node\n    }\n    render() {\n        return (\n            \x3cdiv ref=\x26quot;root\x26quot;\x3ejust a demo\x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n\n    getDomNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs.root; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取 Dom Node\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22root\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ejust a demo\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是最简单的获取 node 的方式，如果有多层结构嵌套呢？没有关系。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Compoent {\n\n    getRootNode() {\n        return this.refs.root; \/\/ 获取根节点 Dom Node\n    }\n    getLeafNode() {\n        return this.refs.leaf; \/\/ 获取叶节点 Dom Node\n    }\n    render() {\n        return (\n            \x3cdiv ref=\x26quot;root\x26quot;\x3e\n                \x3cdiv ref=\x26quot;leaf\x26quot;\x3ejust a demo\x3c\/div\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n\n    getRootNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs.root; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取根节点 Dom Node\x3c\/span\x3e\n    }\n    getLeafNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs.leaf; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取叶节点 Dom Node\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22root\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22leaf\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3ejust a demo\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果是组件和组件嵌套呢？也没关系，父组件仍然可以拿到子组件的根节点。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport ReactDOM from \x27react-dom\x27;\nclass Sub extends React.Compoent {\n    render() {\n        return (\n            \x3cdiv\x3ea sub component\x3c\/div\x3e\n        );\n    }\n}\nclass Demo extends React.Compoent {\n\n    getDomNode() {\n        return this.refs.root; \/\/ 获取 Dom Node\n    }\n    \n    getSubNode() {\n        return ReactDOM.findDOMNode(this.refs.sub); \/\/ 获取子组件根节点\n    }\n    render() {\n        return (\n            \x3cdiv ref=\x26quot;root\x26quot;\x3e\n                \x3cSub ref=\x26quot;sub\x26quot; \/\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ReactDOM \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSub\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ea sub component\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n\n    getDomNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs.root; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取 Dom Node\x3c\/span\x3e\n    }\n    \n    getSubNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ReactDOM.findDOMNode(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs.sub); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取子组件根节点\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22root\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eSub\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22sub\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        );\n    }\n}\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面使用了比较易懂的 API 来解释 Ref 的用法，但里面包含了一些现在 React 不太推荐和即将废弃的方法，如果用 React 推荐的写法，我们可以这样写。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport ReactDOM from \x27react-dom\x27;\nclass Sub extends React.Compoent {\n    getDomNode() {\n        return this.rootNode;\n    }\n    render() {\n        return (\n            \x3cdiv ref={(c) =\x3e this.rootNode = c}\x3ea sub component\x3c\/div\x3e\n        );\n    }\n}\nclass Demo extends React.Compoent {\n\n    getDomNode() {\n        return this.rootNode; \/\/ 获取 Dom Node\n    }\n    \n    getSubNode() {\n        return this.sub.getDomNode(); \/\/ 获取子组件根节点\n    }\n    render() {\n        return (\n            \x3cdiv ref={(c) =\x3e this.rootNode = c}\x3e\n                \x3cSub ref={(c) =\x3e this.sub = c} \/\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ReactDOM \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eSub\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n    getDomNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.rootNode;\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(c)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e this.rootNode = c}\x26gt;a sub component\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n\n    getDomNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.rootNode; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取 Dom Node\x3c\/span\x3e\n    }\n    \n    getSubNode() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.sub.getDomNode(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取子组件根节点\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(c)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e this.rootNode = c}\x26gt;\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eSub\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(c)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e this.sub = c} \/\x26gt;\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        );\n    }\n}\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有人可能会问，那子组件怎么拿父组件的 Dom Node 呢，从 React 的单向数据流角度出发，遇到这种情况我们应该通过回调通知给父组件，再由父组件自行判断如何修改 Node，其实父组件拿子组件的 Node 情况也很少，大多数情况下我们是通过 props 传递变化给子组件，获取子组件 Node，更多的情况下是为了避开大量重新渲染去修改一些Node的属性（比如 scrollLeft）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e二、DOM 操作\x3c\/h2\x3e\n\x3cp\x3ejQuery 中提供了丰富的操作方法，但一个个操作 DOM 元素有的时候真的很烦人并且容易出错。React 通过数据驱动的思想，通过改变 view 对应的数据，轻松实现 DOM 的增删操作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class Demo extends React.Compoent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: [1, 2, 3],\n        }；\n        this.addItemFromBottom = this.addItemFromBottom.bind(this);\n        this.addItemFromTop = this.addItemFromTop.bind(this);\n        this.deleteItem = this.deleteItem.bind(this);\n    }\n    \n    addItemFromBottom() {\n        this.setState({\n            list: this.state.list.concat([4]),\n        });\n    }\n    \n    addItemFromTop() {\n        this.setState({\n            list: [0].concat(this.state.list),\n        });\n    }\n    \n    deleteItem() {\n        const newList = [...this.state.list];\n        newList.pop();\n        this.setState({\n            list: newList,\n        });\n    }\n    \n    render() {\n        return (\n            \x3cdiv\x3e\n                {this.state.list.map((item) =\x3e \x3cdiv\x3e{item}\x3c\/div\x3e)}\n                \x3cbutton onClick={this.addItemFromBottom}\x3e尾部插入 Dom 元素\x3c\/button\x3e\n                \x3cbutton onClick={this.addItemFromTop}\x3e头部插入 Dom 元素\x3c\/button\x3e\n                \x3cbutton onClick={this.deleteItem}\x3e删除 Dom 元素\x3c\/button\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eCompoent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e],\n        }；\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addItemFromBottom = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addItemFromBottom.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addItemFromTop = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.addItemFromTop.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.deleteItem = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.deleteItem.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n    \n    addItemFromBottom() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.list.concat([\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e]),\n        });\n    }\n    \n    addItemFromTop() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].concat(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.list),\n        });\n    }\n    \n    deleteItem() {\n        \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e newList = [...this.state.list];\n        newList.pop();\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3elist\x3c\/span\x3e: newList,\n        });\n    }\n    \n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                {this.state.list.map((item) =\x26gt; \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e{item}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e)}\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.addItemFromBottom}\x3c\/span\x3e\x26gt;\x3c\/span\x3e尾部插入 Dom 元素\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.addItemFromTop}\x3c\/span\x3e\x26gt;\x3c\/span\x3e头部插入 Dom 元素\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.deleteItem}\x3c\/span\x3e\x26gt;\x3c\/span\x3e删除 Dom 元素\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e三、事件的监听\x3c\/h2\x3e\n\x3cp\x3eReact 通过根节点代理的方式，实现了一套很优雅的事件监听方案，在组件 unmount 时也不需要自己去处理内存回收相关的问题，非常的方便。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick() {\n        alert(\x27我是弹窗\x27)；\n    }\n    render() {\n        return (\n            \x3cdiv onClick={this.handleClick}\x3e点击我弹出弹框\x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n    handleClick() {\n        alert(\x3cspan class=\x22hljs-string\x22\x3e\x27我是弹窗\x27\x3c\/span\x3e)；\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.handleClick}\x3c\/span\x3e\x26gt;\x3c\/span\x3e点击我弹出弹框\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里有一个小细节就是 bind 的时机，bind 是为了保持相应函数的上下文，虽然也可以在 onClick 那里 bind，但这里选择在 constructor 里 bind 是因为前者会在每次 render 的时候都进行一次 bind，返回一个新函数，是比较消耗性能的做法。\x3c\/p\x3e\n\x3cp\x3e但 React 的事件监听，毕竟只能监听至 root component，而我们在很多时候要去监听 window\/document 上的事件，如果 resize、scroll，还有一些 React 处理不好的事件，比如 scroll，这些都需要我们自己来解决。事件监听为了屏蔽差异性需要做很多的工作，这里像大家推荐一个第三方库来完成这部分的工作，\x3ca href=\x22https:\/\/www.npmjs.com\/package\/add-dom-event-listener\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eadd-dom-event-listener\x3c\/a\x3e，用法和原生的稍有区别，是因为这个库并不旨在做 polyfill，但用法还是很简单。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var addEventListener = require(\x27add-dom-event-listener\x27);\nvar handler = addEventListener(document.body, \x27click\x27, function(e){\n  console.log(e.target); \/\/ works for ie\n  console.log(e.nativeEvent); \/\/ native dom event\n});\nhandler.remove(); \/\/ detach event listener\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e addEventListener = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27add-dom-event-listener\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e handler = addEventListener(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body, \x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.target); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ works for ie\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.nativeEvent); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ native dom event\x3c\/span\x3e\n});\nhandler.remove(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ detach event listener\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另一个选择是 \x3ca href=\x22https:\/\/github.com\/fat\/bean\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebean\x3c\/a\x3e，达到了 IE6\x2b 级别的兼容性。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e四、事件的触发\x3c\/h2\x3e\n\x3cp\x3e和事件监听一样，无论是 Dom 事件还是自定义事件，都有很优秀的第三方库帮我们去处理，如果是 DOM 事件，推荐 \x3ca href=\x22https:\/\/github.com\/fat\/bean\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebean\x3c\/a\x3e，如果是自定义事件的话，推荐 \x3ca href=\x22https:\/\/github.com\/mroderick\/PubSubJS\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePubSubJS\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e五、document.ready\x3c\/h2\x3e\n\x3cp\x3eReact 作为一个 view 层框架，通常情况下页面只有一个用于渲染 React 页面组件的根节点 div，因此 document.ready，只需把脚本放在这个 div 后面执行即可。而对于渲染完成后的回调，我们可以使用 React 提供的 componentDidMount 生命周期。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    \n    componentDidMount() {\n        doSomethingAfterRender(); \/\/ 在组件渲染完成后执行一些操作，如远程获取数据，检测 DOM 变化等。\n    }\n    render() {\n        return (\n            \x3cdiv\x3ejust a demo\x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    }\n    \n    componentDidMount() {\n        doSomethingAfterRender(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 在组件渲染完成后执行一些操作，如远程获取数据，检测 DOM 变化等。\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ejust a demo\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e六、attr 方法\x3c\/h2\x3e\n\x3cp\x3ejQuery 使用 attr 方法，获取 Dom 元素的属性。在 React 中也可以配合 Ref 直接读取 DOM 元素的属性。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    \n    componentDidMount() {\n        this.rootNode.scrollLeft = 10; \/\/ 渲染后将外层的滚动调至 10px\n    }\n    render() {\n        return (\n            \x3cdiv \n                ref={(c) =\x3e this.rootNode = c} \n                style=\x22{{\x22 width: \x27100px\x27, overflow: \x27auto\x27 \x22}}\x22\n            \x3e \n                \x3cdiv style=\x22{{\x22 width: \x271000px\x27 \x22}}\x22\x3ejust a demo\x3c\/div\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    }\n    \n    componentDidMount() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.rootNode.scrollLeft = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 渲染后将外层的滚动调至 10px\x3c\/span\x3e\n    }\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \n                \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(c)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e this.rootNode = c} \n                style=\x22{{\x22 width: \x27100px\x27, overflow: \x27auto\x27 \x22}}\x22\n            \x26gt; \n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth:\x3c\/span\x3e \x27\x3cspan class=\x22hljs-attr\x22\x3e1000px\x3c\/span\x3e\x27 \x22}}\x22\x26gt;\x3c\/span\x3ejust a demo\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是，在大部分的情况下，我们完全不需要做，因为 React 的单向数据流和数据驱动渲染，我们可以不通过 DOM，轻松拿到和修改大部分我们需要的 DOM 属性。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            link: \x27\/\/www.taobao.com\x27,\n        };\n        this.getLink = this.getLink.bind(this);\n        this.editLink = this.editLink.bind(this);\n    }\n    \n    getLink() {\n        alert(this.state.link);\n    }\n    \n    editLink() {\n        this.setState({\n            link: \x27\/\/www.tmall.com\x27,\n        });\n    }\n    \n    render() {\n        return (\n            \x3cdiv\x3e\n                \x3ca href={this.state.link}\x3e跳转链接\x3c\/a\x3e\n                \x3cbutton onClick={this.getLink}\x3e获取链接\x3c\/button\x3e\n                \x3cbutton onClick={this.editLink}\x3e修改链接\x3c\/button\x3e\n            \x3c\/div\x3e\n        );\n    }\n    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3elink\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\/www.taobao.com\x27\x3c\/span\x3e,\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getLink = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.getLink.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.editLink = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.editLink.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n    \n    getLink() {\n        alert(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.link);\n    }\n    \n    editLink() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3elink\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/\/www.tmall.com\x27\x3c\/span\x3e,\n        });\n    }\n    \n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.state.link}\x3c\/span\x3e\x26gt;\x3c\/span\x3e跳转链接\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.getLink}\x3c\/span\x3e\x26gt;\x3c\/span\x3e获取链接\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.editLink}\x3c\/span\x3e\x26gt;\x3c\/span\x3e修改链接\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e七、addClass\/removeClass\/toggleClass\x3c\/h2\x3e\n\x3cp\x3e在 jQuery 的时代，我们通常靠获取 Dom 元素后，再 \x3ccode\x3eaddClass\/removeClass\x3c\/code\x3e 来改变外观。在 React 中通过数据驱动和第三库 \x3ccode\x3eclassnames\x3c\/code\x3e 修改样式从未如此轻松。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.fn-show {\n    display: block;\n}\n.fn-hide {\n    display: none;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.fn-show\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.fn-hide\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: none;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport classnames from \x27classnames\x27;\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: true,\n        };\n        this.changeShow = this.changeShow.bind(this);\n    }\n    \n    changeShow() {\n        this.setState({\n            show: !this.state.show, \n        });\n    }\n    \n    render() {\n        return (\n            \x3cdiv\x3e\n                \x3ca \n                    href=\x26quot;\/\/www.taobao.com\x26quot; \n                    className={classnames({\n                        \x27fn-show\x27: this.state.show,\n                        \x27fn-hide\x27: !this.state.show,\n                    })}\n                \x3e\n                    跳转链接\n                \x3c\/a\x3e\n                \x3cbutton onClick={this.changeShow}\x3e改变现实状态\x3c\/button\x3e\n            \x3c\/div\x3e\n        );\n    }\n    \n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e classnames \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27classnames\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3eshow\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.changeShow = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.changeShow.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n    \n    changeShow() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3eshow\x3c\/span\x3e: !\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.show, \n        });\n    }\n    \n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \n                    \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\/www.taobao.com\x22\x3c\/span\x3e \n                    \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{classnames({\x3c\/span\x3e\n                        \x27\x3cspan class=\x22hljs-attr\x22\x3efn-show\x3c\/span\x3e\x27\x3cspan class=\x22hljs-attr\x22\x3e:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ethis.state.show\x3c\/span\x3e,\n                        \x27\x3cspan class=\x22hljs-attr\x22\x3efn-hide\x3c\/span\x3e\x27\x3cspan class=\x22hljs-attr\x22\x3e:\x3c\/span\x3e !\x3cspan class=\x22hljs-attr\x22\x3ethis.state.show\x3c\/span\x3e,\n                    })}\n                \x26gt;\x3c\/span\x3e\n                    跳转链接\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.changeShow}\x3c\/span\x3e\x26gt;\x3c\/span\x3e改变现实状态\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n    \n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e八、css\x3c\/h3\x3e\n\x3cp\x3ejQuery 的 css 方法用于设置 DOM 元素的 style 属性，在 React 中，我们可以直接设置 DOM 的 style 属性，如果想改变，和上面的 class 一样，用数据去驱动。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nclass Demo extends React.Component {\n    constructor() {\n        super(props);\n        this.state = {\n            backgorund: \x27white\x27,\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n    \n    handleClick() {\n        this.setState({\n            background: \x27black\x27,\n        });\n    }\n    \n    render() {\n        return (\n            \x3cdiv \n                style=\x22{{\x22\n                    background: this.state.background,\n                \x22}}\x22\n            \x3e\n                just a demo\n                \x3cbutton\x3echange Background Color\x3c\/button\x3e\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDemo\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3ebackgorund\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27white\x27\x3c\/span\x3e,\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e);\n    }\n    \n    handleClick() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27black\x27\x3c\/span\x3e,\n        });\n    }\n    \n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \n                \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-attr\x22\x3ebackground:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ethis.state.background\x3c\/span\x3e,\n                \x22}}\x22\n            \x26gt;\x3c\/span\x3e\n                just a demo\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3echange Background Color\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e九、数据存储\x3c\/h2\x3e\n\x3cp\x3e比起 jQuery，React 反而是更擅长管理数据，我们没有必要像 jQuery 时那样将数据放进 Dom 元素的属性里，而是利用 state 或者 内部变量(this.xxx) 来保存，在整个生命周期，我们都可以拿到这些数据进行比较和修改。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e十、Ajax\x3c\/h2\x3e\n\x3cp\x3eAjax 确实是在处理兼容性问题上一块令人比较头疼的地方，要兼容各种形式的 Xhr 不说，还有 jsonp 这个不属于 ajax 的功能也要同时考虑，好在已经有了很好的第三方库帮我们解决了这个问题，这里向大家推荐 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/natty-fetch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enatty-fetch\x3c\/a\x3e，一个兼容 IE8 的fetch 库，在 API 设计上向 fetch 标准靠近，而又保留了和 jQuery 类似的接口，熟悉 $.ajax 应该可以很快的上手。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e十一、动画\x3c\/h2\x3e\n\x3cp\x3eReact 在动画方面提供了一个插件 \x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/animation.html#high-level-api-reactcsstransitiongroup\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReactCSSTransitionGroup\x3c\/a\x3e，和它的低级版本 \x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/animation.html#low-level-api-reacttransitiongroup\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReactTransitionGroup\x3c\/a\x3e，注意这里的低级并不是退化版本，而是更加基础的暴露更多 API 的版本。\x3cbr\x3e这个插件的灵感来自于 Angular 的 ng-animate，在设计思路上也基本保持一致。通过指定 Transition 的类名，比如 \x3ccode\x3eexample\x3c\/code\x3e ，在元素进场和退场的时候分别加上对应的类名，以实现 CSS3 动画。例如本例中，进场会添加 \x3ccode\x3eexample-enter\x3c\/code\x3e 和 \x3ccode\x3eexample-enter-active\x3c\/code\x3e 到对应的元素 ，而在退场 \x3ccode\x3eexample-leave\x3c\/code\x3e 和 \x3ccode\x3eexample-leave-active\x3c\/code\x3e 类名。当然你也可以指定不同的进场退场类名。而对应入场，React 也区分了两种类型，一种是 ReactCSSTransitionGroup 第一次渲染时(appear)，而另一种是 ReactCSSTransitionGroup 已经渲染完成后，有新的元素插入进来(enter)，这两种进场可以使用 prop 进行单独配置，禁止或者修改超时时长。具体的例子，在上面给出的链接中有详细的例子和说明，因此本文不再赘述。\x3c\/p\x3e\n\x3cp\x3e但这个插件最多只提供了做动画的方案，如果我想在动画进行的过程中做一些其他事情呢？他就无能为力了，这时候就轮到 ReactTransitionGroup 出场了。ReactTransitionGroup 为他包裹的动画元素提供了六种新的生命周期：\x3ccode\x3ecomponentWillAppear(callback)\x3c\/code\x3e, \x3ccode\x3ecomponentDidAppear()\x3c\/code\x3e, \x3ccode\x3ecomponentWillEnter(callback)\x3c\/code\x3e, \x3ccode\x3ecomponentDidEnter()\x3c\/code\x3e, \x3ccode\x3ecomponentWillLeave(callback)\x3c\/code\x3e, \x3ccode\x3ecomponentDidLeave()\x3c\/code\x3e。这些 hook 可以帮助我们完成一些随着动画进行需要做的其他事。\x3c\/p\x3e\n\x3cp\x3e但官方提供的插件有一个不足点，动画只是在进场和出场时进行的，如果我的组件不是 mount\/unmount，而只是隐藏和显示怎么办？这里推荐一个第三方库：\x3ca href=\x22https:\/\/www.npmjs.com\/package\/rc-animate\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erc-animate\x3c\/a\x3e，从 API 设计上他基本上是延续了 ReactCSSTransitionGroup 的思路，但是通过引入 \x3ccode\x3eshowProp\x3c\/code\x3e 这一属性，使他可以 handle 组件显示隐藏这一情况下的出入场动画（只要将组件关于 show\/hide 的属性传给 showProp 即可），同时这个库也提供自己的 hook，来实现 appear\/enter\/leave 时的回调。\x3c\/p\x3e\n\x3cp\x3e如果你说我并不满足只是进场和出场动画，我要实现类似鼠标拖动时的实时动画，我需要的是一个 js 动画库，这里向大家推荐一个第三方库：\x3ca href=\x22https:\/\/www.npmjs.com\/package\/react-motion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-motion\x3c\/a\x3e , react-motion 一个很大的特点是，有别以往使用贝塞尔曲线来定义动画节奏，引入了刚度和阻尼这些弹簧系数来定义动画，按照作者的说法，与其纠结动画时长和很难掌握的贝塞尔表示法，通过不断调整刚度和阻尼来调试出最想要的弹性效果才是最合理的。Readme 里提供了一系列的很炫的动画效果，比如这个 \x3ca href=\x22http:\/\/chenglou.github.io\/react-motion\/demos\/demo8-draggable-list\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edraggable list\x3c\/a\x3e。Motion 通过指定 defaultStyle、style，传回给子组件正在变化中的 style，从而实现 js 动画。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cMotion defaultStyle=\x22{{\x22x: 0\x22}}\x22 style=\x22{{\x22x: spring(10)\x22}}\x22\x3e\n  {interpolatingStyle =\x3e \x3cdiv style={interpolatingStyle} \/\x3e}\n\x3c\/Motion\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eMotion\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edefaultStyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22x:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e0\x3c\/span\x3e\x22}}\x22 \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22x:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3espring\x3c\/span\x3e(\x3cspan class=\x22hljs-attr\x22\x3e10\x3c\/span\x3e)\x22}}\x22\x26gt;\x3c\/span\x3e\n  {interpolatingStyle =\x26gt; \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{interpolatingStyle}\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e}\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eMotion\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e本文的灵感来源于阮老师两年前的文章，这篇的实战意义更大于对未来技术的展望，希望能够给各位正在使用 React 开发系统的同学们一点启发。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e参考链接\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e阮一峰，\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2013\/05\/jquery-free.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何做到 jQuery-free？\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/blog.garstasio.com\/you-dont-need-jquery\/events\/#sending-native-(dom\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eYou Don\x27t Need jQuery!\x3c\/a\x3e-events)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e最后\x3c\/h2\x3e\n\x3cp\x3e惯例地来宣传一下团队开源的 React PC 组件库 \x3ca href=\x22https:\/\/github.com\/uxcore\/uxcore\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eUXCore\x3c\/a\x3e ，上面提到的点，在我们的组件优化过程中(如 \x3ca href=\x22https:\/\/github.com\/uxcore\/uxcore-table\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etable\x3c\/a\x3e)都有体现，欢迎大家一起讨论，也欢迎在我们的 \x3ca href=\x22https:\/\/segmentfault.com\/t\/uxcore\x22\x3eSegmentFault 专题\x3c\/a\x3e下进行提问讨论。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/gw.alicdn.com\/tps\/TB1TVapKFXXXXbbXpXXXXXXXXXX-1000-500.png\x22 src=\x22https:\/\/static.alili.techhttps:\/\/gw.alicdn.com\/tps\/TB1TVapKFXXXXbbXpXXXXXXXXXX-1000-500.png\x22 alt=\x22uxcore\x22 title=\x22uxcore\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何在 React 中做到 jQuery-free</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006201488">https://segmentfault.com/a/1190000006201488</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/rpclyi368zj/" target="_blank">https://alili.tech/archive/rpclyi368zj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>