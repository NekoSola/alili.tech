<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="基于Redux架构的单页应用开发总结"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>基于Redux架构的单页应用开发总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/kttlr3zcdkk/",
				"appid": "1613049289050283", 
				"title": "基于Redux架构的单页应用开发总结 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/amznn2w2om/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rvrdvm3qjj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&text=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&text=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&title=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&is_video=false&description=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&title=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&title=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&title=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkttlr3zcdkk%2f&title=%e5%9f%ba%e4%ba%8eRedux%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%95%e9%a1%b5%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e6%80%bb%e7%bb%93"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">基于Redux架构的单页应用开发总结</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e系统架构介绍\x3c\/h1\x3e\n\x3cp\x3e本项目开发基于 \x3ccode\x3eReact\x3c\/code\x3e \x2b \x3ccode\x3eRedux\x3c\/code\x3e \x2b \x3ccode\x3eReact-Route\x3c\/code\x3e 框架，利用 \x3ccode\x3ewebpack\x3c\/code\x3e 进行模块化构建，前端编写语言是 JavaScript ES6，利用 \x3ccode\x3ebabel\x3c\/code\x3e进行转换。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22|--- project\n        |--- build                    \/\/ 项目打包编译目录\n        |--- src                      \/\/ 项目开发的源代码\n            |--- actions              \/\/ redux的动作\n            |--- components           \/\/ redux的组件\n            |--- containers           \/\/ redux的容器  \n            |--- images               \/\/ 静态图片\n            |--- mixins               \/\/ 通用的函数库\n            |--- reducers             \/\/ redux的store操作\n            |--- configureStore.js    \/\/ redux的store映射\n            |--- index.js             \/\/ 页面入口\n            |--- routes.js            \/\/ 路由配置\n        |--- index.html               \/\/ 入口文件\n        |--- .babelrc                 \/\/ babel配置\n        |--- main.js                  \/\/ webkit打包的壳子\n        |--- package.json             \/\/ 包信息\n        |--- webpack.config.js        \/\/ webpack配置文件\n        |--- readme.md           \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e|--- project\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- build                    \/\/ 项目打包编译目录\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- src                      \/\/ 项目开发的源代码\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- actions              \/\/ redux的动作\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- components           \/\/ redux的组件\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- containers           \/\/ redux的容器  \x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- images               \/\/ 静态图片\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- mixins               \/\/ 通用的函数库\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- reducers             \/\/ redux的store操作\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- configureStore.js    \/\/ redux的store映射\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- index.js             \/\/ 页面入口\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e|--- routes.js            \/\/ 路由配置\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- index.html               \/\/ 入口文件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- .babelrc                 \/\/ babel配置\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- main.js                  \/\/ webkit打包的壳子\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- package.json             \/\/ 包信息\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- webpack.config.js        \/\/ webpack配置文件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e|--- readme.md           \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;dependencies\x26quot;: {\n    \x26quot;babel-polyfill\x26quot;: \x26quot;^6.7.4\x26quot;,\n    \x26quot;base-64\x26quot;: \x26quot;^0.1.0\x26quot;,\n    \x26quot;immutable\x26quot;: \x26quot;^3.7.6\x26quot;,\n    \x26quot;isomorphic-fetch\x26quot;: \x26quot;^2.2.1\x26quot;,\n    \x26quot;moment\x26quot;: \x26quot;^2.13.0\x26quot;,\n    \x26quot;normalizr\x26quot;: \x26quot;^2.0.1\x26quot;,\n    \x26quot;react\x26quot;: \x26quot;^0.14.8\x26quot;,\n    \x26quot;react-datetimepicker\x26quot;: \x26quot;^2.0.0\x26quot;,\n    \x26quot;react-dom\x26quot;: \x26quot;^0.14.8\x26quot;,\n    \x26quot;react-redux\x26quot;: \x26quot;^4.4.1\x26quot;,\n    \x26quot;react-redux-spinner\x26quot;: \x26quot;^0.4.0\x26quot;,\n    \x26quot;react-router\x26quot;: \x26quot;^2.0.1\x26quot;,\n    \x26quot;react-router-redux\x26quot;: \x26quot;^4.0.1\x26quot;,\n    \x26quot;redux\x26quot;: \x26quot;^3.3.1\x26quot;,\n    \x26quot;redux-immutablejs\x26quot;: \x26quot;0.0.8\x26quot;,\n    \x26quot;redux-logger\x26quot;: \x26quot;^2.6.1\x26quot;,\n    \x26quot;redux-thunk\x26quot;: \x26quot;^2.0.1\x26quot;\n  },\n  \x26quot;devDependencies\x26quot;: {\n    \x26quot;babel-core\x26quot;: \x26quot;^6.7.5\x26quot;,\n    \x26quot;babel-loader\x26quot;: \x26quot;^6.2.4\x26quot;,\n    \x26quot;babel-preset-es2015\x26quot;: \x26quot;^6.6.0\x26quot;,\n    \x26quot;babel-preset-react\x26quot;: \x26quot;^6.5.0\x26quot;,\n    \x26quot;babel-preset-stage-1\x26quot;: \x26quot;^6.5.0\x26quot;,\n    \x26quot;css-loader\x26quot;: \x26quot;^0.23.1\x26quot;,\n    \x26quot;file-loader\x26quot;: \x26quot;^0.8.5\x26quot;,\n    \x26quot;img-loader\x26quot;: \x26quot;^1.2.2\x26quot;,\n    \x26quot;less\x26quot;: \x26quot;^2.6.1\x26quot;,\n    \x26quot;less-loader\x26quot;: \x26quot;^2.2.3\x26quot;,\n    \x26quot;mocha\x26quot;: \x26quot;^2.4.5\x26quot;,\n    \x26quot;style-loader\x26quot;: \x26quot;^0.13.1\x26quot;,\n    \x26quot;url-loader\x26quot;: \x26quot;^0.5.7\x26quot;,\n    \x26quot;webpack\x26quot;: \x26quot;^1.12.14\x26quot;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-polyfill\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.7.4\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22base-64\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.1.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22immutable\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.7.6\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22isomorphic-fetch\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22moment\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.13.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22normalizr\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.14.8\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-datetimepicker\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-dom\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.14.8\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-redux\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.4.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-redux-spinner\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.4.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-router\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-router-redux\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.0.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22redux\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.3.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22redux-immutablejs\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220.0.8\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22redux-logger\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.6.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22redux-thunk\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.1\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-core\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.7.5\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.2.4\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-es2015\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.6.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-react\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.5.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-stage-1\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.5.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22css-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.23.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22file-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.8.5\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22img-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.2.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22less\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.6.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22less-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.3\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22mocha\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.4.5\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22style-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.13.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22url-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.5.7\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22webpack\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.12.14\x22\x3c\/span\x3e\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3ewebpack配置\x3c\/h2\x3e\n\x3cp\x3e也算是实际体验了一把webpack，不得不说，论\x3ccode\x3eReact\x3c\/code\x3e最佳搭档，非此货莫属！真的很强大，很好用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var webpack = require(\x27webpack\x27);   \/\/ 引入webpack模块\nvar path = require(\x27path\x27);         \/\/ 引入node的path模块\nvar nodeModulesPath = path.join(__dirname, \x27\/node_modules\x27);  \/\/ 设置node_modules目录\n\nmodule.exports = {\n    \/\/ 配置入口（此处定义了双入口）\n    entry: {\n        bundle: \x27.\/src\/index\x27,\n        vendor: [\x27react\x27, \x27react-dom\x27, \x27redux\x27]\n    },\n    \/\/ 配置输出目录\n    output: {\n        path: path.join(__dirname, \x27\/build\x27),\n        publicPath: \x26quot;\/assets\/\x26quot;,\n        filename: \x27bundle.js\x27\n    },\n    module: {\n        noParse: [\n            path.join(nodeModulesPath, \x27\/react\/dist\/react.min\x27),\n            path.join(nodeModulesPath, \x27\/react-dom\/dist\/react-dom.min\x27),\n            path.join(nodeModulesPath, \x27\/redux\/dist\/redux.min\x27),\n        ],\n        \/\/ 加载器\n        loaders: [\n            \/\/ less加载器\n            { test: \/\\.less$\/, loader: \x27style!css!less\x27 },\n            \/\/ babel加载器\n            { test: \/\\.js$\/, exclude: \/node_modules\/, loader: \x27babel-loader\x27 },\n            \/\/ 图片加载器（图片超过8k会自动转base64格式）\n            { test: \/\\.(gif|jpg|png)$\/, loader: \x26quot;url?limit=8192\x26amp;name=images\/[name].[hash].[ext]\x26quot;},\n            \/\/ 加载icon字体文件\n            { test: \/\\.(woff|svg|eot|ttf)$\/, loader: \x27url?limit=50000\x26amp;name=fonts\/[name].[hash].[ext]\x27}\n        ]\n    },\n    \/\/ 外部依赖（不会打包到bundle.js里）\n    externals: { \n        \x27citys\x27: \x27Citys\x27\n    },\n    \/\/ 插件\n    plugins: [\n        \/\/new webpack.HotModuleReplacementPlugin(),  \/\/ 版本上线时开启\n        new webpack.DefinePlugin({\n            \/\/ 定义生产环境\n            \x26quot;process.env\x26quot;: {\n                NODE_ENV: JSON.stringify(\x26quot;production\x26quot;)\n            }\n        }),\n        \/\/new webpack.optimize.UglifyJsPlugin({ compress: { warnings: false } }), \/\/ 版本上线时开启\n        \/\/ 公共部分会被抽离到vendor.js里\n        new webpack.optimize.CommonsChunkPlugin(\x27vendor\x27,  \x27vendor.js\x27),\n        \/\/ 比对id的使用频率和分布来得出最短的id分配给使用频率高的模块\n        new webpack.optimize.OccurenceOrderPlugin(),\n        \/\/ 允许错误不打断程序\n        new webpack.NoErrorsPlugin()\n    ],\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3evar webpack = require(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入webpack模块\x3c\/span\x3e\nvar path = require(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入node的path模块\x3c\/span\x3e\nvar nodeModulesPath = path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27\/node_modules\x27\x3c\/span\x3e);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置node_modules目录\x3c\/span\x3e\n\nmodule.exports = {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 配置入口（此处定义了双入口）\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        bundle:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/index\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        vendor:\x3c\/span\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e]\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 配置输出目录\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    output:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        path:\x3c\/span\x3e path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27\/build\x27\x3c\/span\x3e),\n\x3cspan class=\x22hljs-symbol\x22\x3e        publicPath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22\/assets\/\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        filename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    module:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        noParse:\x3c\/span\x3e [\n            path.join(nodeModulesPath, \x3cspan class=\x22hljs-string\x22\x3e\x27\/react\/dist\/react.min\x27\x3c\/span\x3e),\n            path.join(nodeModulesPath, \x3cspan class=\x22hljs-string\x22\x3e\x27\/react-dom\/dist\/react-dom.min\x27\x3c\/span\x3e),\n            path.join(nodeModulesPath, \x3cspan class=\x22hljs-string\x22\x3e\x27\/redux\/dist\/redux.min\x27\x3c\/span\x3e),\n        ],\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 加载器\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e        loaders:\x3c\/span\x3e [\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ less加载器\x3c\/span\x3e\n            { \x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.less$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloader:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27style!css!less\x27\x3c\/span\x3e },\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ babel加载器\x3c\/span\x3e\n            { \x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eexclude:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloader:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27babel-loader\x27\x3c\/span\x3e },\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片加载器（图片超过8k会自动转base64格式）\x3c\/span\x3e\n            { \x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(gif|jpg|png)$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloader:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22url?limit=8192\x26amp;name=images\/[name].[hash].[ext]\x22\x3c\/span\x3e},\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 加载icon字体文件\x3c\/span\x3e\n            { \x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(woff|svg|eot|ttf)$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloader:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27url?limit=50000\x26amp;name=fonts\/[name].[hash].[ext]\x27\x3c\/span\x3e}\n        ]\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 外部依赖（不会打包到bundle.js里）\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    externals:\x3c\/span\x3e { \n        \x3cspan class=\x22hljs-string\x22\x3e\x27citys\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Citys\x27\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 插件\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e    plugins:\x3c\/span\x3e [\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/new webpack.HotModuleReplacementPlugin(),  \/\/ 版本上线时开启\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.DefinePlugin({\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 定义生产环境\x3c\/span\x3e\n            \x3cspan class=\x22hljs-string\x22\x3e\x22process.env\x22\x3c\/span\x3e: {\n\x3cspan class=\x22hljs-symbol\x22\x3e                NODE_ENV:\x3c\/span\x3e JSON.stringify(\x3cspan class=\x22hljs-string\x22\x3e\x22production\x22\x3c\/span\x3e)\n            }\n        }),\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/new webpack.optimize.UglifyJsPlugin({ compress: { warnings: false } }), \/\/ 版本上线时开启\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 公共部分会被抽离到vendor.js里\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x27vendor\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-string\x22\x3e\x27vendor.js\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 比对id的使用频率和分布来得出最短的id分配给使用频率高的模块\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.OccurenceOrderPlugin(),\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 允许错误不打断程序\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.NoErrorsPlugin()\n    ],\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e\n\x3ca href=\x22http:\/\/webpack.github.io\/docs\/optimization.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e延伸\x3c\/a\x3e－Webpack性能优化\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e最小化\x3c\/h3\x3e\n\x3cp\x3e为了瘦身你的js（还有你的css，如果你用到css-loader的话）webpack支持一个简单的配置项：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.UglifyJsPlugin()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enew webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.UglifyJsPlugin\x3c\/span\x3e()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是一种简单而有效的方法来优化你的webapp。而webpack还提供了modules 和 chunks ids 来区分他们俩。利用下面的配置项，webpack就能够比对id的使用频率和分布来得出最短的id分配给使用频率高的模块。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.OccurenceOrderPlugin()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enew webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.OccurenceOrderPlugin\x3c\/span\x3e()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e入口文件对于文件大小有较高的优先级（入口文件压缩优化率尽量的好）\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e去重\x3c\/h3\x3e\n\x3cp\x3e如果你使用了一些有着很酷的依赖树的库，那么它可能存在一些文件是重复的。webpack可以找到这些文件并去重。这保证了重复的代码不被大包到bundle文件里面去，取而代之的是运行时请求一个封装的函数。不会影响语义\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.DedupePlugin()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enew webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.DedupePlugin\x3c\/span\x3e()\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个功能可能会增加入口模块的一些花销\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e对于chunks的优化\x3c\/h3\x3e\n\x3cp\x3e当coding的时候，你可能已经添加了许多分割点来按需加载。但编译完了之后你发现有太多细小的模块造成了很大的HTTP损耗。幸运的是Webpack可以处理这个问题，你可以做下面两件事情来合并一些请求：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eLimit the maximum chunk count with\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.LimitChunkCountPlugin({maxChunks: 15})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ewebpack\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.LimitChunkCountPlugin\x3c\/span\x3e({\x3cspan class=\x22hljs-attribute\x22\x3emaxChunks\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eLimit the minimum chunk size with\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.optimize.MinChunkSizePlugin({minChunkSize: 10000})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3ewebpack\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.optimize\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.MinChunkSizePlugin\x3c\/span\x3e({\x3cspan class=\x22hljs-attribute\x22\x3eminChunkSize\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10000\x3c\/span\x3e})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eWebpack通过合并来管理这些异步加载的模块(合并更多的时候发生在当前这个chunk有复用的地方)。文件只要在入口页面加载的时候没有被引入，那么就不会被合并到chunk里面去。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e单页\x3c\/h3\x3e\n\x3cp\x3eWebpack 是为单页应用量身定做的 你可以把app拆成很多chunk，这些chunk由路由来加载。入口模块仅仅包含路由和一些库，没有别的内容。这么做在用户通过导航浏览表现很好，但是初始化页面加载的时候你需要2个网络请求：一个是请求路由，一个是加载当前内容。\x3c\/p\x3e\n\x3cp\x3e如果你利用HTML5的HistoryAPI 来让URL影响当前内容页的话。你的服务器可以知道那个内容页面将被客户端请求。为了节约请求数，服务端可以把要请求的内容模块放到响应头里面：以script标签的形式来添加，浏览器将并行的加载这俩请求。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;entry-chunk.js\x26quot; type=\x26quot;text\/javascript\x26quot; charset=\x26quot;utf-8\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;3.chunk.js\x26quot; type=\x26quot;text\/javascript\x26quot; charset=\x26quot;utf-8\x26quot;\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22entry-chunk.js\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x223.chunk.js\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22utf-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可以从build stas里面提取出chunk的filename （stats-webpack-plugin ）\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e多页\x3c\/h3\x3e\n\x3cp\x3e当编译一个多页面的app时，你想要在页面之间共享一些代码。这在webpack看来很简单的：只需要和多个入口文件一起编译就好\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22webpack p1=.\/page1 p2=.\/page2 p3=.\/page3 [name].entry-chunk.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3ewebpack\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ep1\x3c\/span\x3e=.\/page1 \x3cspan class=\x22hljs-built_in\x22\x3ep2\x3c\/span\x3e=.\/page2 \x3cspan class=\x22hljs-built_in\x22\x3ep3\x3c\/span\x3e=.\/page3 [name].entry-chunk.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    entry: {\n        p1: \x26quot;.\/page1\x26quot;,\n        p2: \x26quot;.\/page2\x26quot;,\n        p3: \x26quot;.\/page3\x26quot;\n    },\n    output: {\n        filename: \x26quot;[name].entry.chunk.js\x26quot;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3emodule.exports = {\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        p1:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p2:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page2\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p3:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page3\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    output:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        filename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22[name].entry.chunk.js\x22\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由上面可以产出多个入口文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22p1.entry.chunk.js, p2.entry.chunk.js and p3.entry.chunk.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ep1\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, p2\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e and p3\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是可以增加一个chunk来共享她们中的一些代码。 如果你的chunks有一些公用的modules，那我推荐一个很酷的插件CommonsChunkPlugin，它能辨别共用模块并把他们放倒一个文件里面去。你需要在你的页面里添加两个script标签来分别引入入口文件和共用模块文件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var CommonsChunkPlugin = require(\x26quot;webpack\/lib\/optimize\/CommonsChunkPlugin\x26quot;);\nmodule.exports = {\n    entry: {\n        p1: \x26quot;.\/page1\x26quot;,\n        p2: \x26quot;.\/page2\x26quot;,\n        p3: \x26quot;.\/page3\x26quot;\n    },\n    output: {\n        filename: \x26quot;[name].entry.chunk.js\x26quot;\n    },\n    plugins: [\n        new CommonsChunkPlugin(\x26quot;commons.chunk.js\x26quot;)\n    ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3evar CommonsChunkPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack\/lib\/optimize\/CommonsChunkPlugin\x22\x3c\/span\x3e);\nmodule.exports = {\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        p1:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p2:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page2\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p3:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page3\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    output:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        filename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22[name].entry.chunk.js\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    plugins:\x3c\/span\x3e [\n        new CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22commons.chunk.js\x22\x3c\/span\x3e)\n    ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由上面可以产出入口文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22p1.entry.chunk.js, p2.entry.chunk.js and p3.entry.chunk.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ep1\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, p2\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e and p3\x3cspan class=\x22hljs-selector-class\x22\x3e.entry\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e和共用文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22commons.chunk.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecommons\x3cspan class=\x22hljs-selector-class\x22\x3e.chunk\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在页面中要首先加载 commons.chunk.js 在加载xx.entry.chunk.js 你可以出实话很多个commons chunks ，通过选择不同的入口文件。并且你可以堆叠使用这些commons chunks。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var CommonsChunkPlugin = require(\x26quot;webpack\/lib\/optimize\/CommonsChunkPlugin\x26quot;);\nmodule.exports = {\n    entry: {\n        p1: \x26quot;.\/page1\x26quot;,\n        p2: \x26quot;.\/page2\x26quot;,\n        p3: \x26quot;.\/page3\x26quot;,\n        ap1: \x26quot;.\/admin\/page1\x26quot;,\n        ap2: \x26quot;.\/admin\/page2\x26quot;\n    },\n    output: {\n        filename: \x26quot;[name].js\x26quot;\n    },\n    plugins: [\n        new CommonsChunkPlugin(\x26quot;admin-commons.js\x26quot;, [\x26quot;ap1\x26quot;, \x26quot;ap2\x26quot;]),\n        new CommonsChunkPlugin(\x26quot;commons.js\x26quot;, [\x26quot;p1\x26quot;, \x26quot;p2\x26quot;, \x26quot;admin-commons.js\x26quot;])\n    ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3evar CommonsChunkPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack\/lib\/optimize\/CommonsChunkPlugin\x22\x3c\/span\x3e);\nmodule.exports = {\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        p1:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p2:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page2\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p3:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page3\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        ap1:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/admin\/page1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        ap2:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/admin\/page2\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    output:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        filename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22[name].js\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    plugins:\x3c\/span\x3e [\n        new CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22admin-commons.js\x22\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x22ap1\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22ap2\x22\x3c\/span\x3e]),\n        new CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22commons.js\x22\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x22p1\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22p2\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22admin-commons.js\x22\x3c\/span\x3e])\n    ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22page1.html: commons.js, p1.js\npage2.html: commons.js, p2.js\npage3.html: p3.js\nadmin-page1.html: commons.js, admin-commons.js, ap1.js\nadmin-page2.html: commons.js, admin-commons.js, ap2.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3epage1\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e: commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, p1\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\npage2\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e: commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, p2\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\npage3\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e: p3\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\nadmin-page1\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e: commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, admin-commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, ap1\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\nadmin-page2\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e: commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, admin-commons\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e, ap2.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另外你可以将多个共用文件打包到一个共用文件中。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var CommonsChunkPlugin = require(\x26quot;webpack\/lib\/optimize\/CommonsChunkPlugin\x26quot;);\nmodule.exports = {\n    entry: {\n        p1: \x26quot;.\/page1\x26quot;,\n        p2: \x26quot;.\/page2\x26quot;,\n        commons: \x26quot;.\/entry-for-the-commons-chunk\x26quot;\n    },\n    plugins: [\n        new CommonsChunkPlugin(\x26quot;commons\x26quot;, \x26quot;commons.js\x26quot;)\n    ]\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dts\x22\x3e\x3ccode\x3evar CommonsChunkPlugin = require(\x3cspan class=\x22hljs-string\x22\x3e\x22webpack\/lib\/optimize\/CommonsChunkPlugin\x22\x3c\/span\x3e);\nmodule.exports = {\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        p1:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page1\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        p2:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/page2\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        commons:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/entry-for-the-commons-chunk\x22\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    plugins:\x3c\/span\x3e [\n        new CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x22commons\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22commons.js\x22\x3c\/span\x3e)\n    ]\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader8\x22\x3e关于less的组织\x3c\/h1\x3e\n\x3cp\x3e作为一个后端出身的前端工程师，写简单的css实在没有那种代码可配置和结构化的快感。所以引入less是个不错的选择，无论是针对代码后期的管理，还是提高代码的复用能力。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e\x3ccode\x3eglobal.less\x3c\/code\x3e\x3c\/h2\x3e\n\x3cp\x3e这个是全局都可以调用的方法库，我习惯把 项目的配色、各种字号、用于引入混出的方法等写在这里，其他\x3ccode\x3econtainer\x3c\/code\x3e页面通过\x3ccode\x3e@import\x3c\/code\x3e方式引入它，就可以使用里面的东西。不过定义它时要注意以下两点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e第一，这个less里只能存放变量和方法，less编译时会忽略它们，只在调用它们的地方才编译成css。所以为了防止代码重复，请不要在这里直接定义样式，而是用一个方法把它们包起来，表示一个用途。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第二，这个less里的方法如果是针对某些具体标签定义样式的，只能初始化一次，建议在单页的入口\x3ccode\x3econtainer\x3c\/code\x3e里做，这样好维护。比如\x3ccode\x3ereset()\x3c\/code\x3e（页面标签样式初始化），这个方法放在入口\x3ccode\x3econtainer\x3c\/code\x3e的 \x3ccode\x3elogin.less\x3c\/code\x3e里调用且全局只调用一次。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e下面是我的\x3ccode\x3eglobal.less\x3c\/code\x3e 常用的一些模块\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc 一些全局的less\n * @createDate 2016-05-16\n * @author Jafeney \x3c692270687@qq.com\x3e\n **\/\n\n\/\/ 全局配色\n@g-color-active: #ff634d;  \/\/活跃状态的背景色（橘红色）\n@g-color-info: #53b2ea;    \/\/一般用途的背景色（浅蓝色）\n@g-color-primary: #459df5; \/\/主要用途的背景色 (深蓝色)\n@g-color-warning: #f7cec8; \/\/用于提示的背景色 (橘红色较浅)\n@g-color-success: #98cf07; \/\/成功状态的背景色 (绿色)\n@g-color-fail: #c21f16;    \/\/失败状态的背景色 (红色)\n@g-color-danger: #ff634d;  \/\/用于警示的背景色 (橘红色)\n@g-color-light: #fde2e1;   \/\/高饱合度淡色的背景色(橘红)\n\n\/\/ 全局尺寸\n@g-text-default: 14px;\n@g-text-sm: 12px;\n@g-text-lg: 18px;\n\n\/\/ 全局使用的自定义icon（这样写的好处是webpack打包时自动转base64）\n@g-icon-logo: url(\x26quot;..\/images\/logo.png\x26quot;);\n@g-icon-logoBlack: url(\x26quot;..\/images\/logoBlack.png\x26quot;);\n@g-icon-phone: url(\x26quot;..\/images\/phone.png\x26quot;);\n@g-icon-message: url(\x26quot;..\/images\/message.png\x26quot;);\n@g-icon-help: url(\x26quot;..\/images\/help.png\x26quot;);\n@g-icon-down: url(\x26quot;..\/images\/down.png\x26quot;);\n@g-icon-top: url(\x26quot;..\/images\/top.png\x26quot;);\n@g-icon-home: url(\x26quot;..\/images\/home.png\x26quot;);\n@g-icon-order: url(\x26quot;..\/images\/order.png\x26quot;);\n@g-icon-cart: url(\x26quot;..\/images\/cart.png\x26quot;);\n@g-icon-source: url(\x26quot;..\/images\/source.png\x26quot;);\n@g-icon-business: url(\x26quot;..\/images\/business.png\x26quot;);\n@g-icon-finance: url(\x26quot;..\/images\/finance.png\x26quot;);\n@g-icon-account: url(\x26quot;..\/images\/account.png\x26quot;);\n\/\/ ....\n\n\/\/ 背景色\n@g-color-grey1: #2a2f33;   \/\/黑色\n@g-color-grey2: #363b3f;   \/\/深灰色\n@g-color-grey3: #e5e5e5;   \/\/灰色\n@g-color-grey4: #efefef;   \/\/浅灰色\n@g-color-grey5: #f9f9f9;   \/\/很浅\n@g-color-grey6: #ffffff;   \/\/白色\n\n\/\/ 全局边框\n@g-border-default: #e6eaed;\n@g-border-active: #53b2ea;\n@g-border-light: #f7dfde;\n\n\/\/ 常用的border-box盒子模型\n.border-box() {\n    box-sizing: border-box;\n    -ms-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -o-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n}\n\n\/\/ 模拟按钮效果\n.btn() {\n    cursor: pointer;\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n\n    \x26amp;:hover {\n        opacity: .8;\n    }\n\n    \x26amp;.disabled {\n        \x26amp;:hover {\n            opacity: 1;\n            cursor: not-allowed;\n        }\n    }\n}\n\n\/\/ 超出部分处理\n.text-overflow() {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -o-text-overflow: ellipsis;\n    -webkit-text-overflow: ellipsis;\n    -moz-text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n\/\/ reset styles\n.reset() {\n\/\/ ....\n}\n\n\/\/ 一些原子class\n.atom() {\n    .cp {\n        cursor: pointer;\n    }\n    .ml-5 {\n        margin-left: 5px;\n    }\n    .mr-5 {\n        margin-right: 5px;\n    }\n    .ml-5p {\n        margin-left: 5%;\n    }\n    .mr-5p {\n        margin-right: 5%;\n    }\n    .mt-5 {\n        margin-top: 5px;\n    }\n\n    .txt-center {\n        text-align: center;\n    }\n    .txt-left {\n        text-align: left;\n    }\n    .txt-right {\n        text-align: right;\n    }\n    .fr {\n        float: right;\n    }\n    .fl {\n        float: left;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * @desc 一些全局的less\n * @createDate 2016-05-16\n * @author Jafeney \x26lt;692270687@qq.com\x26gt;\n **\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局配色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-active:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#ff634d\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/活跃状态的背景色（橘红色）\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-info:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#53b2ea\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/一般用途的背景色（浅蓝色）\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-primary:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#459df5\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/主要用途的背景色 (深蓝色)\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-warning:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#f7cec8\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/用于提示的背景色 (橘红色较浅)\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-success:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#98cf07\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/成功状态的背景色 (绿色)\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-fail:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#c21f16\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/失败状态的背景色 (红色)\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-danger:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#ff634d\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/用于警示的背景色 (橘红色)\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-light:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#fde2e1\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/高饱合度淡色的背景色(橘红)\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局尺寸\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-text-default:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e14px\x3c\/span\x3e;\n\x3cspan class=\x22hljs-variable\x22\x3e@g-text-sm:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e12px\x3c\/span\x3e;\n\x3cspan class=\x22hljs-variable\x22\x3e@g-text-lg:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e18px\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局使用的自定义icon（这样写的好处是webpack打包时自动转base64）\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-logo:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/logo.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-logoBlack:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/logoBlack.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-phone:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/phone.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-message:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/message.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-help:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/help.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-down:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/down.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-top:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/top.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-home:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/home.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-order:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/order.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-cart:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/cart.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-source:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/source.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-business:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/business.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-finance:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/finance.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-variable\x22\x3e@g-icon-account:\x3c\/span\x3e url(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/images\/account.png\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ....\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 背景色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey1:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#2a2f33\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/黑色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey2:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#363b3f\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/深灰色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey3:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#e5e5e5\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/灰色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey4:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#efefef\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/浅灰色\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey5:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#f9f9f9\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/很浅\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-color-grey6:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#ffffff\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/白色\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局边框\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@g-border-default:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#e6eaed\x3c\/span\x3e;\n\x3cspan class=\x22hljs-variable\x22\x3e@g-border-active:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#53b2ea\x3c\/span\x3e;\n\x3cspan class=\x22hljs-variable\x22\x3e@g-border-light:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#f7dfde\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 常用的border-box盒子模型\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.border-box\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-ms-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-moz-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-o-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-box-sizing\x3c\/span\x3e: border-box;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 模拟按钮效果\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.btn\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n    \x3cspan class=\x22hljs-attribute\x22\x3euser-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-moz-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-ms-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-o-user-select\x3c\/span\x3e: none;\n\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: .\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e;\n    }\n\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.disabled\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: not-allowed;\n        }\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 超出部分处理\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.text-overflow\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n    \x3cspan class=\x22hljs-attribute\x22\x3etext-overflow\x3c\/span\x3e: ellipsis;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-o-text-overflow\x3c\/span\x3e: ellipsis;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-text-overflow\x3c\/span\x3e: ellipsis;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-moz-text-overflow\x3c\/span\x3e: ellipsis;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewhite-space\x3c\/span\x3e: nowrap;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reset styles\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.reset\x3c\/span\x3e() {\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ....\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一些原子class\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.atom\x3c\/span\x3e() {\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.cp\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.ml-5\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-left\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.mr-5\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-right\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.ml-5p\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-left\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5%\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.mr-5p\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-right\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5%\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.mt-5\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3emargin-top\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n    }\n\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.txt-center\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: center;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.txt-left\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: left;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.txt-right\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: right;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.fr\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: right;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.fl\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e\n\x3ccode\x3ecomponent\x3c\/code\x3e的less\x3c\/h2\x3e\n\x3cp\x3e为了降低组件的耦合性，每个组件的less必须单独写，样式跟着组件走，一个组件一个less，不要有其他依赖，保证组件的高移植能力。\x3cbr\x3e而且组件应该针对用途提供几套样式方案，比如\x3ccode\x3ebutton\x3c\/code\x3e组件，我们可以针对颜色提供不同的样式，以样式组合的方式提供给外部使用。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 下面的变量可以针对不同的需求进行配置\n@color-primary: #459df5; \n@color-warning: #f7cec8; \n@color-success: #98cf07; \n@color-fail: #c21f16;    \n\n.btn {\n    cursor: pointer;\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    display: inline-block;\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    -ms-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -o-box-sizing: border-box;\n    text-align: center;\n    \n    \/\/ 鼠标放上时\n    \x26amp;:hover {\n        opacity: .8;\n    }\n    \n    \/\/ 按钮不可用时\n    \x26amp;.disabled {\n        \x26amp;:hover {\n            opacity: 1;\n            cursor: not-allowed;\n        }\n    }\n    \n    \/\/ 填充式按钮\n    \x26amp;.full {\n        color: #fff;\n        \x26amp;.primary {\n            background-color:  @color-primary;\n            border: 1px solid @color-primary;\n        }\n        \/\/ ....\n    }\n\n    \/\/ 边框式按钮 \n    \x26amp;.border {\n       background-color:  #fff;\n       \x26amp;.primary {\n            color: @color-primary;\n            border: 1px solid @color-primary;\n        }\n        \/\/ ...\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 下面的变量可以针对不同的需求进行配置\x3c\/span\x3e\n\x3cspan class=\x22hljs-variable\x22\x3e@color-primary:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#459df5\x3c\/span\x3e; \n\x3cspan class=\x22hljs-variable\x22\x3e@color-warning:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#f7cec8\x3c\/span\x3e; \n\x3cspan class=\x22hljs-variable\x22\x3e@color-success:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#98cf07\x3c\/span\x3e; \n\x3cspan class=\x22hljs-variable\x22\x3e@color-fail:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e#c21f16\x3c\/span\x3e;    \n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.btn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: pointer;\n    \x3cspan class=\x22hljs-attribute\x22\x3euser-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-moz-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-ms-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-o-user-select\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: inline-block;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-ms-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-moz-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3e-o-box-sizing\x3c\/span\x3e: border-box;\n    \x3cspan class=\x22hljs-attribute\x22\x3etext-align\x3c\/span\x3e: center;\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 鼠标放上时\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: .\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e;\n    }\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按钮不可用时\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.disabled\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: not-allowed;\n        }\n    }\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 填充式按钮\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.full\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.primary\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e:  \x3cspan class=\x22hljs-variable\x22\x3e@color-primary\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-variable\x22\x3e@color-primary\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ....\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 边框式按钮 \x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.border\x3c\/span\x3e {\n       \x3cspan class=\x22hljs-attribute\x22\x3ebackground-color\x3c\/span\x3e:  \x3cspan class=\x22hljs-number\x22\x3e#fff\x3c\/span\x3e;\n       \x3cspan class=\x22hljs-selector-tag\x22\x3e\x26amp;\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.primary\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attribute\x22\x3ecolor\x3c\/span\x3e: \x3cspan class=\x22hljs-variable\x22\x3e@color-primary\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-variable\x22\x3e@color-primary\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e\n\x3ccode\x3econtainer\x3c\/code\x3e的less\x3c\/h2\x3e\n\x3cp\x3e同上，每个\x3ccode\x3econtainer\x3c\/code\x3e一个less文件，可以复用的模块尽量封装成\x3ccode\x3ecomponent\x3c\/code\x3e，而不是偷懒复制几行样式过来，这样虽然方便一时，但随着项目的迭代，后期的冗余代码会多得超出你的想象。\x3cbr\x3e如果遵循组件化的设计思想，你会发现\x3ccode\x3econtainer\x3c\/code\x3e里其实只有一些布局和尺寸定义相关的代码，非常容易维护。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e这是大型项目的设计要领，除此之外就是大局观的培养，这点尤为重要，项目一拿来不要马上就动手写页面，而是应该多花些时间在代码的设计上，把全局的东西剥离出来，越细越好；把可复用的模块设计成组件，思考组件的拓展性和不同的用途，记住—— 结构上尽量减少依赖关系，保持组件的独立性，而用途上多考虑功能的聚合，即所谓的低耦合高聚合。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e不过实际项目不可能每个组件都是独立存在的，有时我们为了进一步减少代码量，会把一些常用的组件整合成一个大组件来使用，即复合组件。所以每个项目实际上存在一级组件（独立）和二级组件（复合）。一级组件可以随意迁移，而二级组件是针对实际场景而生的，两者并没有好坏之分，一切都为了高效地生产代码，存在即合理。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader12\x22\x3e关于React的组织\x3c\/h1\x3e\n\x3cp\x3e本项目的React代码都用JavaScript的ES6风格编写，代码非常地优雅，而且语言自身支持模块化，再也不用依赖\x3ccode\x3eBrowserify\x3c\/code\x3e、\x3ccode\x3eRequireJS\x3c\/code\x3e等工具了，非常爽。如果你不会ES6，建议去翻一翻阮一峰老师的\x3ca href=\x22http:\/\/es6.ruanyifeng.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《ES6标准入门》\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e入口\x3c\/h2\x3e\n\x3cp\x3e入口模块\x3ccode\x3eindex.js\x3c\/code\x3e放在\x3ccode\x3esrc\x3c\/code\x3e的根目录，是外部调用的入口。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport { render } from \x27react-dom\x27\n\/\/ 引入redux\nimport { Provider } from \x27react-redux\x27\n\/\/ 引入router\nimport { Router, hashHistory } from \x27react-router\x27\nimport { syncHistoryWithStore } from \x27react-router-redux\x27\nimport routes from \x27.\/routes\x27\nimport configureStore from \x27.\/configureStore\x27\n\nconst store = configureStore(hashHistory)  \/\/ 路由的store\nconst history = syncHistoryWithStore(hashHistory, store) \/\/ 路由的历史纪录（会写入到浏览器的历史纪录）\n\nrender(\n  (\n  \x3cProvider store={store}\x3e\n    \x3cRouter history={history} routes={routes} \/\x3e\n  \x3c\/Provider\x3e\n  ), document.getElementById(\x27root\x27)\n)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { render } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入redux\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Provider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 引入router\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Router, hashHistory } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { syncHistoryWithStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e routes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e configureStore \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/configureStore\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = configureStore(hashHistory)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由的store\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e history = syncHistoryWithStore(hashHistory, store) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由的历史纪录（会写入到浏览器的历史纪录）\x3c\/span\x3e\n\nrender(\n  (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estore\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{store}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eRouter\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehistory\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{history}\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eroutes\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{routes}\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  ), document.getElementById(\x27root\x27)\n)\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e路由\x3c\/h2\x3e\n\x3cp\x3e这里主要应用了\x3ccode\x3ereact-route\x3c\/code\x3e组件来制作哈希路由，使用方式很简单，和ReactNative里的Navigator组件类似。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27\nimport { Route } from \x27react-router\x27\n\nimport Manager from \x27.\/containers\/manager\x27\n\nimport Login from \x27.\/containers\/Login\/\x27\nimport Register from \x27.\/containers\/Register\/\x27\nimport Password from \x27.\/containers\/Password\/\x27\nimport Dashboard from \x27.\/containers\/Dashboard\/\x27\n\nconst routes = (\n  \x3cRoute\x3e\n    \x3cRoute path=\x26quot;\x26quot; component={Manager}\x3e                                \/\/ 主容器\n        \x3cRoute path=\x26quot;\/\x26quot; component={Dashboard} \/\x3e                       \/\/ 仪表盘\n        \/\/ .... 各模块的container\n    \x3c\/Route\x3e\n    \x3cRoute path=\x26quot;login\x26quot; component={Login} \/\x3e                           \/\/ 登录\n    \x3cRoute path=\x26quot;register\x26quot; component={Register} \/\x3e                     \/\/ 注册\n    \x3cRoute path=\x26quot;password\x26quot; component={Password} \/\x3e                     \/\/ 找回密码\n  \x3c\/Route\x3e\n)\n\nexport default routes\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Route } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Manager \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/manager\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Login \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Login\/\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Register \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Register\/\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Password \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Password\/\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Dashboard \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/Dashboard\/\x27\x3c\/span\x3e\n\nconst routes = (\n  \x26lt;Route\x26gt;\n    \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e component={Manager}\x26gt;                                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主容器\x3c\/span\x3e\n        \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e component={Dashboard} \/\x26gt;                       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 仪表盘\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ .... 各模块的container\x3c\/span\x3e\n    \x26lt;\/Route\x26gt;\n    \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22login\x22\x3c\/span\x3e component={Login} \/\x26gt;                           \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 登录\x3c\/span\x3e\n    \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22register\x22\x3c\/span\x3e component={Register} \/\x26gt;                     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册\x3c\/span\x3e\n    \x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22password\x22\x3c\/span\x3e component={Password} \/\x26gt;                     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 找回密码\x3c\/span\x3e\n  \x26lt;\/Route\x26gt;\n)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e default routes\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e了解action、store、reducer\x3c\/h2\x3e\n\x3cp\x3e从调用关系来看如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22store.dispatch(action) --\x3e reducer(state, action) --\x3e final state\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3estore.dispatch(action) --\x26gt; reducer(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action) --\x26gt; final \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e来个实际的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ reducer方法, 传入的参数有两个\n\/\/ state: 当前的state\n\/\/ action: 当前触发的行为, {type: \x27xx\x27}\n\/\/ 返回值: 新的state\nvar reducer = function(state, action){\n    switch (action.type) {\n        case \x27add_todo\x27:\n            return state.concat(action.text);\n        default:\n            return state;\n    }\n};\n\n\/\/ 创建store, 传入两个参数\n\/\/ 参数1: reducer 用来修改state\n\/\/ 参数2(可选): [], 默认的state值,如果不传, 则为undefined\nvar store = redux.createStore(reducer, []);\n\n\/\/ 通过 store.getState() 可以获取当前store的状态(state)\n\/\/ 默认的值是 createStore 传入的第二个参数\nconsole.log(\x27state is: \x27 \x2b store.getState());  \/\/ state is:\n\n\/\/ 通过 store.dispatch(action) 来达到修改 state 的目的\n\/\/ 注意: 在redux里,唯一能够修改state的方法,就是通过 store.dispatch(action)\nstore.dispatch({type: \x27add_todo\x27, text: \x27读书\x27});\n\/\/ 打印出修改后的state\nconsole.log(\x27state is: \x27 \x2b store.getState());  \/\/ state is: 读书\n\nstore.dispatch({type: \x27add_todo\x27, text: \x27写作\x27});\nconsole.log(\x27state is: \x27 \x2b store.getState());  \/\/ state is: 读书,写作\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/\/ reducer方法, 传入的参数有两个\n\/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e: 当前的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\n\/\/ action: 当前触发的行为, {type: \x27xx\x27}\n\/\/ 返回值: 新的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\nvar reducer = function(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action){\n    switch (action.type) {\n        case \x27add_todo\x27:\n            return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.concat(action.text);\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n            return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e;\n    }\n};\n\n\/\/ 创建store, 传入两个参数\n\/\/ 参数\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e: reducer 用来修改\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\n\/\/ 参数\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e(可选): [], 默认的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e值,如果不传, 则为undefined\nvar store = redux.createStore(reducer, []);\n\n\/\/ 通过 store.getState() 可以获取当前store的状态(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e)\n\/\/ 默认的值是 createStore 传入的第二个参数\nconsole.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x27\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: \x27 \x2b store.getState());  \/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is:\n\n\/\/ 通过 store.dispatch(action) 来达到修改 \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e 的目的\n\/\/ 注意: 在redux里,唯一能够修改\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e的方法,就是通过 store.dispatch(action)\nstore.dispatch({type: \x27add_todo\x27, text: \x27读书\x27});\n\/\/ 打印出修改后的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\nconsole.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x27\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: \x27 \x2b store.getState());  \/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: 读书\n\nstore.dispatch({type: \x27add_todo\x27, text: \x27写作\x27});\nconsole.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x27\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: \x27 \x2b store.getState());  \/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: 读书,写作\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3estore、reducer、action关联\x3c\/h3\x3e\n\x3cp\x3estore：对flux有了解的同学应该有所了解，store在这里代表的是数据模型，内部维护了一个state变量，用例描述应用的状态。store有两个核心方法，分别是getState、dispatch。前者用来获取store的状态（state），后者用来修改store的状态。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 创建store, 传入两个参数\n\/\/ 参数1: reducer 用来修改state\n\/\/ 参数2(可选): [], 默认的state值,如果不传, 则为undefined\nvar store = redux.createStore(reducer, []);\n\n\/\/ 通过 store.getState() 可以获取当前store的状态(state)\n\/\/ 默认的值是 createStore 传入的第二个参数\nconsole.log(\x27state is: \x27 \x2b store.getState());  \/\/ state is:\n\n\/\/ 通过 store.dispatch(action) 来达到修改 state 的目的\n\/\/ 注意: 在redux里,唯一能够修改state的方法,就是通过 store.dispatch(action)\nstore.dispatch({type: \x27add_todo\x27, text: \x27读书\x27});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/\/ 创建store, 传入两个参数\n\/\/ 参数\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e: reducer 用来修改\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\n\/\/ 参数\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e(可选): [], 默认的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e值,如果不传, 则为undefined\nvar store = redux.createStore(reducer, []);\n\n\/\/ 通过 store.getState() 可以获取当前store的状态(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e)\n\/\/ 默认的值是 createStore 传入的第二个参数\nconsole.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e(\x27\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is: \x27 \x2b store.getState());  \/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e is:\n\n\/\/ 通过 store.dispatch(action) 来达到修改 \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e 的目的\n\/\/ 注意: 在redux里,唯一能够修改\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e的方法,就是通过 store.dispatch(action)\nstore.dispatch({type: \x27add_todo\x27, text: \x27读书\x27});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eaction：对行为（如用户行为）的抽象，在redux里是一个普通的js对象。redux对action的约定比较弱，除了一点，action必须有一个type字段来标识这个行为的类型。所以，下面的都是合法的action\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{type:\x27add_todo\x27, text:\x27读书\x27}\n{type:\x27add_todo\x27, text:\x27写作\x27}\n{type:\x27add_todo\x27, text:\x27睡觉\x27, time:\x27晚上\x27}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e{\x3cspan class=\x22hljs-attribute\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27add_todo\x27\x3c\/span\x3e, text:\x3cspan class=\x22hljs-string\x22\x3e\x27读书\x27\x3c\/span\x3e}\n{\x3cspan class=\x22hljs-attribute\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27add_todo\x27\x3c\/span\x3e, text:\x3cspan class=\x22hljs-string\x22\x3e\x27写作\x27\x3c\/span\x3e}\n{\x3cspan class=\x22hljs-attribute\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27add_todo\x27\x3c\/span\x3e, text:\x3cspan class=\x22hljs-string\x22\x3e\x27睡觉\x27\x3c\/span\x3e, time:\x3cspan class=\x22hljs-string\x22\x3e\x27晚上\x27\x3c\/span\x3e}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ereducer：一个普通的函数，用来修改store的状态。传入两个参数 state、action。其中，state为当前的状态（可通过store.getState()获得），而action为当前触发的行为（通过store.dispatch(action)调用触发）。reducer(state, action) 返回的值，就是store最新的state值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ reducer方法, 传入的参数有两个\n\/\/ state: 当前的state\n\/\/ action: 当前触发的行为, {type: \x27xx\x27}\n\/\/ 返回值: 新的state\nvar reducer = function(state, action){\n    switch (action.type) {\n        case \x27add_todo\x27:\n            return state.concat(action.text);\n        default:\n            return state;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/\/ reducer方法, 传入的参数有两个\n\/\/ \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e: 当前的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\n\/\/ action: 当前触发的行为, {type: \x27xx\x27}\n\/\/ 返回值: 新的\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e\nvar reducer = function(\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action){\n    switch (action.type) {\n        case \x27add_todo\x27:\n            return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.concat(action.text);\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n            return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader17\x22\x3eReact式编程思维\x3c\/h1\x3e\n\x3cp\x3e在没有遁入React之前，我是一个DOM操作控，不论是\x3ccode\x3ejQuery\x3c\/code\x3e还是\x3ccode\x3ezepto\x3c\/code\x3e，我在页面交互的实现上用的最多的就是DOM操作，把复杂的交互一步一步通过选择器和事件委托绑定到document上，然后逐个连贯起来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$(document).on(\x27event\x27, \x27element\x27, function(e){\n    e.preventDefault();\n    var that = this;\n    var parent = $(this).parent();\n    var siblings = $(this).siblings();\n    var children = $(this).children();\n    \/\/ .....\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e$(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27event\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27element\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n    e.preventDefault();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e that = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e parent = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).parent();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e siblings = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).siblings();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e children = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).children();\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ .....\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是\x3ccode\x3ejQuery\x3c\/code\x3e式的编程思维，\x3ccode\x3eReact\x3c\/code\x3e和它截然不同。\x3ccode\x3eReact\x3c\/code\x3e的设计是基于组件化的，每个组件通过生命周期维护统一的\x3ccode\x3estate\x3c\/code\x3e，\x3ccode\x3estate\x3c\/code\x3e改变，组件便\x3ccode\x3eupdate\x3c\/code\x3e，重新触发\x3ccode\x3erender\x3c\/code\x3e，即重新渲染页面。而这个过程操作的其实是内存里的\x3ccode\x3e虚拟DOM\x3c\/code\x3e，而不是真正的DOM节点，加上其内部的差异更新算法，所以性能上比传统的DOM操作要好。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e举个简单的例子：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e现在要实现一个模态组件，如果用jQuery式的编程思维，很习惯这么写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc 全局模态窗口\n **\/\nvar $ = window.$;\nvar modal = {\n    confirm: function(opts) {\n        var title = opts.title || \x27提示\x27,\n            content = opts.content || \x27提示内容\x27,\n            callback = opts.callback;\n        var newNode = [\n            \x27\x3cdiv class=\x26quot;mask\x26quot; id=\x26quot;J_mask\x26quot;\x3e\x27,\n                \x27\x3cdiv class=\x26quot;modal-box\x26quot;\x3e\x27,\n                    \x27\x3ch2\x3e\x27,\n                        title,\n                    \x27\x3c\/h2\x3e\x27,\n                    \x27\x3cp\x3e\x27,\n                        content,\n                    \x27\x3c\/p\x3e\x27,\n                    \x27\x3cdiv class=\x26quot;mask-btns\x26quot;\x3e\x27,\n                        \x27\x3cspan id=\x26quot;J_cancel\x26quot;\x3e取消\x3c\/span\x3e\x27,\n                        \x27\x3cspan id=\x26quot;J_confirm\x26quot;\x3e确定\x3c\/span\x3e\x27,\n                    \x27\x3c\/div\x3e\x27,\n                \x27\x3c\/div\x3e\x27,\n            \x27\x3c\/div\x3e\x27,\n        ].join(\x27\x27);\n        $(\x27#J_mask\x27).remove();\n        $(\x27body\x27).append(newNode);\n\n        $(\x27#J_cancel\x27).on(\x27click\x27, function() {\n            $(\x27#J_mask\x27).remove();\n        });\n\n        $(\x27#J_confirm\x27).on(\x27click\x27, function() {\n            if (typeof callback === \x27function\x27) {\n                callback();\n            }\n            $(\x27#J_mask\x27).remove();\n        });\n    }\n};\nmodule.exports = modal;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * @desc 全局模态窗口\n **\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e $ = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.$;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e modal = {\n    \x3cspan class=\x22hljs-attr\x22\x3econfirm\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eopts\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title = opts.title || \x3cspan class=\x22hljs-string\x22\x3e\x27提示\x27\x3c\/span\x3e,\n            content = opts.content || \x3cspan class=\x22hljs-string\x22\x3e\x27提示内容\x27\x3c\/span\x3e,\n            callback = opts.callback;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e newNode = [\n            \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;div class=\x22mask\x22 id=\x22J_mask\x22\x26gt;\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;div class=\x22modal-box\x22\x26gt;\x27\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;h2\x26gt;\x27\x3c\/span\x3e,\n                        title,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/h2\x26gt;\x27\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;p\x26gt;\x27\x3c\/span\x3e,\n                        content,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/p\x26gt;\x27\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;div class=\x22mask-btns\x22\x26gt;\x27\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;span id=\x22J_cancel\x22\x26gt;取消\x26lt;\/span\x26gt;\x27\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;span id=\x22J_confirm\x22\x26gt;确定\x26lt;\/span\x26gt;\x27\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/div\x26gt;\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/div\x26gt;\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;\/div\x26gt;\x27\x3c\/span\x3e,\n        ].join(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27#J_mask\x27\x3c\/span\x3e).remove();\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27body\x27\x3c\/span\x3e).append(newNode);\n\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27#J_cancel\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27#J_mask\x27\x3c\/span\x3e).remove();\n        });\n\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27#J_confirm\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e callback === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e) {\n                callback();\n            }\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27#J_mask\x27\x3c\/span\x3e).remove();\n        });\n    }\n};\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = modal;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在页面的JavaScript里通过选择器触发模态和传递参数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var Modal = require(\x27modal\x27);\nvar $ = window.$;\nvar app = (function() {\n    var init = function() {\n        eventBind();\n    };\n    var eventBind = function() {\n        $(document).on(\x27click\x27, \x27#btnShowModal\x27, function() {\n            Modal.confirm({\n                title: \x27提示\x27,\n                content: \x27你好！世界\x27,\n                callback: function() {\n                    console.log(\x27Hello World\x27);\n                }\n            });\n        });\n    };\n    init();\n})(); \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Modal = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27modal\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e $ = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.$;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e init = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        eventBind();\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e eventBind = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        $(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27#btnShowModal\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            Modal.confirm({\n                \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27提示\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27你好！世界\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3ecallback\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello World\x27\x3c\/span\x3e);\n                }\n            });\n        });\n    };\n    init();\n})(); \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果采用\x3ccode\x3eReact\x3c\/code\x3e式的编程思维，它应该是这样的：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc 全局模态组件 Component\n * @author Jafeney\n * @createDate 2016-05-17\n * *\/\nimport React, { Component } from \x27react\x27\nimport \x27.\/index.less\x27\n\nclass Modal extends Component {\n    constructor() {\n        super()\n        this.state = {\n            jsMask: \x27mask hidden\x27\n        }\n    }\n    show() {\n        this.setState({\n            jsMask: \x27mask\x27\n        })\n    }\n    close() {\n        this.setState({\n            jsMask: \x27mask hidden\x27\n        })\n    }\n    confirm() {\n        this.props.onConfirm \x26amp;\x26amp; this.props.onConfirm()\n    }\n     render() {\n         return (\n             \x3cdiv className={this.state.jsMask}\x3e\n                \x3cdiv className=\x26quot;modal-box\x26quot; style={this.props.style}\x3e\n                    \x3cdiv className=\x26quot;header\x26quot;\x3e\n                        \x3ch3\x3e{ this.props.title }\x3c\/h3\x3e\n                        \x3cspan className=\x26quot;icon-remove closed-mask\x26quot; onClick={()=\x3ethis.close()}\x3e\x3c\/span\x3e\n                    \x3c\/div\x3e\n                    \x3cdiv className=\x26quot;content\x26quot;\x3e\n                        { this.props.children }\n                    \x3c\/div\x3e\n                    \x3cdiv className=\x26quot;mask-btns\x26quot;\x3e\n                        \x3cspan className=\x26quot;btn-full-danger\x26quot; onClick={()=\x3ethis.confirm()}\x3e{ this.props.confirmText || \x27确定\x27 }\x3c\/span\x3e\n                        { this.props.showCancel \x26amp;\x26amp; (\x3cspan className=\x26quot;btn-border-danger\x26quot; onClick={()=\x3ethis.close()}\x3e取消\x3c\/span\x3e) }\n                    \x3c\/div\x3e\n                \x3c\/div\x3e\n             \x3c\/div\x3e\n         );\n     }\n}\nexport default Modal\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * @desc 全局模态组件 Component\n * @author Jafeney\n * @createDate 2016-05-17\n * *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/index.less\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eModal\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e()\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3ejsMask\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27mask hidden\x27\x3c\/span\x3e\n        }\n    }\n    show() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3ejsMask\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27mask\x27\x3c\/span\x3e\n        })\n    }\n    close() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3ejsMask\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27mask hidden\x27\x3c\/span\x3e\n        })\n    }\n    confirm() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.onConfirm \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.onConfirm()\n    }\n     render() {\n         \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n             \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.state.jsMask}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22modal-box\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.props.style}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22header\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e{ this.props.title }\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22icon-remove closed-mask\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{()\x3c\/span\x3e=\x26gt;\x3c\/span\x3ethis.close()}\x26gt;\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        { this.props.children }\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mask-btns\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-full-danger\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{()\x3c\/span\x3e=\x26gt;\x3c\/span\x3ethis.confirm()}\x26gt;{ this.props.confirmText || \x27确定\x27 }\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        { this.props.showCancel \x26amp;\x26amp; (\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22btn-border-danger\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{()\x3c\/span\x3e=\x26gt;\x3c\/span\x3ethis.close()}\x26gt;取消\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e) }\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n             \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n         );\n     }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Modal\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在\x3ccode\x3econtainer\x3c\/code\x3e的\x3ccode\x3erender()\x3c\/code\x3e函数里通过标签的方式引入，并通过点击触发。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {React, component} from \x27react\x27; \nimport Modal from \x27Modal\x27;\n\nclass App extends Component {\n    render() {\n       \x3cdiv\x3e\n            \x3cbutton onClick = {()=\x3e {this.refs.modal.show()\x22}}\x22\n            \x3cModal title={\x26quot;提示\x26quot;} \n                   style=\x22{{\x22width: 420, height: 200\x22}}\x22\n                   ref={(ref)=\x3e this.modal = ref} \n                   onConfirm={()=\x3ethis.onModalConfirm()}\x3e\n                   \x3cp className=\x26quot;tips\x26quot;\x3eHello world!\x3c\/p\x3e\n            \x3c\/Modal\x3e\n       \x3c\/div\x3e\n    }\n}\n\nexport default App\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {React, component} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e; \n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Modal \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Modal\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApp\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    render() {\n       \x26lt;div\x26gt;\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e = \x3cspan class=\x22hljs-string\x22\x3e{()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e {this.refs.modal.show()\x22}}\x22\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eModal\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\x22提示\x22} \n                   \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22width:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e420\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eheight:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e200\x3c\/span\x3e\x22}}\x22\n                   \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{(ref)\x3c\/span\x3e=\x26gt;\x3c\/span\x3e this.modal = ref} \n                   onConfirm={()=\x26gt;this.onModalConfirm()}\x26gt;\n                   \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22tips\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eHello world!\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eModal\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n       \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e App\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你会发现，上面的代码并没有刻意地操作某个DOM元素的样式，而是通过改变组件的\x3ccode\x3estate\x3c\/code\x3e去触发自身的渲染函数。换句话说，我们不需要写繁琐的DOM操作，而是靠改变组件的\x3ccode\x3estate\x3c\/code\x3e控制组件的交互和各种变化。这种思维方式的好处等你熟悉\x3ccode\x3eReact\x3c\/code\x3e之后自然会明白，可以大大地减少后期的代码量。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader18\x22\x3e优化渲染\x3c\/h1\x3e\n\x3cp\x3e前面提到组件的\x3ccode\x3estate\x3c\/code\x3e改变即触发\x3ccode\x3erender()\x3c\/code\x3e，\x3ccode\x3eReact\x3c\/code\x3e内部虽然做了一些算法上的优化，但是我们可以结合\x3ccode\x3eImmutable\x3c\/code\x3e做进一步的渲染优化，让页面更新渲染速度变得更快。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc PureRender 优化渲染\n **\/\n\nimport React, { Component } from \x27react\x27\nimport Immutable from \x27immutable\x27;\n\nexport default {\n    \/\/ 深度比较\n    deepCompare: (self, nextProps, nextState) =\x3e {\n        return !Immutable.is(self.props, nextProps) || !Immutable.is(self.state, nextState)\n     },\n    \/\/ 阻止没必要的渲染\n    loadDetection: (reducers=[])=\x3e {\n        for (let r of reducers) {\n            if (!r.get(\x27preload\x27)) return (\x3cdiv \/\x3e)\n        }\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * @desc PureRender 优化渲染\n **\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Immutable \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27immutable\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 深度比较\x3c\/span\x3e\n    deepCompare: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eself, nextProps, nextState\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e !Immutable.is(self.props, nextProps) || !Immutable.is(self.state, nextState)\n     },\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 阻止没必要的渲染\x3c\/span\x3e\n    loadDetection: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ereducers=[]\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e r \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e reducers) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!r.get(\x3cspan class=\x22hljs-string\x22\x3e\x27preload\x27\x3c\/span\x3e)) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e)\n        }\n    }\n}\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们在\x3ccode\x3econtainer\x3c\/code\x3e的\x3ccode\x3erender()\x3c\/code\x3e函数里就可以调用它进行渲染优化\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component } from \x27react\x27\nimport PureRenderMixin from \x27..\/..\/mixins\/PureRender\x27;\n\nclass App extends Component { \n    render() {\n        let { actions, account, accountLogs, bankBind } = this.props；\n        \/\/ 数据导入检测\n        let error = PureRenderMixin.loadDetection([account, accountLogs, bankBind])\n        \/\/ 如果和上次没有差异就阻止组件重新渲染\n        if (error) return error   \n        return (\n            \x3cdiv\x3e\n                \/\/ something ...\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eReact\x3c\/span\x3e, { \x3cspan class=\x22hljs-type\x22\x3eComponent\x3c\/span\x3e } from \x3cspan class=\x22hljs-symbol\x22\x3e\x27reac\x3c\/span\x3et\x27\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3ePureRenderMixin\x3c\/span\x3e from \x27..\/..\/mixins\/\x3cspan class=\x22hljs-type\x22\x3ePureRender\x3c\/span\x3e\x27;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApp\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{ \n    render() {\n        let { actions, account, accountLogs, bankBind } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props；\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 数据导入检测\x3c\/span\x3e\n        let error = \x3cspan class=\x22hljs-type\x22\x3ePureRenderMixin\x3c\/span\x3e.loadDetection([account, accountLogs, bankBind])\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果和上次没有差异就阻止组件重新渲染\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (error) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e error   \n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x26lt;div\x26gt;\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ something ...\x3c\/span\x3e\n            \x26lt;\/div\x26gt;\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader19\x22\x3e全局模块的处理\x3c\/h1\x3e\n\x3cp\x3e其实\x3ccode\x3eRedux\x3c\/code\x3e最大的作用就是有效减少代码量，把繁琐的操作通过 \x3ccode\x3eaction ----\x26gt;  reducer ----\x26gt; store \x3c\/code\x3e 进行抽象，最后维护统一的\x3ccode\x3estate\x3c\/code\x3e。对于页面的全局模块，简单地封装成\x3ccode\x3emixin\x3c\/code\x3e来调用还是不够的，比如全局的\x3ccode\x3erequest\x3c\/code\x3e模块，下面介绍如何用\x3ccode\x3eRedux\x3c\/code\x3e进行改造。\x3c\/p\x3e\n\x3cp\x3e首先在\x3ccode\x3etypes.js\x3c\/code\x3e里进行声明：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ request\nexport const REQUEST_PEDDING = \x27REQUEST_PEDDING\x27;\nexport const REQUEST_DONE = \x27REQUEST_DONE\x27;\nexport const REQUEST_ERROR = \x27REQUEST_ERROR\x27;\nexport const REQUEST_CLEAN = \x27REQUEST_CLEAN\x27;\nexport const REQUEST_SUCCESS = \x27REQUEST_SUCCESS\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ request\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e REQUEST_PEDDING = \x3cspan class=\x22hljs-string\x22\x3e\x27REQUEST_PEDDING\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e REQUEST_DONE = \x3cspan class=\x22hljs-string\x22\x3e\x27REQUEST_DONE\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e REQUEST_ERROR = \x3cspan class=\x22hljs-string\x22\x3e\x27REQUEST_ERROR\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e REQUEST_CLEAN = \x3cspan class=\x22hljs-string\x22\x3e\x27REQUEST_CLEAN\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e REQUEST_SUCCESS = \x3cspan class=\x22hljs-string\x22\x3e\x27REQUEST_SUCCESS\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后编写\x3ccode\x3eaction\x3c\/code\x3e:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc 网络请求模块的actions\n **\/\n\n\/\/ fetch 需要使用 Promise 的 polyfill\nimport {\n  pendingTask, \/\/ The action key for modifying loading state\n  begin, \/\/ The action value if a \x26quot;long\x26quot; running task begun\n  end \/\/ The action value if a \x26quot;long\x26quot; running task ended\n} from \x27react-redux-spinner\x27;\nimport \x27babel-polyfill\x27\nimport fetch from \x27isomorphic-fetch\x27\nimport Immutable from \x27immutable\x27\nimport * as CONFIG from \x27.\/config\x27;   \/\/请求的配置文件\nimport * as TYPES from \x27.\/types\x27;\n\nexport function request(route, params, dispatch, success=null, error=null, { method=\x27GET\x27, headers={}, body=null } = {}) {\n  dispatch({type: TYPES.REQUEST_PEDDING, [ pendingTask ]: begin})\n  \/\/ 处理query\n  const p = params ? \x27?\x27 \x2b Object.entries(params).map( (i)=\x3e `${i[0]}=${encodeURI(i[1])}` ).join(\x27\x26amp;\x27) : \x27\x27\n  const uri = `${ CONFIG.API_URI }${ route }${ p }`\n  let data = {method: method, headers: headers}\n  if (method!=\x27GET\x27) data.body = body\n  fetch(uri, data)\n    .then((response) =\x3e {\n      dispatch({type: TYPES.REQUEST_DONE, [ pendingTask ]: end})\n      return response.json()\n    })\n    .then((data) =\x3e {\n      if (String(data.code) == \x270\x27) {\n        if (method !== \x27GET\x27 ) dispatch({type: TYPES.REQUEST_SUCCESS});\n        success \x26amp;\x26amp; success(data);\n      } else {\n        console.log(data.error)\n        dispatch({type: TYPES.REQUEST_ERROR, ...data})\n        error \x26amp;\x26amp; error(data)\n      }\n    })\n    .catch((error) =\x3e {\n        console.warn(error)\n    })\n}\n\nexport function requestClean() {\n  return { type: TYPES.REQUEST_CLEAN }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * @desc 网络请求模块的actions\n **\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ fetch 需要使用 Promise 的 polyfill\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {\n  pendingTask, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The action key for modifying loading state\x3c\/span\x3e\n  begin, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The action value if a \x22long\x22 running task begun\x3c\/span\x3e\n  end \x3cspan class=\x22hljs-comment\x22\x3e\/\/ The action value if a \x22long\x22 running task ended\x3c\/span\x3e\n} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux-spinner\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27babel-polyfill\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e fetch \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27isomorphic-fetch\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Immutable \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27immutable\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e CONFIG \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/config\x27\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/请求的配置文件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e TYPES \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/types\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erequest\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eroute, params, dispatch, success=null, error=null, { method=\x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e, headers={}, body=null } = {}\x3c\/span\x3e) \x3c\/span\x3e{\n  dispatch({\x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: TYPES.REQUEST_PEDDING, [ pendingTask ]: begin})\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 处理query\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e p = params ? \x3cspan class=\x22hljs-string\x22\x3e\x27?\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.entries(params).map( \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ei\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${i[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]}\x3c\/span\x3e=\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-built_in\x22\x3eencodeURI\x3c\/span\x3e(i[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e])}\x3c\/span\x3e`\x3c\/span\x3e ).join(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26amp;\x27\x3c\/span\x3e) : \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e uri = \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${ CONFIG.API_URI }\x3c\/span\x3e\x3cspan class=\x22hljs-subst\x22\x3e${ route }\x3c\/span\x3e\x3cspan class=\x22hljs-subst\x22\x3e${ p }\x3c\/span\x3e`\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = {\x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: method, \x3cspan class=\x22hljs-attr\x22\x3eheaders\x3c\/span\x3e: headers}\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (method!=\x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e) data.body = body\n  fetch(uri, data)\n    .then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      dispatch({\x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: TYPES.REQUEST_DONE, [ pendingTask ]: end})\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e response.json()\n    })\n    .then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3eString\x3c\/span\x3e(data.code) == \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (method !== \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e ) dispatch({\x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: TYPES.REQUEST_SUCCESS});\n        success \x26amp;\x26amp; success(data);\n      } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data.error)\n        dispatch({\x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: TYPES.REQUEST_ERROR, ...data})\n        error \x26amp;\x26amp; error(data)\n      }\n    })\n    .catch(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.warn(error)\n    })\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erequestClean\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: TYPES.REQUEST_CLEAN }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后编写对应的\x3ccode\x3ereducer\x3c\/code\x3e操作\x3ccode\x3estate\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Immutable from \x27immutable\x27;\nimport * as TYPES from \x27..\/actions\/types\x27;\nimport { createReducer } from \x27redux-immutablejs\x27\n\nexport default createReducer(Immutable.fromJS({status: null, error: null}), {\n  [TYPES.REQUEST_ERROR]: (state, action) =\x3e {\n    return state.merge({\n        status: \x27error\x27,\n        code: action.code,\n        error: Immutable.fromJS(action.error),\n    })\n  },\n  [TYPES.REQUEST_CLEAN]: (state, action) =\x3e {\n    return state.merge({\n        status: null,\n        error: null,\n    })\n  },\n  [TYPES.REQUEST_SUCCESS]: (state, action) =\x3e {\n    return state.merge({\n        status: \x27success\x27,\n        error: null,\n    })\n  }\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eimport Immutable \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27immutable\x27;\nimport * as TYPES \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27..\/actions\/types\x27;\nimport { createReducer } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27redux-immutablejs\x27\n\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e createReducer(Immutable.\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3eJS({status: null, error: null}), {\n  [TYPES.REQUEST_ERROR]: (\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action) =\x26gt; {\n    return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.merge({\n        status: \x27error\x27,\n        code: action.code,\n        error: Immutable.\x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3eJS(action.error),\n    })\n  },\n  [TYPES.REQUEST_CLEAN]: (\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action) =\x26gt; {\n    return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.merge({\n        status: null,\n        error: null,\n    })\n  },\n  [TYPES.REQUEST_SUCCESS]: (\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, action) =\x26gt; {\n    return \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.merge({\n        status: \x27success\x27,\n        error: null,\n    })\n  }\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在\x3ccode\x3ereducers\x3c\/code\x3e的\x3ccode\x3eindex.js\x3c\/code\x3e里对外暴露接口\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export request from \x27.\/request\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clean\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e request \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/request\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为什么要做这一步呢？因为我们需要在\x3ccode\x3econfigureStore.js\x3c\/code\x3e里利用\x3ccode\x3ecombineReducers\x3c\/code\x3e对所有的\x3ccode\x3ereducer\x3c\/code\x3e进行进一步的结合处理：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createStore, combineReducers, compose, applyMiddleware } from \x27redux\x27\nimport thunkMiddleware from \x27redux-thunk\x27\nimport createLogger from \x27redux-logger\x27\nimport * as reducers from \x27.\/reducers\x27\nimport { routerReducer, routerMiddleware } from \x27react-router-redux\x27\nimport { pendingTasksReducer } from \x27react-redux-spinner\x27\n\nexport default function configureStore(history, initialState) {\n  const reducer = combineReducers({\n    ...reducers,\n    routing: routerReducer,\n    pendingTasks: pendingTasksReducer,\n  })\n  const store = createStore(\n    reducer,\n    initialState,\n    compose(\n      applyMiddleware(\n        thunkMiddleware,\n        routerMiddleware(history) \n      )\n    )\n  )\n  return store\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore, combineReducers, compose, applyMiddleware } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e thunkMiddleware \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-thunk\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e createLogger \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-logger\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e reducers \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/reducers\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { routerReducer, routerMiddleware } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { pendingTasksReducer } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux-spinner\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3econfigureStore\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ehistory, initialState\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = combineReducers({\n    ...reducers,\n    \x3cspan class=\x22hljs-attr\x22\x3erouting\x3c\/span\x3e: routerReducer,\n    \x3cspan class=\x22hljs-attr\x22\x3ependingTasks\x3c\/span\x3e: pendingTasksReducer,\n  })\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(\n    reducer,\n    initialState,\n    compose(\n      applyMiddleware(\n        thunkMiddleware,\n        routerMiddleware(history) \n      )\n    )\n  )\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e store\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来就可以在\x3ccode\x3econtainer\x3c\/code\x3e里使用了，比如登录模块：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * @desc 登录模块 container\n * @createDate 2016-05-16\n * @author Jafeney\x3c692270687@qq.com\x3e\n **\/\nimport React, { Component } from \x27react\x27\nimport { bindActionCreators } from \x27redux\x27\nimport { connect } from \x27react-redux\x27\nimport { replace } from \x27react-router-redux\x27\nimport { login } from \x27..\/..\/actions\/user\x27\nimport { requestClean } from \x27..\/..\/actions\/request\x27\nimport CheckUserMixin from \x27..\/..\/mixins\/CheckUser\x27\nimport PureRenderMixin from \x27..\/..\/mixins\/PureRender\x27\nimport \x27..\/style.less\x27;\n\nclass Login extends Component {\n    constructor() {\n        super()\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        \/\/ 如果已经登录不触发深度比较\n        if (nextProps.user.getIn([\x27login\x27, \x27status\x27])==\x27logged\x27) {\n            this.toMain()\n            return true\n        }\n        return PureRenderMixin.deepCompare(this, nextProps, nextState)\n    }\n    \/\/ 检查登录态\n    componentDidMount() {\n        let { user } = this.props;\n        if (CheckUserMixin.isLogged(user)) this.toMain()\n    }\n    \/\/ 初始化页面\n    toMain() {\n        this.props.actions.replace(\x27\/\x27)\n        this.props.actions.requestClean()\n    }\n    \/\/ 执行登录\n    login() {\n        const userName = this.refs[\x27J_username\x27].value, password = this.refs[\x27J_password\x27].value\n        if (userName \x26amp;\x26amp; password) {\n            this.props.actions.login({username: userName, password: password})\n        }\n    }\n    \/\/ 绑定回车事件\n    onEnter(event) {\n        var e = event || window.event || arguments.callee.caller.arguments[0];\n        if(e \x26amp;\x26amp; e.keyCode==13) { \/\/ enter 键\n             this.login()\n        }\n    }\n    render() {\n        let { user } = this.props\n        return (\n            \x3cdiv className=\x26quot;wrapper\x26quot; onKeyPress={()=\x3ethis.onEnter()}\x3e\n                \x3cdiv className=\x26quot;containers\x26quot;\x3e\n                    \x3cdiv className=\x26quot;logo\x26quot;\x3e\x3c\/div\x3e\n                    \x3cdiv className=\x26quot;content\x26quot;\x3e\n                        \x3cdiv className=\x26quot;header\x26quot;\x3e会员登录\x3c\/div\x3e\n                        \x3cdiv className=\x26quot;mainer\x26quot;\x3e\n                            \x3cdiv className=\x26quot;input-group\x26quot;\x3e\n                                \x3cinput ref=\x26quot;J_username\x26quot; type=\x26quot;text\x26quot; placeholder=\x26quot;手机号码\x26quot; className=\x26quot;input\x26quot; \/\x3e\n                                \x3clabel className=\x26quot;check-info\x26quot; ref=\x26quot;J_username-check\x26quot;\x3e\x3c\/label\x3e\n                            \x3c\/div\x3e\n                            \x3cdiv className=\x26quot;input-group\x26quot;\x3e\n                                \x3cinput ref=\x26quot;J_password\x26quot; type=\x26quot;password\x26quot; placeholder=\x26quot;登录密码\x26quot; className=\x26quot;input\x26quot; \/\x3e\n                                \x3clabel className=\x26quot;check-info\x26quot; ref=\x26quot;J_password-check\x26quot;\x3e\x3c\/label\x3e\n                            \x3c\/div\x3e\n                            \x3cdiv className=\x26quot;input-group\x26quot;\x3e\n                                \x3cspan ref=\x26quot;J_login\x26quot; onClick={()=\x3ethis.login()} className=\x26quot;login-btn\x26quot;\x3e登录\x3c\/span\x3e\n                                \x3cspan className=\x26quot;login-info\x26quot;\x3e\n                                    \x3ca ref=\x26quot;J_register\x26quot; href=\x26quot;#\/register\x26quot; className=\x26quot;register\x26quot;\x3e免费注册\x3c\/a\x3e |\n                                    \x3ca ref=\x26quot;J_forget\x26quot; href=\x26quot;#\/password\x26quot; className=\x26quot;forget\x26quot;\x3e忘记密码 ?\x3c\/a\x3e\n                                \x3c\/span\x3e\n                            \x3c\/div\x3e\n                            \x3cdiv className=\x26quot;form-error\x26quot;\x3e\n                                { user.getIn([\x27login\x27, \x27error\x27, \x27message\x27]) }\n                            \x3c\/div\x3e\n                        \x3c\/div\x3e\n                    \x3c\/div\x3e\n                \x3c\/div\x3e\n            \x3c\/div\x3e\n        )\n    }\n}\n\n\/\/ 下面是redux的核心方法\nfunction mapStateToProps(state) {\n    return {\n        user: state.user\n    }\n}\nfunction mapDispatchToProps(dispatch) {\n    return { actions: bindActionCreators({ login, requestClean, replace }, dispatch) }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * \x3cspan class=\x22hljs-doctag\x22\x3e@desc\x3c\/span\x3e 登录模块 container\n * \x3cspan class=\x22hljs-doctag\x22\x3e@createDate\x3c\/span\x3e 2016-05-16\n * \x3cspan class=\x22hljs-doctag\x22\x3e@author\x3c\/span\x3e Jafeney\x26lt;692270687\x3cspan class=\x22hljs-doctag\x22\x3e@qq\x3c\/span\x3e.com\x26gt;\n **\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } from \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { bindActionCreators } from \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { connect } from \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { replace } from \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { login } from \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/actions\/user\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { requestClean } from \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/actions\/request\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e CheckUserMixin from \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/mixins\/CheckUser\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PureRenderMixin from \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/mixins\/PureRender\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/style.less\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eLogin\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e() {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e()\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果已经登录不触发深度比较\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (nextProps.user.getIn([\x3cspan class=\x22hljs-string\x22\x3e\x27login\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27status\x27\x3c\/span\x3e])==\x3cspan class=\x22hljs-string\x22\x3e\x27logged\x27\x3c\/span\x3e) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.toMain()\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e PureRenderMixin.deepCompare(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, nextProps, nextState)\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检查登录态\x3c\/span\x3e\n    componentDidMount() {\n        let { user } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (CheckUserMixin.isLogged(user)) \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.toMain()\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化页面\x3c\/span\x3e\n    toMain() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.actions.replace(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e)\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.actions.requestClean()\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 执行登录\x3c\/span\x3e\n    login() {\n        const userName = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs[\x3cspan class=\x22hljs-string\x22\x3e\x27J_username\x27\x3c\/span\x3e].value, password = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.refs[\x3cspan class=\x22hljs-string\x22\x3e\x27J_password\x27\x3c\/span\x3e].value\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (userName \x26amp;\x26amp; password) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.actions.login({username: userName, password: password})\n        }\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 绑定回车事件\x3c\/span\x3e\n    onEnter(event) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e e = event || window.event || arguments.callee.caller.arguments[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(e \x26amp;\x26amp; e.keyCode==\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ enter 键\x3c\/span\x3e\n             \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.login()\n        }\n    }\n    render() {\n        let { user } = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22wrapper\x22\x3c\/span\x3e onKeyPress={()=\x26gt;\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.onEnter()}\x26gt;\n                \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22containers\x22\x3c\/span\x3e\x26gt;\n                    \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22logo\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n                    \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;\n                        \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22header\x22\x3c\/span\x3e\x26gt;会员登录\x26lt;\/div\x26gt;\n                        \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22mainer\x22\x3c\/span\x3e\x26gt;\n                            \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22input-group\x22\x3c\/span\x3e\x26gt;\n                                \x26lt;input ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_username\x22\x3c\/span\x3e type=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e placeholder=\x3cspan class=\x22hljs-string\x22\x3e\x22手机号码\x22\x3c\/span\x3e className=\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e \/\x26gt;\n                                \x26lt;label className=\x3cspan class=\x22hljs-string\x22\x3e\x22check-info\x22\x3c\/span\x3e ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_username-check\x22\x3c\/span\x3e\x26gt;\x26lt;\/label\x26gt;\n                            \x26lt;\/div\x26gt;\n                            \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22input-group\x22\x3c\/span\x3e\x26gt;\n                                \x26lt;input ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_password\x22\x3c\/span\x3e type=\x3cspan class=\x22hljs-string\x22\x3e\x22password\x22\x3c\/span\x3e placeholder=\x3cspan class=\x22hljs-string\x22\x3e\x22登录密码\x22\x3c\/span\x3e className=\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e \/\x26gt;\n                                \x26lt;label className=\x3cspan class=\x22hljs-string\x22\x3e\x22check-info\x22\x3c\/span\x3e ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_password-check\x22\x3c\/span\x3e\x26gt;\x26lt;\/label\x26gt;\n                            \x26lt;\/div\x26gt;\n                            \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22input-group\x22\x3c\/span\x3e\x26gt;\n                                \x26lt;span ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_login\x22\x3c\/span\x3e onClick={()=\x26gt;\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.login()} className=\x3cspan class=\x22hljs-string\x22\x3e\x22login-btn\x22\x3c\/span\x3e\x26gt;登录\x26lt;\/span\x26gt;\n                                \x26lt;span className=\x3cspan class=\x22hljs-string\x22\x3e\x22login-info\x22\x3c\/span\x3e\x26gt;\n                                    \x26lt;a ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_register\x22\x3c\/span\x3e href=\x3cspan class=\x22hljs-string\x22\x3e\x22#\/register\x22\x3c\/span\x3e className=\x3cspan class=\x22hljs-string\x22\x3e\x22register\x22\x3c\/span\x3e\x26gt;免费注册\x26lt;\/a\x26gt; |\n                                    \x26lt;a ref=\x3cspan class=\x22hljs-string\x22\x3e\x22J_forget\x22\x3c\/span\x3e href=\x3cspan class=\x22hljs-string\x22\x3e\x22#\/password\x22\x3c\/span\x3e className=\x3cspan class=\x22hljs-string\x22\x3e\x22forget\x22\x3c\/span\x3e\x26gt;忘记密码 ?\x26lt;\/a\x26gt;\n                                \x26lt;\/span\x26gt;\n                            \x26lt;\/div\x26gt;\n                            \x26lt;div className=\x3cspan class=\x22hljs-string\x22\x3e\x22form-error\x22\x3c\/span\x3e\x26gt;\n                                { user.getIn([\x3cspan class=\x22hljs-string\x22\x3e\x27login\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27message\x27\x3c\/span\x3e]) }\n                            \x26lt;\/div\x26gt;\n                        \x26lt;\/div\x26gt;\n                    \x26lt;\/div\x26gt;\n                \x26lt;\/div\x26gt;\n            \x26lt;\/div\x26gt;\n        )\n    }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 下面是redux的核心方法\x3c\/span\x3e\nfunction mapStateToProps(state) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        user: state.user\n    }\n}\nfunction mapDispatchToProps(dispatch) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { actions: bindActionCreators({ login, requestClean, replace }, dispatch) }\n}\nexport \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e connect(mapStateToProps, mapDispatchToProps)(Login)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：通过以上方式，在组件内部\x3ccode\x3eactions\x3c\/code\x3e里挂载的方法就可以通过\x3ccode\x3ethis.props\x3c\/code\x3e取得了。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch1 id=\x22articleHeader20\x22\x3e参考\x3c\/h1\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/20914387\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《webpack 性能优化》\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000004208610\x22\x3e《Redux系列01：从一个简单例子了解action、store、reducer》\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3chr\x3e\n\x3cp\x3e@欢迎关注我的 \x3ca href=\x22https:\/\/github.com\/Jafeney\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3egithub\x3c\/code\x3e\x3c\/a\x3e 和 \x3ca href=\x22http:\/\/jafeney.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e个人博客 －Jafeney\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>基于Redux架构的单页应用开发总结</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006067018">https://segmentfault.com/a/1190000006067018</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/kttlr3zcdkk/" target="_blank">https://alili.tech/archive/kttlr3zcdkk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>