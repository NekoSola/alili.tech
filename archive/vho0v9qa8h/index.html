<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="手把手教你结合commitizen 搭建属于自己的项目git commit 校验工具"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>手把手教你结合commitizen 搭建属于自己的项目git commit 校验工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vho0v9qa8h/",
				"appid": "1613049289050283", 
				"title": "手把手教你结合commitizen 搭建属于自己的项目git commit 校验工具 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-15T02:30:44"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4giggnxbcv6/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/dl6xavodkpp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&is_video=false&description=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvho0v9qa8h%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e7%bb%93%e5%90%88commitizen%20%e6%90%ad%e5%bb%ba%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%e9%a1%b9%e7%9b%aegit%20commit%20%e6%a0%a1%e9%aa%8c%e5%b7%a5%e5%85%b7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">手把手教你结合commitizen 搭建属于自己的项目git commit 校验工具</h1><div class="meta"><div class="postdate"><time datetime="2019-02-15" itemprop="datePublished">2019-02-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e先丢出最终版的index.js文件内容\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#!\/usr\/bin\/env node\n\x26quot;use strict\x26quot;;\nconst path = require(\x27path\x27);\nconst editJsonFile = require(\x26quot;edit-json-file\x26quot;);\nconst arg = process.argv\n\/\/ 初始化my-commit ,将部分脚本写入到package.json中\nif (arg[2] \x26amp;\x26amp; arg[2] === \x27init\x27) {\n  \/\/ If the file doesn\x27t exist, the content will be an empty object by default.\n  let file = editJsonFile(`${process.cwd()}\/package.json`);\n  \/\/ Set a couple of fields\n  file.set(\x26quot;husky\x26quot;, {\x26quot;hooks\x26quot;: {\n    \x26quot;pre-commit\x26quot;: \x26quot;lint-staged\x26quot;\n  \x22}}\x22);\n  file.set(\x26quot;lint-staged\x26quot;, {\n    \x26quot;src\/*.js\x26quot;: \x26quot;[\x27eslint --fix\x27]\x26quot;\n  });\n  \/\/ 询问是否全部使用git add .\n  var List = require(\x27prompt-list\x27);\n  var list = new List({\n    name: \x27order\x27,\n    message: \x27是否默认使用git add .\x27,\n    \/\/ choices may be defined as an array or a function that returns an array\n    choices: [\n      \x27yes\x27,\n      \x27no\x27\n    ]\n  })\n  \/\/ async\n  list.ask(function(answer) {\n    file.set(\x26quot;scripts\x26quot;, {\n      \x26quot;my-ci\x26quot;: answer === \x27yes\x27 ? \x27git add . \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x27 : \x27cross-env .\/node_modules\/.bin\/my-commit\x27\n    });\n    \/\/ Output the content\n    file.save();\n    var shell = require(\x27shelljs\x27);\n    console.log(\x27开始安装依赖\x27);\n    shell.exec(\x27npm i husky --save-dev\x27, {async: true})\n    console.log(\x27正在安装 husky---- \x27);\n    shell.exec(\x27npm i cross-env --save-dev\x27, {async: true})\n    console.log(\x27正在安装cross-env ---- \x27);\n    shell.exec(\x27npm i lint-staged --save-dev\x27, {async: true})\n  })\n} else {\n  const bootstrap = require(\x27commitizen\/dist\/cli\/git-cz\x27).bootstrap;\n  bootstrap({\n    cliPath: path.join(__dirname, \x27..\/..\/node_modules\/commitizen\x27),\n    \/\/ this is new\n    config: {\n      \x26quot;path\x26quot;: \x26quot;cz-conventional-changelog\x26quot;,\n      \x26quot;path\x26quot;: \x26quot;cz-emoji\x26quot;\n    }\n  });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e#!\/usr\/bin\/env node\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x22use strict\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e editJsonFile = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22edit-json-file\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e arg = process.argv\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化my-commit ,将部分脚本写入到package.json中\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (arg[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] \x26amp;\x26amp; arg[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] === \x3cspan class=\x22hljs-string\x22\x3e\x27init\x27\x3c\/span\x3e) {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ If the file doesn\x27t exist, the content will be an empty object by default.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e file = editJsonFile(\x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${process.cwd()}\x3c\/span\x3e\/package.json`\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set a couple of fields\x3c\/span\x3e\n  file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22husky\x22\x3c\/span\x3e, {\x3cspan class=\x22hljs-string\x22\x3e\x22hooks\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22pre-commit\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e\n  \x22}}\x22);\n  file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22src\/*.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22[\x27eslint --fix\x27]\x22\x3c\/span\x3e\n  });\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 询问是否全部使用git add .\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e List = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27prompt-list\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e list = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e List({\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27order\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27是否默认使用git add .\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ choices may be defined as an array or a function that returns an array\x3c\/span\x3e\n    choices: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x27yes\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x27no\x27\x3c\/span\x3e\n    ]\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ async\x3c\/span\x3e\n  list.ask(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eanswer\x3c\/span\x3e) \x3c\/span\x3e{\n    file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: answer === \x3cspan class=\x22hljs-string\x22\x3e\x27yes\x27\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x27git add . \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27cross-env .\/node_modules\/.bin\/my-commit\x27\x3c\/span\x3e\n    });\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Output the content\x3c\/span\x3e\n    file.save();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shell = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27shelljs\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27开始安装依赖\x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i husky --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27正在安装 husky---- \x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i cross-env --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27正在安装cross-env ---- \x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i lint-staged --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n  })\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootstrap = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27commitizen\/dist\/cli\/git-cz\x27\x3c\/span\x3e).bootstrap;\n  bootstrap({\n    \x3cspan class=\x22hljs-attr\x22\x3ecliPath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/node_modules\/commitizen\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this is new\x3c\/span\x3e\n    config: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-conventional-changelog\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-emoji\x22\x3c\/span\x3e\n    }\n  });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e步骤\x3c\/h2\x3e\n\x3ch4\x3e一、创建工具项目\x3c\/h4\x3e\n\x3cblockquote\x3e1.使用git\/gitlab创建一个空的仓库\x3c\/blockquote\x3e\n\x3cblockquote\x3e2.在空仓库中添加\x3ccode\x3eindex.js\x3c\/code\x3e 内容如下\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\n\n#!\/usr\/bin\/env node\n\x26quot;use strict\x26quot;;\nconst bootstrap = require(\x27commitizen\/dist\/cli\/git-cz\x27).bootstrap;\n  bootstrap({\n    cliPath: path.join(__dirname, \x27..\/..\/node_modules\/commitizen\x27),\n    \/\/ this is new\n    config: {\n      \x26quot;path\x26quot;: \x26quot;cz-conventional-changelog\x26quot;\n    }\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-meta\x22\x3e#!\/usr\/bin\/env node\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x22use strict\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootstrap = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27commitizen\/dist\/cli\/git-cz\x27\x3c\/span\x3e).bootstrap;\n  bootstrap({\n    \x3cspan class=\x22hljs-attr\x22\x3ecliPath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/node_modules\/commitizen\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this is new\x3c\/span\x3e\n    config: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-conventional-changelog\x22\x3c\/span\x3e\n    }\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e使用工具到相应的项目（假设插件名称\x3ccode\x3emy-commit\x3c\/code\x3e）\x3c\/h4\x3e\n\x3cblockquote\x3e1.先发布你的工具项目到npm，相当于创建一个npm包、具体怎么发布 这里不做赘述，网上很多教程\x3c\/blockquote\x3e\n\x3cblockquote\x3e2.安装工具（假设插件名称\x3ccode\x3emy-commit\x3c\/code\x3e）\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install my-commit --save-dev\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e my-\x3cspan class=\x22hljs-keyword\x22\x3ecommit\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save-dev\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e3.配置\x3c\/blockquote\x3e\n\x3cp\x3e需要在\x3ccode\x3epackage.json\x3c\/code\x3e的\x3ccode\x3escript\x3c\/code\x3e中添加如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ my-ci 是自己定义的写成什么都可以\n\n\x26quot;my-ci\x26quot;: \x26quot;.\/node_modules\/.bin\/my-commit\x26quot;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ my-ci 是自己定义的写成什么都可以\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/node_modules\/.bin\/my-commit\x22\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e4.配置之后 执行了\x3ccode\x3egit add .\x3c\/code\x3e之后 执行\x3ccode\x3enpm run my-ci\x3c\/code\x3e 将会出现选填补充信息的选项\x3c\/blockquote\x3e\n\x3cp\x3e如果觉得\x3ccode\x3egit add.\x3c\/code\x3e之后再执行 \x3ccode\x3enpm run my-ci\x3c\/code\x3e 有点麻烦，可以直接改成\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ my-ci 是自己定义的写成什么都可以\n\n\x26quot;my-ci\x26quot;: \x26quot;git add. \x26amp;\x26amp; .\/node_modules\/.bin\/my-commit\x26quot;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ my-ci 是自己定义的写成什么都可以\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22git add. \x26amp;\x26amp; .\/node_modules\/.bin\/my-commit\x22\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e5 因为以上命令存在不同系统路径不兼容问题 需要加入 \x3ccode\x3ecross-env\x3c\/code\x3e\n\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install cross-env --save-dev \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode\x3enpm install \x3cspan class=\x22hljs-built_in\x22\x3ecross\x3c\/span\x3e-env --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e6 再次修改\x3ccode\x3epackage.json\x3c\/code\x3e\n\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ my-ci 是自己定义的写成什么都可以\n\n\x26quot;my-ci\x26quot;: \x26quot;git add. \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x26quot;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ my-ci 是自己定义的写成什么都可以\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22git add. \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x22\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当需要提交代码的时候，不用执行\x3ccode\x3egit add .\x3c\/code\x3e 直接执行\x3ccode\x3enpm run my-ci\x3c\/code\x3e即可\x3c\/p\x3e\n\x3cblockquote\x3e7 提示信息加上可爱的表情\x3c\/blockquote\x3e\n\x3cp\x3e需要在\x3ccode\x3eindex.js\x3c\/code\x3e文件中添加 \x3ccode\x3ecz-emoji\x3c\/code\x3e  如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\n\n#!\/usr\/bin\/env node\n\x26quot;use strict\x26quot;;\n\nconst bootstrap = require(\x27commitizen\/dist\/cli\/git-cz\x27).bootstrap;\n  bootstrap({\n    cliPath: path.join(__dirname, \x27..\/..\/node_modules\/commitizen\x27),\n    \/\/ this is new\n    config: {\n      \x26quot;path\x26quot;: \x26quot;cz-conventional-changelog\x26quot;,\n      \x26quot;path\x26quot;: \x26quot;cz-emoji\x26quot;\n    }\n  });\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-meta\x22\x3e#!\/usr\/bin\/env node\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x22use strict\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootstrap = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27commitizen\/dist\/cli\/git-cz\x27\x3c\/span\x3e).bootstrap;\n  bootstrap({\n    \x3cspan class=\x22hljs-attr\x22\x3ecliPath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/node_modules\/commitizen\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this is new\x3c\/span\x3e\n    config: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-conventional-changelog\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-emoji\x22\x3c\/span\x3e\n    }\n  });\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个时候 重新发npm包之后再安装到自己的项目下，执行提交的时候\x3c\/p\x3e\n\x3cblockquote\x3e8 为了增强校验功能，加入\x3ccode\x3eeslint\x3c\/code\x3e对文件进行\x3c\/blockquote\x3e\n\x3cp\x3e这个有点复杂，需要通过\x3ccode\x3elint-staged\x3c\/code\x3e来判断\x3c\/p\x3e\n\x3cp\x3e所以先安装以下依赖\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i husky --save-dev\nnpm i lint-stage --save-dev\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode\x3enpm i husky --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\nnpm i lint-stage --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e配置\x3ccode\x3epackage.json\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 增加属性\n  \x26quot;husky\x26quot;: {\n    \x26quot;hooks\x26quot;: {\n      \x26quot;pre-commit\x26quot;: \x26quot;lint-staged\x26quot;\n    }\n  },\n  \x26quot;lint-staged\x26quot;: {\n    \x26quot;src\/*.js\x26quot;: [\n      \x26quot;eslint --fix\x26quot;\n    ]\n  },\n\/\/ 其中src的具体路径是可以自己配置\n\/\/ 校验规则是基于当前目录的.eslintrc.js 文件，如果有些规则不想要，就配置这个文件\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 增加属性\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e\x22husky\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22hooks\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22pre-commit\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22src\/*.js\x22\x3c\/span\x3e: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x22eslint --fix\x22\x3c\/span\x3e\n    ]\n  },\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 其中src的具体路径是可以自己配置\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 校验规则是基于当前目录的.eslintrc.js 文件，如果有些规则不想要，就配置这个文件\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e 这个时候我们提交代码的时候再输入基本的信息之后会执行一个eslint的代码规则 \x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e 总结以上配置文件 我们需要 \x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e安装的库有\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i my-commit --save-dev\nnpm i cross --save-dev\nnpm i husky --save-dev\nnpm i lint-stage --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode\x3enpm i my-commit --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\nnpm i \x3cspan class=\x22hljs-built_in\x22\x3ecross\x3c\/span\x3e --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\nnpm i husky --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\nnpm i lint-stage --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3e需要配置package.json属性有\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x26quot;script\x26quot;: {\n      ...\n      \x26quot;my-ci\x26quot;: \x26quot;git add. \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x26quot;\n    },\n\n  \x26quot;husky\x26quot;: {\n    \x26quot;hooks\x26quot;: {\n      \x26quot;pre-commit\x26quot;: \x26quot;lint-staged\x26quot;\n    }\n  },\n  \x26quot;lint-staged\x26quot;: {\n    \x26quot;src\/*.js\x26quot;: [\n      \x26quot;eslint --fix\x26quot;\n    ]\n  },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-string\x22\x3e\x22script\x22\x3c\/span\x3e: {\n      ...\n      \x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22git add. \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x22\x3c\/span\x3e\n    },\n\n  \x3cspan class=\x22hljs-string\x22\x3e\x22husky\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22hooks\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22pre-commit\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e\n    }\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22src\/*.js\x22\x3c\/span\x3e: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x22eslint --fix\x22\x3c\/span\x3e\n    ]\n  },\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e\x3cem\x3e 如果每个项目都这么玩。其实有点耗时间，所以我们做了一下自动化 \x3c\/em\x3e\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e10 初步自动化\x3c\/blockquote\x3e\n\x3cp\x3e修改my-commit中的 index.js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#!\/usr\/bin\/env node\n\x26quot;use strict\x26quot;;\nconst path = require(\x27path\x27);\nconst editJsonFile = require(\x26quot;edit-json-file\x26quot;);\nconst arg = process.argv\n\/\/ 初始化my-commit ,将部分脚本写入到package.json中\nif (arg[2] \x26amp;\x26amp; arg[2] === \x27init\x27) {\n  \/\/ If the file doesn\x27t exist, the content will be an empty object by default.\n  let file = editJsonFile(`${process.cwd()}\/package.json`);\n  \/\/ Set a couple of fields\n  file.set(\x26quot;husky\x26quot;, {\x26quot;hooks\x26quot;: {\n    \x26quot;pre-commit\x26quot;: \x26quot;lint-staged\x26quot;\n  \x22}}\x22);\n  file.set(\x26quot;lint-staged\x26quot;, {\n    \x26quot;src\/*.js\x26quot;: \x26quot;[\x27eslint --fix\x27]\x26quot;\n  });\n  \/\/ 询问是否全部使用git add .\n  var List = require(\x27prompt-list\x27);\n  var list = new List({\n    name: \x27order\x27,\n    message: \x27是否默认使用git add .\x27,\n    \/\/ choices may be defined as an array or a function that returns an array\n    choices: [\n      \x27yes\x27,\n      \x27no\x27\n    ]\n  })\n  \/\/ async\n  list.ask(function(answer) {\n    file.set(\x26quot;scripts\x26quot;, {\n      \x26quot;my-ci\x26quot;: answer === \x27yes\x27 ? \x27git add . \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x27 : \x27cross-env .\/node_modules\/.bin\/my-commit\x27\n    });\n    \/\/ Output the content\n    file.save();\n    var shell = require(\x27shelljs\x27);\n    console.log(\x27开始安装依赖\x27);\n    shell.exec(\x27npm i husky --save-dev\x27, {async: true})\n    console.log(\x27正在安装 husky---- \x27);\n    shell.exec(\x27npm i cross-env --save-dev\x27, {async: true})\n    console.log(\x27正在安装cross-env ---- \x27);\n    shell.exec(\x27npm i lint-staged --save-dev\x27, {async: true})\n  })\n} else {\n  const bootstrap = require(\x27commitizen\/dist\/cli\/git-cz\x27).bootstrap;\n  bootstrap({\n    cliPath: path.join(__dirname, \x27..\/..\/node_modules\/commitizen\x27),\n    \/\/ this is new\n    config: {\n      \x26quot;path\x26quot;: \x26quot;cz-conventional-changelog\x26quot;,\n      \x26quot;path\x26quot;: \x26quot;cz-emoji\x26quot;\n    }\n  });\n}\n \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e#!\/usr\/bin\/env node\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x22use strict\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e editJsonFile = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22edit-json-file\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e arg = process.argv\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化my-commit ,将部分脚本写入到package.json中\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (arg[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] \x26amp;\x26amp; arg[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] === \x3cspan class=\x22hljs-string\x22\x3e\x27init\x27\x3c\/span\x3e) {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ If the file doesn\x27t exist, the content will be an empty object by default.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e file = editJsonFile(\x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${process.cwd()}\x3c\/span\x3e\/package.json`\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set a couple of fields\x3c\/span\x3e\n  file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22husky\x22\x3c\/span\x3e, {\x3cspan class=\x22hljs-string\x22\x3e\x22hooks\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22pre-commit\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e\n  \x22}}\x22);\n  file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22lint-staged\x22\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22src\/*.js\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22[\x27eslint --fix\x27]\x22\x3c\/span\x3e\n  });\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 询问是否全部使用git add .\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e List = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27prompt-list\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e list = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e List({\n    \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27order\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27是否默认使用git add .\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ choices may be defined as an array or a function that returns an array\x3c\/span\x3e\n    choices: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x27yes\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x27no\x27\x3c\/span\x3e\n    ]\n  })\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ async\x3c\/span\x3e\n  list.ask(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eanswer\x3c\/span\x3e) \x3c\/span\x3e{\n    file.set(\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22my-ci\x22\x3c\/span\x3e: answer === \x3cspan class=\x22hljs-string\x22\x3e\x27yes\x27\x3c\/span\x3e ? \x3cspan class=\x22hljs-string\x22\x3e\x27git add . \x26amp;\x26amp; cross-env .\/node_modules\/.bin\/my-commit\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27cross-env .\/node_modules\/.bin\/my-commit\x27\x3c\/span\x3e\n    });\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Output the content\x3c\/span\x3e\n    file.save();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e shell = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27shelljs\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27开始安装依赖\x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i husky --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27正在安装 husky---- \x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i cross-env --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27正在安装cross-env ---- \x27\x3c\/span\x3e);\n    shell.exec(\x3cspan class=\x22hljs-string\x22\x3e\x27npm i lint-staged --save-dev\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3easync\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e})\n  })\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e bootstrap = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27commitizen\/dist\/cli\/git-cz\x27\x3c\/span\x3e).bootstrap;\n  bootstrap({\n    \x3cspan class=\x22hljs-attr\x22\x3ecliPath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/node_modules\/commitizen\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ this is new\x3c\/span\x3e\n    config: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-conventional-changelog\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x22path\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cz-emoji\x22\x3c\/span\x3e\n    }\n  });\n}\n \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e清除掉以前配置的package.json\x3c\/p\x3e\n\x3cp\x3e只要两部安装即可\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i my-commit\nnpx my-commit init\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3enpm i \x3cspan class=\x22hljs-keyword\x22\x3emy\x3c\/span\x3e-commit\nnpx \x3cspan class=\x22hljs-keyword\x22\x3emy\x3c\/span\x3e-commit init\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e提交代码的时候直接执行 \x3ccode\x3enpm run my-ci\x3c\/code\x3e 即可\x3c\/p\x3e\n\x3cblockquote\x3e11 更智能（摸索中）\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>手把手教你结合commitizen 搭建属于自己的项目git commit 校验工具</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016776838">https://segmentfault.com/a/1190000016776838</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vho0v9qa8h/" target="_blank">https://alili.tech/archive/vho0v9qa8h/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>