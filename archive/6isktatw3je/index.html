<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用Vue写一个datepicker"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用Vue写一个datepicker | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/6isktatw3je/",
				"appid": "1613049289050283", 
				"title": "使用Vue写一个datepicker | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-06T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/o3p6n8rz76/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/y2zembbxyip/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&text=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&text=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&title=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&is_video=false&description=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&title=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&title=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&title=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6isktatw3je%2f&title=%e4%bd%bf%e7%94%a8Vue%e5%86%99%e4%b8%80%e4%b8%aadatepicker"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用Vue写一个datepicker</h1><div class="meta"><div class="postdate"><time datetime="2019-02-06" itemprop="datePublished">2019-02-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e写插件是很有意思，也很锻炼人，因为这个过程中能发现许多的细节问题。在前端发展的过程中，jQuery无疑是一个重要的里程碑，围绕着这个优秀项目也出现了很多优秀的插件可以直接使用，大大节省了开发者们的时间。jQuery最重要的作用是跨浏览器，而现在浏览器市场虽不完美，但已远没有从前那么惨，数据驱动视图的思想倍受欢迎，大家开始使用前端框架取代jQuery，我个人比较喜欢Vue.js，所以想试着用Vue.js写一个组件出来。\x3c\/p\x3e\n\x3cp\x3e为了发布到npm上，所以给项目地址改名字了，但是内部代码没有改，使用方法比之前方便。\x3cbr\x3eDemo演示: \x3ca href=\x22http:\/\/www.showonne.com\/vue-date\/dist\/browser\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHere\x3c\/a\x3e\x3cbr\x3eGitHub地址: \x3ca href=\x22https:\/\/github.com\/showonne\/vue-date\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHere\x3c\/a\x3e\x3cbr\x3e\x3cdel\x3e\x3cb\x3e希望大家能给个star\x3c\/b\x3e\x3c\/del\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e功能\x26amp;期望\x3c\/h2\x3e\n\x3cp\x3e这个datepicker目前仅实现了一些常用的功能：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e选择时间(\x3cdel\x3e这话说得有点多余\x3cdel\x3e)\x3c\/del\x3e\x3c\/del\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最大\/最小时间限制\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e中\/英文切换(其实也就星期和月份需要切换)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以以\x3ccode\x3e.vue\x3c\/code\x3e形式使用，也可在浏览器环境中直接使用\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e没了。。。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e目录结构\x3c\/h2\x3e\n\x3cp\x3e万事的第一步依然是创建项目，只是单一组件，结构并不复杂，Datepicker.vue是最重要的组件文件，dist是webpack的输出文件夹，index.js是webpack打包的入口文件，最后是webpack的配置文件，用来对我们的库文件进行打包用的。因此项目结构就是这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.\n├── Datepicker.vue\n├── LICENSE\n├── README.md\n├── dist\n│\x26nbsp;\x26nbsp; └── vue-datepicker.js\n├── index.js\n├── package.json\n└── webpack.config.js\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e.\n├── Datepicker\x3cspan class=\x22hljs-selector-class\x22\x3e.vue\x3c\/span\x3e\n├── LICENSE\n├── README\x3cspan class=\x22hljs-selector-class\x22\x3e.md\x3c\/span\x3e\n├── dist\n│\x26nbsp;\x26nbsp; └── vue-datepicker\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n├── package\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n└── webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.config\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e从Datepicker.vue入手\x3c\/h2\x3e\n\x3cp\x3e以\x3ccode\x3e.vue\x3c\/code\x3e的方式写Vue组件是一种特殊写法，每个Vue文件包括\x3ccode\x3etemplate\x3c\/code\x3e, \x3ccode\x3escript\x3c\/code\x3e, \x3ccode\x3estyle\x3c\/code\x3e三部分，\x3ccode\x3etemplate\x3c\/code\x3e最好不要成为片段实例,所以最外层先套一层\x3ccode\x3ediv\x3c\/code\x3e，当做整个组件的根元素。一个datepicker一般由两部分组成，一个用来显示日期的input框，一个用来选择日期的panel，因为我发现input在移动端会自动唤起键盘，所以没有使用input，直接用了div模拟,通过点击事件决定panel的显隐。\x3ccode\x3evalue\x3c\/code\x3e是最终的结果，需要和父组件通信，所以将value写成了prop，在父组件中使用\x3ccode\x3evalue.sync=\x22xxx\x22\x3c\/code\x3e，datepicker的value就和父组件的\x3ccode\x3exxx\x3c\/code\x3e双向绑定了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n    \x3cdiv class=\x26quot;date-picker\x26quot;\x3e\n        \x3cdiv class=\x26quot;input\x26quot; v-text=\x26quot;value\x26quot; @click=\x26quot;panelState = !panelState\x26quot;\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;date-panel\x26quot; v-show=\x26quot;panelState\x26quot;\x3e\n    \x3c\/div\x3e\n\x3c\/template\x3e\n\n\x3cscrip\x3e\n    export default {\n        data () {\n            return {\n                panelState: false \/\/初始值，默认panel关闭\n            }\n        },\n        props: {\n            value: String\n        }\n    }\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3etemplate\x3c\/span\x3e\x26gt;\n    \x26lt;div \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22date-picker\x22\x3c\/span\x3e\x26gt;\n        \x26lt;div \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22input\x22\x3c\/span\x3e v-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e @\x3cspan class=\x22hljs-built_in\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22panelState = !panelState\x22\x3c\/span\x3e\x26gt;\n    \x26lt;\/div\x26gt;\n    \x26lt;div \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22date-panel\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22panelState\x22\x3c\/span\x3e\x26gt;\n    \x26lt;\/div\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3etemplate\x3c\/span\x3e\x26gt;\n\n\x26lt;scrip\x26gt;\n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3edefault\x3c\/span\x3e {\n        data () {\n            \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e {\n                panelState: false \x3cspan class=\x22hljs-comment\x22\x3e\/\/初始值，默认panel关闭\x3c\/span\x3e\n            }\n        },\n        props: {\n            value: \x3cspan class=\x22hljs-keyword\x22\x3eString\x3c\/span\x3e\n        }\n    }\n\x26lt;\/script\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e渲染日期列表\x3c\/h2\x3e\n\x3cp\x3e一个月最少是28天，如果把周日排在开头，那么最少(1号恰好是周日)需要4行，但是每个月天数30，31居多，而且1号又不一定是周日，我索性干脆按最多的情况设计了，共6行，当月日期没填满的地方用上个月或下个月的日期补齐，这样就方便计算了，而且切换月份时候panel高度不会变化。日期列表的数组需要动态计算，Vue提供了\x3ca href=\x22http:\/\/vuejs.org.cn\/api\/#computed\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecomputed\x3c\/a\x3e这个属性，所以直接将日期列表\x3ccode\x3edateList\x3c\/code\x3e写成计算属性。我的方法是将日期列表固定为长度为42的数组，然后将本月，上个月，下个月的日期依次填充。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22computed: {\n    dateList () {\n        \/\/获取当月的天数\n        let currentMonthLength = new Date(this.tmpMonth, this.tmpMonth \x2b 1, 0).getDate()\n        \/\/先将当月的日期塞入dateList\n        let dateList = Array.from({length: currentMonthLength}, (val, index) =\x3e {\n            return {\n                currentMonth: true,\n                value: index \x2b 1\n            }\n        })\n        \/\/获取当月1号的星期是为了确定在1号前需要插多少天\n        let startDay = new Date(this.year, this.tmpMonth, 1).getDay()\n        \/\/确认上个月一共多少天\n        let previousMongthLength = new Date(this.year, this.tmpMonth, 0).getDate()\n    }\n    \/\/在1号前插入上个月日期\n    for(let i = 0, len = startDay; i \x3c len; i\x2b\x2b){\n        dateList = [{previousMonth: true, value: previousMongthLength - i}].concat(dateList)\n    }\n    \/\/补全剩余位置\n    for(let i = 0, item = 1; i \x3c 42; i\x2b\x2b, item\x2b\x2b){\n        dateList[dateList.length] = {nextMonth: true, value: i}\n    }\n    return dateList\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3ecomputed: {\n    dateList () {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取当月的天数\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e currentMonthLength = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).getDate()\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/先将当月的日期塞入dateList\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e dateList = \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e.from({length: currentMonthLength}, \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eval, index\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n                currentMonth: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                value: index \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n            }\n        })\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取当月1号的星期是为了确定在1号前需要插多少天\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e startDay = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.year, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).getDay()\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/确认上个月一共多少天\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e previousMongthLength = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.year, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).getDate()\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/在1号前插入上个月日期\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, len = startDay; i \x26lt; len; i\x2b\x2b){\n        dateList = [{previousMonth: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, value: previousMongthLength - i}].concat(dateList)\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/补全剩余位置\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, item = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e; i\x2b\x2b, item\x2b\x2b){\n        dateList[dateList.length] = {nextMonth: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, value: i}\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e dateList\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里用\x3ccode\x3eArray.from\x3c\/code\x3e来初始化了一个数组，传入一个Array Like，转化成数组，在拼接字符串时候采用了\x3ccode\x3earr[arr.length]\x3c\/code\x3e和\x3ccode\x3e[{}].concat(arr)\x3c\/code\x3e这种方式，因为在JsTips上学到这样做性能更好，文章的最后会贴出相关链接。\x3cbr\x3e这样，日期列表就构建好了，在template中使用\x3ccode\x3ev-for\x3c\/code\x3e循环渲染出来\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul class=\x26quot;date-list\x26quot;\x3e\n    \x3cli v-for=\x26quot;item in dateList\x26quot;\n        v-text=\x26quot;item.value\x26quot; \n        :class=\x26quot;{preMonth: item.previousMonth, nextMonth: item.nextMonth,\n            selected: date === item.value \x26amp;\x26amp; month === tmpMonth \x26amp;\x26amp; item.currentMonth, invalid: validateDate(item)}\x26quot;\n        @click=\x26quot;selectDate(item)\x26quot;\x3e\n    \x3c\/li\x3e\n\x3c\/ul\x3e\n            \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22date-list\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in dateList\x22\x3c\/span\x3e\n        \x3cspan class=\x22hljs-attr\x22\x3ev-text\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.value\x22\x3c\/span\x3e \n        \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{preMonth: item.previousMonth, nextMonth: item.nextMonth,\n            selected: date === item.value \x26amp;\x26amp; month === tmpMonth \x26amp;\x26amp; item.currentMonth, invalid: validateDate(item)}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22\x3c\/span\x3e\n        @\x3cspan class=\x22hljs-attr\x22\x3eclick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectDate(item)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e样式上就可以自己发挥了，怎么喜欢怎么写。需要注意的是循环日期可能会出现上个月或这个月的日期，我通过\x3ccode\x3epreviuosMonth\x3c\/code\x3e,\x3ccode\x3ecurrentMonth\x3c\/code\x3e和\x3ccode\x3enextMonth\x3c\/code\x3e分别做了标记，对其他功能提供判断条件。\x3cbr\x3e年份和月份的列表都是差不多的道理，年份列表的初始值我直接写在了\x3ccode\x3edata\x3c\/code\x3e里，以当前年份为第一个，为了和月份保持一致，每次显示12个，都通过\x3ccode\x3ev-for\x3c\/code\x3e渲染。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\ndata () {\n    return {\n        yearList: Array.from({length: 12}, (value, index) =\x3e new Date().getFullYear() \x2b index)\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haskell\x22\x3e\x3ccode\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edata\x3c\/span\x3e () {\n    \x3cspan class=\x22hljs-title\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-title\x22\x3eyearList\x3c\/span\x3e: \x3cspan class=\x22hljs-type\x22\x3eArray\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3efrom\x3c\/span\x3e({\x3cspan class=\x22hljs-title\x22\x3elength\x3c\/span\x3e: 12}, (\x3cspan class=\x22hljs-title\x22\x3evalue\x3c\/span\x3e, \x3cspan class=\x22hljs-title\x22\x3eindex\x3c\/span\x3e) =\x26gt; new \x3cspan class=\x22hljs-type\x22\x3eDate\x3c\/span\x3e().getFullYear() \x2b index)\x3c\/span\x3e\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e选择日期功能\x3c\/h2\x3e\n\x3cp\x3e选择顺序是：年 -\x26gt; 月 -\x26gt; 日，所以我们可以通过一个状态变量来控制panel中显示的内容，绑定适合的函数切换显示状态。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv\x3e\n    \x3cdiv class=\x26quot;type-year\x26quot; v-show=\x26quot;panelType === \x27year\x27\x26quot;\x3e\n        \x3cul class=\x26quot;year-list\x26quot;\x3e\n          \x3cli v-for=\x26quot;item in yearList\x26quot;\n              v-text=\x26quot;item\x26quot;\n              :class=\x26quot;{selected: item === tmpYear, invalid: validateYear(item)}\x26quot; \n              @click=\x26quot;selectYear(item)\x26quot;\n          \x3e\n          \x3c\/li\x3e\n      \x3c\/ul\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;type-month\x26quot; v-show=\x26quot;panelType === \x27month\x27\x26quot;\x3e\n        \x3cul class=\x26quot;month-list\x26quot;\x3e\n          \x3cli v-for=\x26quot;item in monthList\x26quot;\n              v-text=\x26quot;item | month language\x26quot;\n              :class=\x26quot;{selected: $index === tmpMonth \x26amp;\x26amp; year === tmpYear, invalid: validateMonth($index)}\x26quot; \n              @click=\x26quot;selectMonth($index)\x26quot;\n          \x3e\n          \x3c\/li\x3e\n      \x3c\/ul\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;type-date\x26quot; v-show=\x26quot;panelType === \x27date\x27\x26quot;\x3e\n        \x3cul class=\x26quot;date-list\x26quot;\x3e\n          \x3cli v-for=\x26quot;item in dateList\x26quot;\n              v-text=\x26quot;item.value\x26quot; \n              track-by=\x26quot;$index\x26quot; \n              :class=\x26quot;{preMonth: item.previousMonth, nextMonth: item.nextMonth,\n                  selected: date === item.value \x26amp;\x26amp; month === tmpMonth \x26amp;\x26amp; item.currentMonth, invalid: validateDate(item)}\x26quot;\n              @click=\x26quot;selectDate(item)\x26quot;\x3e\n          \x3c\/li\x3e\n      \x3c\/ul\x3e\n    \x3c\/div\x3e\n\x3c\/div\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type-year\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22panelType === \x27year\x27\x22\x3c\/span\x3e\x26gt;\n        \x26lt;ul \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22year-list\x22\x3c\/span\x3e\x26gt;\n          \x26lt;li v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in yearList\x22\x3c\/span\x3e\n              v-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item\x22\x3c\/span\x3e\n              :\x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{selected: item === tmpYear, invalid: validateYear(item)}\x22\x3c\/span\x3e \n              @click=\x3cspan class=\x22hljs-string\x22\x3e\x22selectYear(item)\x22\x3c\/span\x3e\n          \x26gt;\n          \x26lt;\/li\x26gt;\n      \x26lt;\/ul\x26gt;\n    \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type-month\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22panelType === \x27month\x27\x22\x3c\/span\x3e\x26gt;\n        \x26lt;ul \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22month-list\x22\x3c\/span\x3e\x26gt;\n          \x26lt;li v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in monthList\x22\x3c\/span\x3e\n              v-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item | month language\x22\x3c\/span\x3e\n              :\x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{selected: $index === tmpMonth \x26amp;\x26amp; year === tmpYear, invalid: validateMonth($index)}\x22\x3c\/span\x3e \n              @click=\x3cspan class=\x22hljs-string\x22\x3e\x22selectMonth($index)\x22\x3c\/span\x3e\n          \x26gt;\n          \x26lt;\/li\x26gt;\n      \x26lt;\/ul\x26gt;\n    \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22type-date\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22panelType === \x27date\x27\x22\x3c\/span\x3e\x26gt;\n        \x26lt;ul \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22date-list\x22\x3c\/span\x3e\x26gt;\n          \x26lt;li v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in dateList\x22\x3c\/span\x3e\n              v-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.value\x22\x3c\/span\x3e \n              track-\x3cspan class=\x22hljs-keyword\x22\x3eby\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$index\x22\x3c\/span\x3e \n              :\x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{preMonth: item.previousMonth, nextMonth: item.nextMonth,\n                  selected: date === item.value \x26amp;\x26amp; month === tmpMonth \x26amp;\x26amp; item.currentMonth, invalid: validateDate(item)}\x22\x3c\/span\x3e\n              @click=\x3cspan class=\x22hljs-string\x22\x3e\x22selectDate(item)\x22\x3c\/span\x3e\x26gt;\n          \x26lt;\/li\x26gt;\n      \x26lt;\/ul\x26gt;\n    \x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e选择日期的方法就不细说了，在\x3ccode\x3eselectYear\x3c\/code\x3e,\x3ccode\x3eselectMonth\x3c\/code\x3e中对年份，月份变量赋值，再分别将\x3ccode\x3epanelType\x3c\/code\x3e推向下一步就实现了日期选择功能。\x3cbr\x3e不过在未选择完日期之前，你可能不希望当前年月的真实值发生变化，所以在这些方法中可先将选择的值赋给一个临时变量，等到\x3ccode\x3eseletDate\x3c\/code\x3e的时候再一次性全部赋值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22selectMonth (month) {\n    if(this.validateMonth(month)){\n        return\n    }else{\n        \/\/临时变量\n        this.tmpMonth = month\n        \/\/切换panel状态\n        this.panelType = \x27date\x27\n    }\n},\nselectDate (date) {\n    \/\/validate logic above...\n    \/\/一次性全部赋值\n    this.year = tmpYear\n    this.month = tmpMonth\n    this.date = date.value\n    this.value = `${this.tmpYear}-${(\x270\x27 \x2b (this.month \x2b 1)).slice(-2)}-${(\x270\x27 \x2b this.date).slice(-2)}`\n    \/\/选择完日期后，panel自动隐藏\n    this.panelState = false\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3eselectMonth (month) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.validateMonth(month)){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/临时变量\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth = month\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/切换panel状态\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.panelType = \x3cspan class=\x22hljs-string\x22\x3e\x27date\x27\x3c\/span\x3e\n    }\n},\nselectDate (date) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/validate logic above...\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/一次性全部赋值\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.year = tmpYear\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.month = tmpMonth\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.date = date.value\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.value = `${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpYear}-${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.month \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}-${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.date).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}`\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/选择完日期后，panel自动隐藏\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.panelState = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e最大\/小时间限制\x3c\/h2\x3e\n\x3cp\x3e最大\/小值是需要从父组件传递下来的，因此应该使用\x3ccode\x3eprops\x3c\/code\x3e，另外，这个值可以是字符串，也应该可以是变量(比如同时存在两个datepicker，第二个的日期不能比第一个大这种逻辑)，所以应该使用\x3ca href=\x22http:\/\/vuejs.org.cn\/api\/#v-bind\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDynamically bind\x3c\/a\x3e的方式传值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdatepicker :value.sync=\x26quot;start\x26quot;\x3e\x3c\/datepicker\x3e\n\x3c!-- 现在min的值会随着start的变化而变化 --\x3e\n\x3cdatepicker :value.sync=\x26quot;end\x26quot; :min=\x26quot;start\x26quot; \x3e\x3c\/datepicker\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3edatepicker\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:value.sync\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22start\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3edatepicker\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 现在min的值会随着start的变化而变化 --\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3edatepicker\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:value.sync\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22end\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:min\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22start\x22\x3c\/span\x3e \x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3edatepicker\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e增加了限制条件，对于不合法的日期，其按钮应该变为置灰状态，我用了比较时间戳的方式来判断日期是否合法，因为就算当前panel中的日期是跨年或是跨月的，通过日期构造函数创建时都会帮你转换成对应的合法值，省去很多判断的麻烦：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nnew Date(2015, 0, 0).getTime() === new Date(2014, 11, 31).getTime() \/\/true\nnew Date(2015, 12, 0).getTime() === new Date(2016, 0, 0).getTime() \/\/true\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3e\nnew Date(\x3cspan class=\x22hljs-number\x22\x3e2015\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).getTime() === new Date(\x3cspan class=\x22hljs-number\x22\x3e2014\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e31\x3c\/span\x3e).getTime() \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\nnew Date(\x3cspan class=\x22hljs-number\x22\x3e2015\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).getTime() === new Date(\x3cspan class=\x22hljs-number\x22\x3e2016\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e).getTime() \x3cspan class=\x22hljs-comment\x22\x3e\/\/true\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因此验证日期是否合法的函数是这样的:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nvalidateDate (date) {\n  let mon = this.tmpMonth\n  if(date.previousMonth){\n      mon -= 1\n  }else if(date.nextMonth){\n      mon \x2b= 1\n  }\n  if(new Date(this.tmpYear, mon, date.value).getTime() \x3e= new Date(this.minYear, this.minMonth - 1, this.minDate).getTime()\n      \x26amp;\x26amp; new Date(this.tmpYear, mon, date.value).getTime() \x3c= new Date(this.maxYear, this.maxMonth - 1, this.maxDate).getTime()){\n      return false\n  }\n  return true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\nvalidateDate (\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e) {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e mon = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpMonth\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.previousMonth){\n      mon -= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.nextMonth){\n      mon \x2b= \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpYear, mon, \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.value).getTime() \x26gt;= \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.minYear, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.minMonth - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.minDate).getTime()\n      \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpYear, mon, \x3cspan class=\x22hljs-built_in\x22\x3edate\x3c\/span\x3e.value).getTime() \x26lt;= \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.maxYear, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.maxMonth - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.maxDate).getTime()){\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e}\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e动态计算位置\x3c\/h2\x3e\n\x3cp\x3e当页面右侧有足够的空间显示时，datepicker的panel会定位为相对于父元素\x3ccode\x3eleft: 0\x3c\/code\x3e的位置，如果没有足够的空间，则应该置于\x3ccode\x3eright: 0\x3c\/code\x3e的位置，这一点可以通过Vue提供的动态样式和样式对象来实现(动态class和动态style其实只是动态props的特例)，而计算位置的时刻，我放在了组件声明周期的\x3ccode\x3eready\x3c\/code\x3e周期中，因为这时组件已经插入到DOM树中，可以获取style进行动态计算：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ready () {\n    if(this.$el.parentNode.offsetWidth \x2b this.$el.parentNode.offsetLeft - this.$el.offsetLeft \x3c= 300){\n        this.coordinates = {right: \x270\x27, top: `${window.getComputedStyle(this.$el.children[0]).offsetHeight \x2b 4}px`}\n    }else{\n        this.coordinates = {left: \x270\x27, top: `${window.getComputedStyle(this.$el.children[0]).offsetHeight \x2b 4}px`}\n    }\n}\n\x3c!-- template中对应的动态style --\x3e\n\x3cdiv :style=\x26quot;coordinates\x26quot;\x3e\x3c\/div\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eready () {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.parentNode.offsetWidth \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.parentNode.offsetLeft - \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.offsetLeft \x26lt;= \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.coordinates = {\x3cspan class=\x22hljs-attr\x22\x3eright\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.getComputedStyle(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.children[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]).offsetHeight \x2b \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e}\x3c\/span\x3epx`\x3c\/span\x3e}\n    }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.coordinates = {\x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.getComputedStyle(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$el.children[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]).offsetHeight \x2b \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e}\x3c\/span\x3epx`\x3c\/span\x3e}\n    }\n}\n\x26lt;!-- template中对应的动态style --\x26gt;\n\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:style\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22coordinates\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了panel的显隐可以平滑过渡，可以使用\x3ccode\x3etransition\x3c\/code\x3e做过渡动画，这里我简单地通过一个0.2秒的透明度过渡让显隐更平滑。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv :style=\x26quot;this.coordinates\x26quot; v-show=\x26quot;panelState\x26quot; transition=\x26quot;toggle\x26quot;\x3e\x3c\/div\x3e\n\n\/\/less syntax\n.toggle{\n    \x26amp;-transition{\n        transition: all ease .2s;\n    }\n    \x26amp;-enter, \x26amp;-leave{\n        opacity: 0;\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs x86asm\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e :style=\x3cspan class=\x22hljs-string\x22\x3e\x22this.coordinates\x22\x3c\/span\x3e v-show=\x3cspan class=\x22hljs-string\x22\x3e\x22panelState\x22\x3c\/span\x3e transition=\x3cspan class=\x22hljs-string\x22\x3e\x22toggle\x22\x3c\/span\x3e\x26gt;\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\n\/\/less syntax\n\x3cspan class=\x22hljs-meta\x22\x3e.toggle\x3c\/span\x3e{\n    \x26amp;-transition{\n\x3cspan class=\x22hljs-symbol\x22\x3e        transition:\x3c\/span\x3e all ease .2s\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n    \x26amp;-\x3cspan class=\x22hljs-keyword\x22\x3eenter\x3c\/span\x3e, \x26amp;-\x3cspan class=\x22hljs-keyword\x22\x3eleave\x3c\/span\x3e{\n\x3cspan class=\x22hljs-symbol\x22\x3e        opacity:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e中英文切换\x3c\/h2\x3e\n\x3cp\x3e这里其实也很简单，这种多语言切换实质就是一个key根据不同的type而输出不同的value，所以使用filter可以很容易的实现它！比如渲染星期的列表:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul class=\x26quot;weeks\x26quot;\x3e\n     \x3cli v-for=\x26quot;item in weekList\x26quot; v-text=\x26quot;item | week language\x26quot;\x3e\x3c\/li\x3e\n \x3c\/ul\x3e\n \nfilters : {\n    week (item, lang){\n        switch (lang) {\n          case \x27en\x27:\n              return {0: \x27Su\x27, 1: \x27Mo\x27, 2: \x27Tu\x27, 3: \x27We\x27, 4: \x27Th\x27, 5: \x27Fr\x27, 6: \x27Sa\x27}[item]\n          case \x27ch\x27:\n              return {0: \x27日\x27, 1: \x27一\x27, 2: \x27二\x27, 3: \x27三\x27, 4: \x27四\x27, 5: \x27五\x27, 6: \x27六\x27}[item]\n          default:\n              return item\n      }\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode\x3e\x26lt;ul \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22weeks\x22\x3c\/span\x3e\x26gt;\n     \x26lt;li v-\x3cspan class=\x22hljs-built_in\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in weekList\x22\x3c\/span\x3e v-\x3cspan class=\x22hljs-built_in\x22\x3etext\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item | week language\x22\x3c\/span\x3e\x26gt;\x26lt;\/li\x26gt;\n \x26lt;\/ul\x26gt;\n \nfilters : {\n    week (item, lang){\n        \x3cspan class=\x22hljs-built_in\x22\x3eswitch\x3c\/span\x3e (lang) {\n          \x3cspan class=\x22hljs-built_in\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27en\x27\x3c\/span\x3e:\n              \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e {\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Su\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Mo\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Tu\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27We\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Th\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Fr\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Sa\x27\x3c\/span\x3e}[item]\n          \x3cspan class=\x22hljs-built_in\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27ch\x27\x3c\/span\x3e:\n              \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e {\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27日\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27一\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27二\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27三\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27四\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27五\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27六\x27\x3c\/span\x3e}[item]\n          \x3cspan class=\x22hljs-built_in\x22\x3edefault\x3c\/span\x3e:\n              \x3cspan class=\x22hljs-built_in\x22\x3ereturn\x3c\/span\x3e item\n      }\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e多种使用方式\x3c\/h2\x3e\n\x3cp\x3e对于一个Vue组件，如果是使用\x3ccode\x3ewebpack \x2b vue-loader\x3c\/code\x3e的\x3ccode\x3e.vue\x3c\/code\x3e单文件写法，我希望这样使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/App.vue\n\x3cscript\x3e\n    import datepicker from \x27path\/to\/datepicker.vue\x27\n    export default {\n        components: { datepicker}\n    }\n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dust\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\/\/App.vue\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e datepicker \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27path\/to\/datepicker.vue\x27\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e{\n        components: { datepicker}\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22undefined\x22\x3e\n    }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果是直接在浏览器中使用，那么我希望\x3ccode\x3edatepicker\x3c\/code\x3e这个组件是暴露在全局下的，可以这么使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/index.html\n\x3chtml\x3e\n    \x3cscript src=\x26quot;path\/to\/vue.js\x26quot;\x3e\x3c\/script\x3e\n    \x3cscript src=\x26quot;path\/to\/datepicker.js\x26quot;\x3e\x3c\/script\x3e\n    \x3cbody\x3e\n        \x3cdiv id=\x26quot;app\x26quot;\x3e\x3c\/div\x3e\n        \x3cscript\x3e\n            new Vue({\n                el: \x27#app\x27,\n                components: { datepicker }\n            })\n        \x3c\/script\x3e\n    \x3c\/body\x3e\n\x3c\/html\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\n\/\/index.html\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22path\/to\/vue.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22path\/to\/datepicker.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue({\n                el: \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e,\n                components: { datepicker }\n            })\n        \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我选择了webpack作为打包工具，使用webpack的\x3ccode\x3eoutput.library\x3c\/code\x3e和\x3ccode\x3eoutput.linraryTarget\x3c\/code\x3e这两个属性就可以把你的bundle文件作为库文件打包。\x3ccode\x3elibrary\x3c\/code\x3e定义了库的名字，\x3ccode\x3elibraryTarget\x3c\/code\x3e定义了你想要打包的格式，具体可以看文档。我希望自己的库可以通过\x3ccode\x3edatepicker\x3c\/code\x3e加载到，并且打包成\x3ccode\x3eumd\x3c\/code\x3e格式，因此我的\x3ccode\x3ewebpack.config.js\x3c\/code\x3e是这样的:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    entry: \x27.\/index.js\x27,\n    output: {\n        path: \x27.\/dist\x27,\n        library: \x27datepicker\x27,\n        filename: \x27vue-datepicker.js\x27,\n        libraryTarget: \x27umd\x27\n    },\n    module: {\n        loaders: [\n            {test: \/\\.vue$\/, loaders: [\x27vue\x27]},\n            {test: \/\\.js$\/, exclude: \/node_modules\/, loaders: [\x27babel\x27]}\n        ]\n    }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3emodule.exports = {\n\x3cspan class=\x22hljs-symbol\x22\x3e    entry:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/index.js\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e    output:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        path:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        library:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27datepicker\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        filename:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue-datepicker.js\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e        libraryTarget:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27umd\x27\x3c\/span\x3e\n    },\n\x3cspan class=\x22hljs-symbol\x22\x3e    module:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        loaders:\x3c\/span\x3e [\n            {\x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.vue$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloaders:\x3c\/span\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e]},\n            {\x3cspan class=\x22hljs-string\x22\x3etest:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eexclude:\x3c\/span\x3e \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eloaders:\x3c\/span\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x27babel\x27\x3c\/span\x3e]}\n        ]\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e打包完成的模块就是一个\x3ccode\x3eumd\x3c\/code\x3e格式的模块啦，可以在浏览器中直接使用，也可以配合require.js等模块加载器使用！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e适配 Vue 2.x\x3c\/h2\x3e\n\x3cp\x3eVue 2.0已经发布有段时间了，现在把之前的组件适配到Vue 2.0。迁移过程还是很顺利的，核心API改动不大，可以借助\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-migration-helper\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-migration-helper\x3c\/a\x3e来找出废弃的API再逐步修改。这里只列举一些我需要修改的API。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3efilter\x3c\/h2\x3e\n\x3cp\x3e2.0中的filter只能在mustache绑定中使用，如果想在指令式绑定中绑定过滤后的值，可以选择计算属性。我在月份和星期的显示中使用到了过滤器来过滤语言类型，但我之前是在指令式绑定中使用的filter，所以需要如下修改，：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/修改前\n\x3cdiv class=\x26quot;month-box\x26quot; @click=\x26quot;chType(\x27month\x27)\x26quot; v-text=\x26quot;tmpMonth \x2b 1 | month language\x26quot;\x3e\x3c\/div\x3e\n\/\/修改后，filter传参的方式也变了，变成了函数调用的风格\n\x3cdiv class=\x26quot;month-box\x26quot; @click=\x26quot;chType(\x27month\x27)\x26quot;\x3e\x22{{\x22tmpMonth \x2b 1 | month(language)\x22}}\x22\x3c\/div\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改前\x3c\/span\x3e\n\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22month-box\x22\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e@click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22chType(\x27month\x27)\x22\x3c\/span\x3e v-text=\x3cspan class=\x22hljs-string\x22\x3e\x22tmpMonth \x2b 1 | month language\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改后，filter传参的方式也变了，变成了函数调用的风格\x3c\/span\x3e\n\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22month-box\x22\x3c\/span\x3e \x3cspan class=\x22hljs-meta\x22\x3e@click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22chType(\x27month\x27)\x22\x3c\/span\x3e\x26gt;\x22{{\x22tmpMonth \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e | month(language)\x22}}\x22\x26lt;\/div\x26gt;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e移除\x3ccode\x3e$index\x3c\/code\x3e和\x3ccode\x3e$key\x3c\/code\x3e\n\x3c\/h2\x3e\n\x3cp\x3e这两个属性不会在\x3ccode\x3ev-for\x3c\/code\x3e中被自动创建了，如需使用，要在\x3ccode\x3ev-for\x3c\/code\x3e中自行声明：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cli v-for=\x26quot;item in monthList\x26quot; @click=\x26quot;selectMonth($index)\x26quot;\x3e\x3c\/li\x3e\n\/\/\n\x3cli v-for=\x26quot;(item, index) in monthList\x26quot; @click=\x26quot;selectMonth(index)\x26quot;\x3e\x3c\/li\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;li v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in monthList\x22\x3c\/span\x3e @click=\x3cspan class=\x22hljs-string\x22\x3e\x22selectMonth($index)\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x26lt;li v-\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22(item, index) in monthList\x22\x3c\/span\x3e @click=\x3cspan class=\x22hljs-string\x22\x3e\x22selectMonth(index)\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e\n\x3ccode\x3eready \x3c\/code\x3e生命周期移除\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eready\x3c\/code\x3e从生命周期钩子中移除了，迁移方法很简单，使用\x3ccode\x3emounted\x3c\/code\x3e和\x3ccode\x3ethis.$nextTick\x3c\/code\x3e来替换。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e\n\x3ccode\x3eprop.sync\x3c\/code\x3e弃用\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eprop\x3c\/code\x3e的\x3ccode\x3esync\x3c\/code\x3e弃用了，迁移方案是使用自定义事件，而且Datepicker这种input类型组件，可以使用\x3ca href=\x22http:\/\/vuejs.org\/guide\/components.html#Form-Input-Components-using-Custom-Events\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e表单输入组件的自定义事件\x3c\/a\x3e作为替换方案。自定义组件也可以使用\x3ccode\x3ev-model\x3c\/code\x3e指令了，但是必须满足两个条件：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e接收一个\x3ccode\x3evalue\x3c\/code\x3e的\x3ccode\x3eprop\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e值发生变化时，触发一个\x3ccode\x3einput\x3c\/code\x3e事件，传入新值。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e所以Datepicker的使用方式也不是\x3ccode\x3e\x26lt;datepicker value.sync=\x22now\x22\x26gt;\x26lt;\/datepicker\x26gt;\x3c\/code\x3e了，而是\x3ccode\x3e\x26lt;datepicker v-model=\x22now\x22\x26gt;\x26lt;\/datepicker\x26gt;\x3c\/code\x3e。组件自身向父级传值的方式也不一样了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/1.x版本，设置了value的值会同步到父级\nthis.value = `${this.tmpYear}-${(\x270\x27 \x2b (this.month \x2b 1)).slice(-2)}-${(\x270\x27 \x2b this.date).slice(-2)}`\n\n\/\/2.x版本，需要自己触发input事件，将新值作为参数传递回去\nlet value = `${this.tmpYear}-${(\x270\x27 \x2b (this.month \x2b 1)).slice(-2)}-${(\x270\x27 \x2b this.date).slice(-2)}`\nthis.$emit(\x27input\x27, value)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/1.x版本，设置了value的值会同步到父级\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.value = \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpYear}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.month \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.date).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}\x3c\/span\x3e`\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/2.x版本，需要自己触发input事件，将新值作为参数传递回去\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e value = \x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.tmpYear}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.month \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}\x3c\/span\x3e-\x3cspan class=\x22hljs-subst\x22\x3e${(\x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.date).slice(\x3cspan class=\x22hljs-number\x22\x3e-2\x3c\/span\x3e)}\x3c\/span\x3e`\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$emit(\x3cspan class=\x22hljs-string\x22\x3e\x27input\x27\x3c\/span\x3e, value)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader15\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e以上就是我在写这个datepicker时的大致思路，本身也是很简单的事情，没有处处展开来说，写在这里作为自己的一个总结，如果有刚开始使用Vue的同学也希望这篇文章可以在思路上帮助到你们:P，对于各位老鸟如果有什么指点的地方我也很感谢:D，那么差不多就这样，后面贴一些相关推荐阅读。\x3c\/p\x3e\n\x3ch4\x3e推荐阅读\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.jstips.co\/zh_cn\/insert-item-inside-an-array\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e高效地向数组中插值\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/vuejs.org.cn\/guide\/components.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue.js-片段实例\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/vuejs.org.cn\/api\/#v-bind\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue.js-动态绑定\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/Date\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJs日期对象基础\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/webpack.github.io\/docs\/configuration.html#output-library\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWebpack: export bundle as library\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/umdjs\/umd\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eUMD(universial Module Defination)\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/vuejs.org\/guide\/migration.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMigration from Vue 1.x\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用Vue写一个datepicker</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006194285">https://segmentfault.com/a/1190000006194285</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/6isktatw3je/" target="_blank">https://alili.tech/archive/6isktatw3je/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>