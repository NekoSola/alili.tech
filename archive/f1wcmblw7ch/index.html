<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="得救之道，就在其中——关于这次的 kik，left-pad，和 npm 事件"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>得救之道，就在其中——关于这次的 kik，left-pad，和 npm 事件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/f1wcmblw7ch/",
				"appid": "1613049289050283", 
				"title": "得救之道，就在其中——关于这次的 kik，left-pad，和 npm 事件 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-12T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/5d4z6rfuxsd/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/zl7wgsfkdam/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&text=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&text=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&title=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&is_video=false&description=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&title=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&title=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&title=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ff1wcmblw7ch%2f&title=%e5%be%97%e6%95%91%e4%b9%8b%e9%81%93%ef%bc%8c%e5%b0%b1%e5%9c%a8%e5%85%b6%e4%b8%ad%e2%80%94%e2%80%94%e5%85%b3%e4%ba%8e%e8%bf%99%e6%ac%a1%e7%9a%84%20kik%ef%bc%8cleft-pad%ef%bc%8c%e5%92%8c%20npm%20%e4%ba%8b%e4%bb%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">得救之道，就在其中——关于这次的 kik，left-pad，和 npm 事件</h1><div class="meta"><div class="postdate"><time datetime="2019-02-12" itemprop="datePublished">2019-02-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前情提要\x3c\/h2\x3e\n\x3cp\x3e今天 npm 圈子鸡犬不宁，原因是一个不过 \x3ca href=\x22https:\/\/github.com\/azer\/left-pad\/blob\/master\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e11 行\x3c\/a\x3e的工具函数 left-pad 被作者从 npm 上撤下，所有直接和间接依赖它的包就这么齐刷刷挂了，包括 babel 和 react-native 这样每天安装数万的热门项目。\x3c\/p\x3e\n\x3cp\x3e而 Azer 删除他所有的 npm 包又是另一个故事：Azer 写了一个工具叫 kik 发布在 npm 上，这天有个同名的公司律师找上门要求他删掉，Azer 不从，这律师就找上 npm，npm 把包的管理权限转给了这家公司——当然，Azer 就怒了，从 npm 上\x3ca href=\x22https:\/\/medium.com\/@azerbike\/i-ve-just-liberated-my-modules-9045c06be67c\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e解放\x3c\/a\x3e了所有自己发布的包。\x3c\/p\x3e\n\x3cp\x3e是的，就是这样 \x3ccode\x3e╮(╯_╰)╭\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3esmall module 的错？\x3c\/h2\x3e\n\x3cp\x3ebabel 很快就发布了修正。然而抛开这两个故事不去讨论，鉴于现在各种组件的依赖树之深，这件事暴露出的问题（一直都在，只是没有这么痛地领悟过）已经让人无法安心地 \x3ccode\x3enpm install\x3c\/code\x3e 了——更多的项目都不可能像 babel 这样活跃，第一时间发布修正。\x3c\/p\x3e\n\x3cp\x3e各种担忧、质疑指向 npm 社区一直提倡和推动的 small module 和 semver 理念。这个方向错了么？也有人怪罪 \x3ccode\x3enpm unpublish\x3c\/code\x3e 是万恶之源，这么想就有点表面了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e得救之道，就在其中\x3c\/h2\x3e\n\x3cp\x3eIsaacs 在 left-pad 的 Issue 里\x3ca href=\x22https:\/\/github.com\/azer\/left-pad\/issues\/4#issuecomment-200060983\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e回复\x3c\/a\x3e说“不要依赖于其他人”，附了\x3ca href=\x22https:\/\/docs.npmjs.com\/files\/package.json#bundleddependencies\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e关于 bundledDependencies 的链接\x3c\/a\x3e，并且最后再次强调 small module 依然是合理的哲学。\x3c\/p\x3e\n\x3cp\x3e这篇回复其实比较含糊，甚至看上去有点矛盾。Rollup 作者\x3ca href=\x22https:\/\/medium.com\/@Rich_Harris\/how-to-not-break-the-internet-with-this-one-weird-trick-e3e2d57fee28\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e讲得更明白些\x3c\/a\x3e，解决之道就一句话：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e无论你是否面向浏览器，\x3cstrong\x3e将所有依赖都打包进最终的发布代码。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这么做将使你的项目仅仅在打包的时候依赖那些 dependencies，一旦发布完成，就不再需要依赖树上的所有作者们保持他们的任何承诺。这就是 Isaacs 所说：不要依赖于其他 \x3cstrong\x3e人\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e事实上 Atom 也在受影响之列，但除了 Atom 的开发者之外，用户是没有感觉的——就这么简单。\x3c\/p\x3e\n\x3cp\x3e此原则除了可以解决这次的 left-pad 灾难之外，还有成堆的好处，哪怕每一项都不是杀手级的，这么堆起来也还是很可观的：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e节省\x3c\/strong\x3e \x3ccode\x3enpm install\x3c\/code\x3e \x3cstrong\x3e的时间。\x3c\/strong\x3e依次去下载整个依赖树是很耗时间的，而且还附带下载了更多的 README、package.json 之类。这些磁盘空间也可以省下来了。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e启动更快。\x3c\/strong\x3e你知道 Nodejs 的 \x3ccode\x3erequire()\x3c\/code\x3e 执行\x3ca href=\x22https:\/\/kev.inburke.com\/kevin\/node-require-is-dog-slow\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e慢成狗\x3c\/a\x3e么？\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e你的包更加可靠。\x3c\/strong\x3e依赖树中的 bug 不能靠用户自行 \x3ccode\x3enpm update\x3c\/code\x3e 来修复了，你得自己重新打包发版本，但是再也不用担心出 left-pad 这种幺蛾子，哪个更重要？\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e也更加安全。\x3c\/strong\x3e理论上，npm 托管的那些代码随时可能被注入恶意代码，比如现在 Azer 撤下来的包，不少已经被其他人重新发布上去，可是天知道都是谁放了些什么代码……用户只不过 \x3ccode\x3enpm install\x3c\/code\x3e 了一下。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e解除了用户为你的代码打包的负担。\x3c\/strong\x3e 负担其实并不是我们担心的，只是如果用户喜欢用 webpack 打包而我们的代码是 browserify 圈的呢？PouchDB 就\x3ca href=\x22https:\/\/pouchdb.com\/2016\/01\/13\/pouchdb-5.2.0-a-better-build-system-with-rollup.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e碰上了这种情况\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e新的习惯\x3c\/h2\x3e\n\x3cp\x3e养成新的习惯，开始为你发布的代码做预打包吧。\x3ca href=\x22https:\/\/docs.npmjs.com\/files\/package.json#bundleddependencies\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebundledDependencies\x3c\/a\x3e 已经等候多时了。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>得救之道，就在其中——关于这次的 kik，left-pad，和 npm 事件</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004672227">https://segmentfault.com/a/1190000004672227</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/f1wcmblw7ch/" target="_blank">https://alili.tech/archive/f1wcmblw7ch/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>