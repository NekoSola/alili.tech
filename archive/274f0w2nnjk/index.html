<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="基于 Gulp &#43; Browserify 构建 ES6 环境下的自动化前端项目"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>基于 Gulp &#43; Browserify 构建 ES6 环境下的自动化前端项目 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/274f0w2nnjk/",
				"appid": "1613049289050283", 
				"title": "基于 Gulp &#43; Browserify 构建 ES6 环境下的自动化前端项目 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-11T02:30:49"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/76h9lwyelua/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/uyyi49mtdo/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&text=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&text=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&title=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&is_video=false&description=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&title=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&title=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&title=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f274f0w2nnjk%2f&title=%e5%9f%ba%e4%ba%8e%20Gulp%20%2b%20Browserify%20%e6%9e%84%e5%bb%ba%20ES6%20%e7%8e%af%e5%a2%83%e4%b8%8b%e7%9a%84%e8%87%aa%e5%8a%a8%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">基于 Gulp &#43; Browserify 构建 ES6 环境下的自动化前端项目</h1><div class="meta"><div class="postdate"><time datetime="2019-02-11" itemprop="datePublished">2019-02-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e随着\x3ccode\x3eReact\x3c\/code\x3e、\x3ccode\x3eAngular2\x3c\/code\x3e、\x3ccode\x3eRedux\x3c\/code\x3e等前沿的前端框架越来越流行，使用\x3ccode\x3ewebpack\x3c\/code\x3e、\x3ccode\x3egulp\x3c\/code\x3e等工具构建前端自动化项目也随之变得越来越重要。鉴于目前业界普遍更流行使用\x3ccode\x3ewebpack\x3c\/code\x3e来构建es6(ECMAScript 2015)前端项目，网上的相关教程也比较多；相对来说使用\x3ccode\x3egulp\x3c\/code\x3e来构建es6项目的中文教程就比较少。\x3c\/p\x3e\n\x3cp\x3e经过一段时间的摸索，我觉得其实使用\x3ccode\x3egulp\x3c\/code\x3e也可以很方便地构建es6项目。以下是我感觉\x3ccode\x3egulp\x3c\/code\x3e和\x3ccode\x3ewebpack\x3c\/code\x3e主要的不同之处：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3egulp\x3c\/code\x3e的任务机制和流式管道函数和\x3ccode\x3ewebpack\x3c\/code\x3e的配置参数风格有着显著区别，它能使开发者更清晰地了解项目的构建流程。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e由于\x3ccode\x3egulp\x3c\/code\x3e是编程式风格的，所以使用起来可定制化的功能也就更灵活一些，可应对一些构建过程较为复杂的情况。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e本文特此给大家介绍下如何使用\x3ccode\x3egulp\x3c\/code\x3e配合\x3ccode\x3ebrowserify\x3c\/code\x3e来构建基于es6的前端项目。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eBrowserify vs Webpack\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3ebrowserify\x3c\/code\x3e与\x3ccode\x3ewebpack\x3c\/code\x3e都是当下流行的commonjs模块(或es6模块)合并打包工具，打包后的js文件可以直接运行在浏览器环境中。\x3c\/p\x3e\n\x3cp\x3e很多人都知道，\x3ccode\x3ewebpack\x3c\/code\x3e功能全面，可以对js、css、甚至图片、字体文件统一进行合并打包，并且插件丰富。而\x3ccode\x3ebrowserify\x3c\/code\x3e的特点是职责单一，只负责js模块合并打包，有些项目也并不需要将css等资源文件和js打包在一起的功能；它的代码风格也类似管道函数，和\x3ccode\x3egulp\x3c\/code\x3e的契合度较高；在github上也可以找到相当多的\x3ccode\x3ebrowserify\x3c\/code\x3e插件，如\x3ca href=\x22https:\/\/github.com\/AgentME\/browserify-hmr\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e热替换\x3c\/a\x3e、\x3ca href=\x22https:\/\/github.com\/arian\/partition-bundle\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e代码分割\x3c\/a\x3e等等。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e有一篇文章对\x3ccode\x3ebrowserify\x3c\/code\x3e和\x3ccode\x3ewebpack\x3c\/code\x3e的对比进行了探讨：\x3ca href=\x22https:\/\/www.zhihu.com\/question\/40598635\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack 跟 browserify 比到底有什么好?\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e示例项目\x3c\/h2\x3e\n\x3cp\x3e本文中使用的示例项目是我为重构过去搞的UI组件库而建的项目，使用\x3ccode\x3ebrowserify\x3c\/code\x3e构建的分支地址\x3ca href=\x22https:\/\/github.com\/joe-sky\/flarej\/tree\/use_browserify\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e请戳这里\x3c\/a\x3e。这个项目目前已改用\x3ccode\x3egulp\x3c\/code\x3e\x2b\x3ccode\x3ewebpack\x3c\/code\x3e构建，但是保留了原先用\x3ccode\x3ebrowserify\x3c\/code\x3e构建的分支代码可供参考。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e项目结构目录\x3c\/h2\x3e\n\x3cp\x3e项目目录\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3edist \x3cstrong\x3e(生产代码目录，存放生成合并后的各类文件)\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3ejs\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e构建出的项目js文件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3efonts\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e...\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3ecss\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e构建出的项目css文件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eexamples \x3cstrong\x3e(示例目录)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3esrc \x3cstrong\x3e(开发代码目录)\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3estyles \x3cstrong\x3e(样式文件目录)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ebase.js \x3cstrong\x3e(打包入口文件)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e...\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etest \x3cstrong\x3e(单元测试目录)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3evendor \x3cstrong\x3e(第三方依赖库)\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3ebabelHelpers.js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e...\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3egulpfile.js \x3cstrong\x3e(gulp配置文件)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3epackage.json\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eLICENSE\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eREADME.md\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e示例项目目录大体如上所示，其中使用\x3ccode\x3ebabel\x3c\/code\x3e进行es6至es5转换，并使用\x3ccode\x3eeslint\x3c\/code\x3e进行js代码检验。大家看到这里可能有疑问，为什么项目中没有babel及eslint的配置文件\x3ccode\x3e.babelrc\x3c\/code\x3e和\x3ccode\x3e.eslintrc\x3c\/code\x3e呢？原因就是这些配置文件里的内容其实是可以直接配置在\x3ccode\x3egulpfile.js\x3c\/code\x3e中的相关插件内的。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e配置package.json\x3c\/h2\x3e\n\x3cp\x3e在这里只列出项目依赖的各种包，大致分为如下几类：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  ...\n  \x26quot;devDependencies\x26quot;: {\n    \/*browserify包及相关插件*\/\n    \x26quot;browserify\x26quot;: \x26quot;^13.0.0\x26quot;,\n    \x26quot;vinyl-buffer\x26quot;: \x26quot;^1.0.0\x26quot;,\n    \x26quot;vinyl-source-stream\x26quot;: \x26quot;^1.1.0\x26quot;,\n    \x26quot;standalonify\x26quot;: \x26quot;^0.1.3\x26quot;,\n    \/*babel相关插件*\/\n    \x26quot;babelify\x26quot;: \x26quot;^7.2.0\x26quot;,\n    \x26quot;babel-plugin-external-helpers\x26quot;: \x26quot;^6.4.0\x26quot;,\n    \x26quot;babel-plugin-transform-es2015-classes\x26quot;: \x26quot;^6.5.2\x26quot;,\n    \x26quot;babel-plugin-transform-es2015-modules-commonjs\x26quot;: \x26quot;^6.5.2\x26quot;,\n    \x26quot;babel-plugin-transform-object-assign\x26quot;: \x26quot;^6.3.13\x26quot;,\n    \x26quot;babel-preset-es2015\x26quot;: \x26quot;^6.3.13\x26quot;,\n    \x26quot;babel-preset-react\x26quot;: \x26quot;^6.3.13\x26quot;,\n    \x26quot;babel-preset-stage-0\x26quot;: \x26quot;^6.3.13\x26quot;,\n    \/*eslint相关插件*\/\n    \x26quot;babel-eslint\x26quot;: \x26quot;^5.0.0\x26quot;,\n    \x26quot;estraverse\x26quot;: \x26quot;^4.2.0\x26quot;,\n    \x26quot;estraverse-fb\x26quot;: \x26quot;^1.3.1\x26quot;,\n    \/*gulp包及相关插件*\/\n    \x26quot;gulp\x26quot;: \x26quot;^3.9.0\x26quot;,\n    \x26quot;gulp-clean\x26quot;: \x26quot;^0.3.1\x26quot;,\n    \x26quot;gulp-concat\x26quot;: \x26quot;^2.6.0\x26quot;,\n    \x26quot;gulp-cssnano\x26quot;: \x26quot;^2.1.1\x26quot;,\n    \x26quot;gulp-eslint\x26quot;: \x26quot;^2.0.0\x26quot;,\n    \x26quot;gulp-if\x26quot;: \x26quot;^2.0.0\x26quot;,\n    \x26quot;gulp-jasmine\x26quot;: \x26quot;^2.2.1\x26quot;,\n    \x26quot;gulp-less\x26quot;: \x26quot;^3.0.5\x26quot;,\n    \x26quot;gulp-rename\x26quot;: \x26quot;^1.2.2\x26quot;,\n    \x26quot;gulp-sequence\x26quot;: \x26quot;^0.4.4\x26quot;,\n    \x26quot;gulp-uglify\x26quot;: \x26quot;^1.5.1\x26quot;,\n    \/*postcss相关插件*\/\n    \x26quot;gulp-postcss\x26quot;: \x26quot;^6.1.0\x26quot;,\n    \x26quot;autoprefixer\x26quot;: \x26quot;^6.3.4\x26quot;,\n    \/*外部依赖包*\/\n    \x26quot;nornj\x26quot;: \x26quot;^0.3.0\x26quot;,\n    \x26quot;react\x26quot;: \x26quot;^0.14.8\x26quot;,\n    \x26quot;react-dom\x26quot;: \x26quot;^0.14.8\x26quot;,\n    \/*其他依赖包*\/\n    \x26quot;jsdom\x26quot;: \x26quot;^8.1.0\x26quot;,\n    \x26quot;yargs\x26quot;: \x26quot;^4.2.0\x26quot;,\n    ...\n  },\n  ...\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e{\n  ...\n  \x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*browserify包及相关插件*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22browserify\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^13.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22vinyl-buffer\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22vinyl-source-stream\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.1.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22standalonify\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.1.3\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*babel相关插件*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babelify\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^7.2.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-plugin-external-helpers\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.4.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-plugin-transform-es2015-classes\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.5.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-plugin-transform-es2015-modules-commonjs\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.5.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-plugin-transform-object-assign\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.3.13\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-es2015\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.3.13\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-react\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.3.13\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-preset-stage-0\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.3.13\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*eslint相关插件*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22babel-eslint\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^5.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22estraverse\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.2.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22estraverse-fb\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.3.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*gulp包及相关插件*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.9.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-clean\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.3.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-concat\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.6.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-cssnano\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.1.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-eslint\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-if\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-jasmine\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-less\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.0.5\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-rename\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.2.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-sequence\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.4.4\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-uglify\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.5.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*postcss相关插件*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22gulp-postcss\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.1.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22autoprefixer\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.3.4\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*外部依赖包*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22nornj\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.3.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.14.8\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22react-dom\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.14.8\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-comment\x22\x3e\/*其他依赖包*\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22jsdom\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^8.1.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22yargs\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.2.0\x22\x3c\/span\x3e,\n    ...\n  },\n  ...\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e编写gulpfile.js\x3c\/h2\x3e\n\x3cp\x3egulpfile.js即为\x3ccode\x3egulp\x3c\/code\x3e的配置文件，其作用类似于\x3ccode\x3ewebpack\x3c\/code\x3e的webpack.config.js文件。在代码风格方面，与webpack.config.js的配置参数风格不同的是，gulpfile.js更偏向编程风格。gulpfile.js整体结构如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/引入依赖的各种包：\nvar gulp = require(\x27gulp\x27),\n  browserify = require(\x27browserify\x27),\n  ...\n\n\/\/定义一些全局函数及变量\nfunction getJsLibName() {\n  ...\n}\n...\n\n\/\/定义各种任务\ngulp.task(\x27build-all-js\x27, ...);\n\ngulp.task(\x27build-all-css\x27, ...);\n\ngulp.task(\x27build\x27, [\x27build-all-js\x27, \x27build-all-css\x27, ...]);\n...\n\n\/\/定义默认任务\ngulp.task(\x27default\x27, [\x27build\x27]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/引入依赖的各种包：\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e gulp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e),\n  browserify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27browserify\x27\x3c\/span\x3e),\n  ...\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/定义一些全局函数及变量\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetJsLibName\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  ...\n}\n...\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/定义各种任务\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-all-js\x27\x3c\/span\x3e, ...);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-all-css\x27\x3c\/span\x3e, ...);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27build-all-js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27build-all-css\x27\x3c\/span\x3e, ...]);\n...\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/定义默认任务\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27build\x27\x3c\/span\x3e]);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用\x3ccode\x3egulp\x3c\/code\x3e需要定义各种任务来处理各类文件的构建生成。如例中所示，定义build-all-js任务来构建js文件，执行任务时须输入命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp build-all-js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs n1ql\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3egulp \x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e-\x3cspan class=\x22hljs-keyword\x22\x3eall\x3c\/span\x3e-js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以定义一个默认任务，一般在这个任务里依次执行全部子任务，执行时输入命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3egulp\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e关于\x3ccode\x3egulp\x3c\/code\x3e基础使用方法的更多细节大家可以参考这篇文章：\x3ca href=\x22http:\/\/www.cnblogs.com\/2050\/p\/4198792.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端构建工具gulpjs的使用介绍及技巧\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e使用Browserify进行js模块合并\x3c\/h2\x3e\n\x3cp\x3e配合\x3ccode\x3egulp\x3c\/code\x3e使用\x3ccode\x3ebrowserify\x3c\/code\x3e需要引入的包：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var browserify = require(\x27browserify\x27),\n  source = require(\x27vinyl-source-stream\x27),\n  buffer = require(\x27vinyl-buffer\x27),\n  standalonify = require(\x27standalonify\x27),\n  argv = require(\x27yargs\x27).argv;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e browserify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27browserify\x27\x3c\/span\x3e),\n  source = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27vinyl-source-stream\x27\x3c\/span\x3e),\n  buffer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27vinyl-buffer\x27\x3c\/span\x3e),\n  standalonify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27standalonify\x27\x3c\/span\x3e),\n  argv = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27yargs\x27\x3c\/span\x3e).argv;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e创建\x3ccode\x3egulp\x3c\/code\x3e任务build-js：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp.task(\x27build-js\x27, function () {\n  return browserify({\n    entries: \x27.\/src\/base.js\x27  \/\/指定打包入口文件\n  })\n    .plugin(standalonify, {  \/\/使打包后的js文件符合UMD规范并指定外部依赖包\n      name: \x27FlareJ\x27,\n      deps: {\n        \x27nornj\x27: \x27nj\x27,\n        \x27react\x27: \x27React\x27,\n        \x27react-dom\x27: \x27ReactDOM\x27\n      }\n    })\n    .transform(babelify, ...)  \/\/使用babel转换es6代码\n    .bundle()  \/\/合并打包\n    .pipe(source(getJsLibName()))  \/\/将常规流转换为包含Stream的vinyl对象，并且重命名\n    .pipe(buffer())  \/\/将vinyl对象内容中的Stream转换为Buffer\n    .pipe(gulp.dest(\x27.\/dist\/js\x27));  \/\/输出打包后的文件\n});\n\nfunction getJsLibName() {\n  var libName = \x27flarej.js\x27;\n  if (argv.min) {  \/\/按命令参数\x26quot;--min\x26quot;判断是否为压缩版\n    libName = \x27flarej.min.js\x27;\n  }\n\n  return libName;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3egulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e browserify({\n    \x3cspan class=\x22hljs-attr\x22\x3eentries\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/base.js\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/指定打包入口文件\x3c\/span\x3e\n  })\n    .plugin(standalonify, {  \x3cspan class=\x22hljs-comment\x22\x3e\/\/使打包后的js文件符合UMD规范并指定外部依赖包\x3c\/span\x3e\n      name: \x3cspan class=\x22hljs-string\x22\x3e\x27FlareJ\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3edeps\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27nornj\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27nj\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27React\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27ReactDOM\x27\x3c\/span\x3e\n      }\n    })\n    .transform(babelify, ...)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/使用babel转换es6代码\x3c\/span\x3e\n    .bundle()  \x3cspan class=\x22hljs-comment\x22\x3e\/\/合并打包\x3c\/span\x3e\n    .pipe(source(getJsLibName()))  \x3cspan class=\x22hljs-comment\x22\x3e\/\/将常规流转换为包含Stream的vinyl对象，并且重命名\x3c\/span\x3e\n    .pipe(buffer())  \x3cspan class=\x22hljs-comment\x22\x3e\/\/将vinyl对象内容中的Stream转换为Buffer\x3c\/span\x3e\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/js\x27\x3c\/span\x3e));  \x3cspan class=\x22hljs-comment\x22\x3e\/\/输出打包后的文件\x3c\/span\x3e\n});\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetJsLibName\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e libName = \x3cspan class=\x22hljs-string\x22\x3e\x27flarej.js\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (argv.min) {  \x3cspan class=\x22hljs-comment\x22\x3e\/\/按命令参数\x22--min\x22判断是否为压缩版\x3c\/span\x3e\n    libName = \x3cspan class=\x22hljs-string\x22\x3e\x27flarej.min.js\x27\x3c\/span\x3e;\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e libName;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e和\x3ccode\x3ewebpack\x3c\/code\x3e类似，\x3ccode\x3ebrowserify\x3c\/code\x3e也需要指定打包的入口文件。在本例中只有一个入口文件，\x3ccode\x3ebrowserify\x3c\/code\x3e会自动分析文件内依赖的各js模块，最终生成一个完整的打包文件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用\x3ccode\x3estandalonify\x3c\/code\x3e插件使打包后的js文符合UMD规范，并可以指定不将一些外部依赖包打进包内。一开始我使用了\x3ccode\x3edependify\x3c\/code\x3e，之后发现它生成的包有bug且作者又不维护，于是就参考它重发了一个更完善的\x3ccode\x3estandalonify\x3c\/code\x3e。使用这个插件打出来的包可以更好地生成依赖包的信息，此功能就类似于\x3ccode\x3ewebpack\x3c\/code\x3e中的externals参数。例如UMD中的AMD部分会这样生成：\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22...\nelse if (typeof define === \x27function\x27 \x26amp;\x26amp; define.amd) { define([\x26quot;nornj\x26quot;,\x26quot;react\x26quot;,\x26quot;react-dom\x26quot;], ...)\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e...\nelse \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e define === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e \x26amp;\x26amp; define.amd) { define([\x3cspan class=\x22hljs-string\x22\x3e\x22nornj\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22react-dom\x22\x3c\/span\x3e], ...)\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实使用\x3ccode\x3ebrowserify\x3c\/code\x3e自带的standalone属性也可以打出UMD包，并配合browserify-shim插件也可以排除外部依赖包，但是打包后依赖包的信息只能定义为全局的。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e然后使用bundle方法进行js模块合并打包，如代码为es6环境则需在此之前执行transform方法进行es6转es5。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ebrowserify\x3c\/code\x3e在打包后须要进行Stream转换才可和\x3ccode\x3egulp\x3c\/code\x3e配合，在这里需要使用\x3ccode\x3evinyl-source-stream\x3c\/code\x3e和\x3ccode\x3evinyl-buffer\x3c\/code\x3e这两个包。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e在使用\x3ccode\x3evinyl-source-stream\x3c\/code\x3e时可以将打包文件重命名，此时可用\x3ccode\x3eyargs\x3c\/code\x3e包提供的获取命令参数功能来决定是否使用压缩版命名。例如命名为压缩版需输入命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp build-js --min\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs n1ql\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3egulp \x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e-js --\x3cspan class=\x22hljs-built_in\x22\x3emin\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最后使用gulp.dest方法指定打包后文件保存的目录。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e关于\x3ccode\x3ebrowserify\x3c\/code\x3e更详细的技术资料大家可以参考这篇文章：\x3ca href=\x22http:\/\/www.cnblogs.com\/liulangmao\/p\/4920534.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebrowserify使用手册\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e使用Babel将es6代码转换为es5\x3c\/h2\x3e\n\x3cp\x3e由于es6代码目前大部分浏览器还未能完全支持，因此一般都需要转换为es5后执行。本示例中使用\x3ccode\x3ebabel\x3c\/code\x3e配合\x3ccode\x3ebrowserify\x3c\/code\x3e在打包的过程中进行转换，\x3ccode\x3ebabel\x3c\/code\x3e的版本为6.0\x2b。需要引入\x3ccode\x3ebabelify\x3c\/code\x3e，这个包是\x3ccode\x3ebrowserify\x3c\/code\x3e的一个transform插件。使用方法如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp.task(\x27build-js\x27, function () {\n  return browserify({\n    entries: \x27.\/src\/base.js\x27\n  })\n    .plugin(standalonify, ...)\n    .transform(babelify, {  \/\/此处babel的各配置项格式与.babelrc文件相同\n      presets: [\n        \x27es2015\x27,  \/\/转换es6代码\n        \x27stage-0\x27,  \/\/指定转换es7代码的语法提案阶段\n        \x27react\x27  \/\/转换React的jsx\n      ],\n      plugins: [\n        \x27transform-object-assign\x27,  \/\/转换es6 Object.assign插件\n        \x27external-helpers\x27,  \/\/将es6代码转换后使用的公用函数单独抽出来保存为babelHelpers\n        [\x27transform-es2015-classes\x27, { \x26quot;loose\x26quot;: false }],  \/\/转换es6 class插件\n        [\x27transform-es2015-modules-commonjs\x27, { \x26quot;loose\x26quot;: false }]  \/\/转换es6 module插件\n        ...\n      ]\n    })\n    .bundle()\n    ...\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3egulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e browserify({\n    \x3cspan class=\x22hljs-attr\x22\x3eentries\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/base.js\x27\x3c\/span\x3e\n  })\n    .plugin(standalonify, ...)\n    .transform(babelify, {  \x3cspan class=\x22hljs-comment\x22\x3e\/\/此处babel的各配置项格式与.babelrc文件相同\x3c\/span\x3e\n      presets: [\n        \x3cspan class=\x22hljs-string\x22\x3e\x27es2015\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换es6代码\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e\x27stage-0\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/指定转换es7代码的语法提案阶段\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换React的jsx\x3c\/span\x3e\n      ],\n      \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n        \x3cspan class=\x22hljs-string\x22\x3e\x27transform-object-assign\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换es6 Object.assign插件\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e\x27external-helpers\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/将es6代码转换后使用的公用函数单独抽出来保存为babelHelpers\x3c\/span\x3e\n        [\x3cspan class=\x22hljs-string\x22\x3e\x27transform-es2015-classes\x27\x3c\/span\x3e, { \x3cspan class=\x22hljs-string\x22\x3e\x22loose\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }],  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换es6 class插件\x3c\/span\x3e\n        [\x3cspan class=\x22hljs-string\x22\x3e\x27transform-es2015-modules-commonjs\x27\x3c\/span\x3e, { \x3cspan class=\x22hljs-string\x22\x3e\x22loose\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e }]  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换es6 module插件\x3c\/span\x3e\n        ...\n      ]\n    })\n    .bundle()\n    ...\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ebabelify\x3c\/code\x3e插件的配置项格式与\x3ccode\x3e.babelrc\x3c\/code\x3e文件完全相同。在\x3ccode\x3ebabel\x3c\/code\x3e升级6.0\x2b后与之前的5.x差别较大，它拆分为了很多个模块需要分别引入。这些模块都需要单独安装各自的npm包，具体请查看package.json文件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3epresets项需要使用es2015、stage-x、react三个模块：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ees2015\x3c\/code\x3e，用于转换es6代码\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3estage-x\x3c\/code\x3e，用于转换更新的es7语法，x是指es7不同阶段的语法提案，目前有0-3可用\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3ereact\x3c\/code\x3e，用于转换React的jsx代码。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eplugins项可引入转换时需要的插件。一般来说babel-preset-es2015这个包中已经包含了大多数转换es6代码的模块，但也有部分模块需要在plugins中引入。例如：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3etransform-object-assign\x3c\/code\x3e，用于转换Object.assign\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如转换时使用loose模式(设置了loose为true时代码才可适应IE8，默认为false)，则需要单独引入这些模块的包。如\x3ccode\x3etransform-es2015-classes\x3c\/code\x3e即为转换es6 class的包，如有需要可设置loose模式为true。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3eexternal-helpers\x3c\/code\x3e，这个模块的作用是将babel转换后的一些公用函数单独抽出来，这样就可以减少转换后的冗余代码量。具体使用方法为先全局安装babel：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install babel-cli -g\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-cli \x3c\/span\x3e-g\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后执行命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22babel-external-helpers #可加-t参数按不同方式生成，值为global|umd|var，默认为global\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs oxygene\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3ebabel-\x3cspan class=\x22hljs-keyword\x22\x3eexternal\x3c\/span\x3e-helpers #可加-t参数按不同方式生成，值为\x3cspan class=\x22hljs-keyword\x22\x3eglobal\x3c\/span\x3e|umd|\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e，默认为\x3cspan class=\x22hljs-keyword\x22\x3eglobal\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这样就可以在命令行中生成babelHelpers的代码，然后将之保存为babelHelpers.js，在本例中放在vendor目录内。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e生成最终的js代码\x3c\/h2\x3e\n\x3cp\x3e由于本例中使用external-helpers方式进行es6转换，故需要将babelHelpers.js与\x3ccode\x3ebrowserify\x3c\/code\x3e打包后的项目js文件进行连接合并：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var concat = require(\x27gulp-concat\x27),\n  sequence = require(\x27gulp-sequence\x27),\n  gulpif = require(\x27gulp-if\x27),\n  uglify = require(\x27gulp-uglify\x27);\n\n\/\/定义连接js任务\ngulp.task(\x27concat-js\x27, function () {\n  var jsLibName = getJsLibName();\n  return gulp.src([\x27.\/vendor\/babelHelpers.js\x27, \x27.\/dist\/js\/\x27 \x2b jsLibName])\n    .pipe(concat(jsLibName))\n    .pipe(gulpif(argv.min, uglify()))\n    .pipe(gulp.dest(\x27.\/dist\/js\x27));\n});\n\n\/\/将两个任务串联起来\ngulp.task(\x27build-all-js\x27, sequence(\x27build-js\x27, \x27concat-js\x27));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e concat = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-concat\x27\x3c\/span\x3e),\n  sequence = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-sequence\x27\x3c\/span\x3e),\n  gulpif = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-if\x27\x3c\/span\x3e),\n  uglify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-uglify\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/定义连接js任务\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27concat-js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e jsLibName = getJsLibName();\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/vendor\/babelHelpers.js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/js\/\x27\x3c\/span\x3e \x2b jsLibName])\n    .pipe(concat(jsLibName))\n    .pipe(gulpif(argv.min, uglify()))\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/js\x27\x3c\/span\x3e));\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/将两个任务串联起来\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-all-js\x27\x3c\/span\x3e, sequence(\x3cspan class=\x22hljs-string\x22\x3e\x27build-js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27concat-js\x27\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e先使用\x3ccode\x3egulp-concat\x3c\/code\x3e插件将babelHelpers.js和项目js文件进行连接合并。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e然后使用\x3ccode\x3egulp-if\x3c\/code\x3e插件判断当前执行命令是否输入了\x3ccode\x3e--min\x3c\/code\x3e参数，如果是则使用\x3ccode\x3egulp-uglify\x3c\/code\x3e插件进行js代码压缩。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e定义build-all-js任务来将build-js和concat-js任务串联起来，但是需要使用\x3ccode\x3egulp-sequence\x3c\/code\x3e插件才能保证这两个任务是按顺序执行的。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e最后，在\/dist\/js目录下会生成最终的项目js文件。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e执行单元测试\x3c\/h2\x3e\n\x3cp\x3e本例中使用\x3ccode\x3ejasmine\x3c\/code\x3e进行单元测试。代码比较简单，执行所有test目录内以\x22Spec\x22结尾的文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var jasmine = require(\x27gulp-jasmine\x27);\n\ngulp.task(\x26quot;test\x26quot;, function () {\n  return gulp.src([\x26quot;.\/test\/**\/**Spec.js\x26quot;])\n    .pipe(jasmine());\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e jasmine = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-jasmine\x27\x3c\/span\x3e);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x22.\/test\/**\/**Spec.js\x22\x3c\/span\x3e])\n    .pipe(jasmine());\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp test\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3egulp \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e即可在命令行中查看测试结果。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e执行js代码检验\x3c\/h2\x3e\n\x3cp\x3e本例中使用\x3ccode\x3eeslint\x3c\/code\x3e进行js代码检验，需引入\x3ccode\x3egulp-eslint\x3c\/code\x3e插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var eslint = require(\x27gulp-eslint\x27);\n\ngulp.task(\x27eslint\x27, function () {\n  return gulp.src([\x27.\/src\/**\/*.js\x27])  \/\/获取src目录内全部js文件\n    .pipe(eslint({  \/\/此处eslint的各配置项格式与.eslintrc文件相同\n      \x26quot;rules\x26quot;: {\n        \x26quot;camelcase\x26quot;: [2, { \x26quot;properties\x26quot;: \x26quot;always\x26quot; }],\n        \x26quot;comma-dangle\x26quot;: [2, \x26quot;never\x26quot;],\n        \x26quot;semi\x26quot;: [2, \x26quot;always\x26quot;],\n        \x26quot;quotes\x26quot;: [2, \x26quot;single\x26quot;],\n        \x26quot;strict\x26quot;: [2, \x26quot;global\x26quot;]\n      },\n      \x26quot;parser\x26quot;: \x26quot;babel-eslint\x26quot;\n    }))\n    .pipe(eslint.format())\n    .pipe(eslint.failAfterError());\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e eslint = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-eslint\x27\x3c\/span\x3e);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27eslint\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/**\/*.js\x27\x3c\/span\x3e])  \x3cspan class=\x22hljs-comment\x22\x3e\/\/获取src目录内全部js文件\x3c\/span\x3e\n    .pipe(eslint({  \x3cspan class=\x22hljs-comment\x22\x3e\/\/此处eslint的各配置项格式与.eslintrc文件相同\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3e\x22rules\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22camelcase\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, { \x3cspan class=\x22hljs-string\x22\x3e\x22properties\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22always\x22\x3c\/span\x3e }],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22comma-dangle\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22never\x22\x3c\/span\x3e],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22semi\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22always\x22\x3c\/span\x3e],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22quotes\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22single\x22\x3c\/span\x3e],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22strict\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22global\x22\x3c\/span\x3e]\n      },\n      \x3cspan class=\x22hljs-string\x22\x3e\x22parser\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22babel-eslint\x22\x3c\/span\x3e\n    }))\n    .pipe(eslint.format())\n    .pipe(eslint.failAfterError());\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp eslint\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3egulp eslint\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e即可在命令行中查看js代码检测结果。\x3c\/p\x3e\n\x3cp\x3e另外如果是在es6环境下使用\x3ccode\x3egulp-eslint\x3c\/code\x3e，那么还需要安装\x3ccode\x3ebabel-eslint\x3c\/code\x3e这个包。此处有个小坑，就是\x3ccode\x3ebabel-eslint\x3c\/code\x3e包是依赖\x3ccode\x3eestraverse\x3c\/code\x3e和\x3ccode\x3eestraverse-fb\x3c\/code\x3e包的，但这两个包其实却需要单独安装。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e生成css及字体文件\x3c\/h2\x3e\n\x3cp\x3e例中的css及字体文件也需要合并构建，这里只简单介绍一下构建css的流程：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var less = require(\x27gulp-less\x27),\n  cssnano = require(\x27gulp-cssnano\x27),\n  postcss = require(\x27gulp-postcss\x27),\n  autoprefixer = require(\x27autoprefixer\x27);\n\nfunction getCssLibName() {\n  var libName = \x27flarej.css\x27;\n  if (argv.min) {\n    libName = \x27flarej.min.css\x27;\n  }\n\n  return libName;\n}\n\n\/\/构建项目css文件\ngulp.task(\x27build-css\x27, function () {\n  return gulp.src(\x27.\/src\/styles\/base.less\x27)\n    .pipe(less())  \/\/转换less\n    .pipe(rename(getCssLibName()))  \/\/重命名转换后的css文件\n    .pipe(gulp.dest(\x27.\/dist\/css\x27));\n});\n\n\/\/将normalize.css与项目css进行合并\ngulp.task(\x27concat-css\x27, function () {\n  var cssLibName = getCssLibName();\n  return gulp.src([\x27.\/vendor\/normalize.css\x27, \x27.\/dist\/css\/\x27 \x2b cssLibName])\n    .pipe(concat(cssLibName))  \/\/连接合并\n    .pipe(gulpif(argv.min, cssnano()))  \/\/执行css压缩\n    .pipe(postcss([autoprefixer({ browsers: [\x27last 50 versions\x27] })]))  \/\/自动补厂商前缀\n    .pipe(gulp.dest(\x27.\/dist\/css\x27));\n});\n\n\/\/将两个任务串联起来\ngulp.task(\x27build-all-css\x27, sequence(\x27build-css\x27, \x27concat-css\x27));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e less = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-less\x27\x3c\/span\x3e),\n  cssnano = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-cssnano\x27\x3c\/span\x3e),\n  postcss = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp-postcss\x27\x3c\/span\x3e),\n  autoprefixer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetCssLibName\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e libName = \x3cspan class=\x22hljs-string\x22\x3e\x27flarej.css\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (argv.min) {\n    libName = \x3cspan class=\x22hljs-string\x22\x3e\x27flarej.min.css\x27\x3c\/span\x3e;\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e libName;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/构建项目css文件\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/styles\/base.less\x27\x3c\/span\x3e)\n    .pipe(less())  \x3cspan class=\x22hljs-comment\x22\x3e\/\/转换less\x3c\/span\x3e\n    .pipe(rename(getCssLibName()))  \x3cspan class=\x22hljs-comment\x22\x3e\/\/重命名转换后的css文件\x3c\/span\x3e\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/css\x27\x3c\/span\x3e));\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/将normalize.css与项目css进行合并\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27concat-css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cssLibName = getCssLibName();\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e gulp.src([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/vendor\/normalize.css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/css\/\x27\x3c\/span\x3e \x2b cssLibName])\n    .pipe(concat(cssLibName))  \x3cspan class=\x22hljs-comment\x22\x3e\/\/连接合并\x3c\/span\x3e\n    .pipe(gulpif(argv.min, cssnano()))  \x3cspan class=\x22hljs-comment\x22\x3e\/\/执行css压缩\x3c\/span\x3e\n    .pipe(postcss([autoprefixer({ \x3cspan class=\x22hljs-attr\x22\x3ebrowsers\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27last 50 versions\x27\x3c\/span\x3e] })]))  \x3cspan class=\x22hljs-comment\x22\x3e\/\/自动补厂商前缀\x3c\/span\x3e\n    .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dist\/css\x27\x3c\/span\x3e));\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/将两个任务串联起来\x3c\/span\x3e\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build-all-css\x27\x3c\/span\x3e, sequence(\x3cspan class=\x22hljs-string\x22\x3e\x27build-css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27concat-css\x27\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e构建全部代码\x3c\/h2\x3e\n\x3cp\x3e本例中的\x3ccode\x3egulp\x3c\/code\x3e默认任务即为构建全部代码，输入命令：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22gulp #可加\x26quot;--min\x26quot;参数构建压缩版\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autoit\x22\x3e\x3ccode class=\x22sh\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3egulp \x3cspan class=\x22hljs-meta\x22\x3e#可加\x3cspan class=\x22hljs-string\x22\x3e\x22--min\x22\x3c\/span\x3e参数构建压缩版\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e即可执行，具体构建流程如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVuNth\x22 src=\x22https:\/\/static.alili.tech\/img\/bVuNth\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e更多细节大家可以查看本文示例的\x3ca href=\x22https:\/\/github.com\/joe-sky\/flarej\/tree\/use_browserify\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源代码\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e（完）\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>基于 Gulp + Browserify 构建 ES6 环境下的自动化前端项目</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000004917668">https://segmentfault.com/a/1190000004917668</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/274f0w2nnjk/" target="_blank">https://alili.tech/archive/274f0w2nnjk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>