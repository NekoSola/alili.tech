<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="RxJs 核心概念之Observable"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>RxJs 核心概念之Observable | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gnukqsopvw/",
				"appid": "1613049289050283", 
				"title": "RxJs 核心概念之Observable | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-11T02:30:49"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/o580jhaatc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/zj8p6sg8rus/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&text=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&text=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&title=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&is_video=false&description=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&title=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&title=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&title=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgnukqsopvw%2f&title=RxJs%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bObservable"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">RxJs 核心概念之Observable</h1><div class="meta"><div class="postdate"><time datetime="2019-02-11" itemprop="datePublished">2019-02-11</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3eObservable（\x3cstrong\x3e可观察对象\x3c\/strong\x3e）是基于推送（\x3cstrong\x3ePush\x3c\/strong\x3e）运行时执行（\x3cstrong\x3elazy\x3c\/strong\x3e）的多值集合。下方表格对Observable进行了定位（\x3cem\x3e为解决基于推送的多值问题\x3c\/em\x3e）：\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eMagicQ\x3c\/th\x3e\n\x3cth\x3e单值\x3c\/th\x3e\n\x3cth\x3e多值\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x3cstrong\x3e拉取(Pull)\x3c\/strong\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Glossary\/Function\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3e函数\x3c\/code\x3e\x3c\/a\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Iteration_protocols\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e遍历器\x3c\/a\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x3cstrong\x3e推送(Push)\x3c\/strong\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Mozilla\/JavaScript_code_modules\/Promise.jsm\/Promise\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ePromise\x3c\/code\x3e\x3c\/a\x3e\x3c\/td\x3e\n\x3ctd\x3e\x3ca href=\x22http:\/\/reactivex.io\/rxjs\/class\/es6\/Observable.js~Observable.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eObservable\x3c\/code\x3e\x3c\/a\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e\x3cstrong\x3e例\x3c\/strong\x3e：当\x3ccode\x3eobservable\x3c\/code\x3e被订阅后，会立即（\x3cem\x3e同步地\x3c\/em\x3e）推送\x3ccode\x3e1\x3c\/code\x3e， \x3ccode\x3e2\x3c\/code\x3e， \x3ccode\x3e3\x3c\/code\x3e 三个值；1秒之后，继续推送\x3ccode\x3e4\x3c\/code\x3e这个值，最后结束（\x3cem\x3e推送结束通知\x3c\/em\x3e）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function (observer) {\n  observer.next(1);\n  observer.next(2);\n  observer.next(3);\n  setTimeout(() =\x3e {\n    observer.next(4);\n    observer.complete();\n  }, 1000);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n    observer.complete();\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为得到\x3ccode\x3eobservable\x3c\/code\x3e推送的值，我们需要订阅（\x3cem\x3esubscribe\x3c\/em\x3e）这个Observable：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function (observer) {\n  observer.next(1);\n  observer.next(2);\n  observer.next(3);\n  setTimeout(() =\x3e {\n    observer.next(4);\n    observer.complete();\n  }, 1000);\n});\n\nconsole.log(\x27just before subscribe\x27);\nobservable.subscribe({\n  next: x =\x3e console.log(\x27got value \x27 \x2b x),\n  error: err =\x3e console.error(\x27something wrong occurred: \x27 \x2b err),\n  complete: () =\x3e console.log(\x27done\x27),\n});\nconsole.log(\x27just after subscribe\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n    observer.complete();\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27just before subscribe\x27\x3c\/span\x3e);\nobservable.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27got value \x27\x3c\/span\x3e \x2b x),\n  \x3cspan class=\x22hljs-attr\x22\x3eerror\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.error(\x3cspan class=\x22hljs-string\x22\x3e\x27something wrong occurred: \x27\x3c\/span\x3e \x2b err),\n  \x3cspan class=\x22hljs-attr\x22\x3ecomplete\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27done\x27\x3c\/span\x3e),\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27just after subscribe\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e程序执行后，将在控制台输出如下结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\njust before subscribe\ngot value 1\ngot value 2\ngot value 3\njust after subscribe\ngot value 4\ndone\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode class=\x22none\x22\x3e\njust \x3cspan class=\x22hljs-keyword\x22\x3ebefore\x3c\/span\x3e subscribe\ngot \x3cspan class=\x22hljs-built_in\x22\x3evalue\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\ngot \x3cspan class=\x22hljs-built_in\x22\x3evalue\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\ngot \x3cspan class=\x22hljs-built_in\x22\x3evalue\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\njust \x3cspan class=\x22hljs-keyword\x22\x3eafter\x3c\/span\x3e subscribe\ngot \x3cspan class=\x22hljs-built_in\x22\x3evalue\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\ndone\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e拉取(Pull)  V.S. 推送(Push)\x3c\/h2\x3e\n\x3cp\x3e\x3cem\x3e拉取\x3c\/em\x3e和\x3cem\x3e推送\x3c\/em\x3e是数据\x3cem\x3e生产者\x3c\/em\x3e和数据\x3cem\x3e消费者\x3c\/em\x3e之间通信的两种不同机制。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e何为拉取？\x3c\/strong\x3e 在拉取系统中，总是由消费者决定何时从生产者那里获得数据。生产者对数据传递给消费者的时间毫无感知（\x3cem\x3e被动的生产者，主动的消费者\x3c\/em\x3e）。\x3c\/p\x3e\n\x3cp\x3eJavaScript函数是典型的拉取系统：函数是数据的生产者，对函数进行调用的代码（消费者）从函数调用后的返回值中拉取\x3cem\x3e单值\x3c\/em\x3e进行消费。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 函数是数据的生产者\nlet getLuckyNumber = function() {\n    return 7;\n};\n\n\/* let代码段是数据的消费者，\n * getLuckyNumber对调用时间毫无感知。 \n *\/\nlet luckNumber = getLuckyNumber();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 函数是数据的生产者\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e getLuckyNumber = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e;\n};\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/* let代码段是数据的消费者，\n * getLuckyNumber对调用时间毫无感知。 \n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e luckNumber = getLuckyNumber();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eES2015 引入了的 \x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Statements\/function*\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e生成器函数 | 遍历器\x3c\/a\x3e (\x3ccode\x3efunction*\x3c\/code\x3e)同样是基于拉取的系统： 调用 \x3ccode\x3eiterator.next()\x3c\/code\x3e的代码段是消费者，它可以从生成器函数中拉取多个值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function* getLessThanTen() {\n  var i = 0;\n  while(i \x3c 11) {\n    yield i\x2b\x2b;\n  }\n}\n\n\/\/ 生产者\nlet iterator = getLessThanTen();\n\n\/\/ 消费者\niterator.next(); \/\/ Object {value: 0, done: false}\niterator.next(); \/\/ Object {value: 1, done: false}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e* \x3cspan class=\x22hljs-title\x22\x3egetLessThanTen\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e(i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eyield\x3c\/span\x3e i\x2b\x2b;\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 生产者\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e iterator = getLessThanTen();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 消费者\x3c\/span\x3e\niterator.next(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Object {value: 0, done: false}\x3c\/span\x3e\niterator.next(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Object {value: 1, done: false}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3eMagicQ\x3c\/th\x3e\n\x3cth\x3e生产者\x3c\/th\x3e\n\x3cth\x3e消费者\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x3cstrong\x3e拉取\x3c\/strong\x3e\x3c\/td\x3e\n\x3ctd\x3e\n\x3cstrong\x3e被动:\x3c\/strong\x3e 在被请求时产生数据\x3c\/td\x3e\n\x3ctd\x3e\n\x3cstrong\x3e主动:\x3c\/strong\x3e 决定何时请求数据\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x3cstrong\x3e推送\x3c\/strong\x3e\x3c\/td\x3e\n\x3ctd\x3e\n\x3cstrong\x3e主动:\x3c\/strong\x3e 控制数据的产生逻辑\x3c\/td\x3e\n\x3ctd\x3e\n\x3cstrong\x3e被动:\x3c\/strong\x3e 获得数据后进行响应\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e\x3cstrong\x3e何为推送？\x3c\/strong\x3e 在推送系统中生产者决定何时向消费者传递数据，消费者对何时收到数据毫无感知（被动的消费者）。\x3c\/p\x3e\n\x3cp\x3e现代JavaScript中\x3cstrong\x3ePromise\x3c\/strong\x3e是典型的推送系统。作为数据生产者的Promise通过\x3ccode\x3eresolve()\x3c\/code\x3e向数据消费者——回调函数传递数据：与函数不同，Promise决定向回调函数推送值的时间。\x3c\/p\x3e\n\x3cp\x3eRxJS在 JavaScript 中引入了Observable(可观察对象)这个新的推送系统。Observable是多数据值的生产者，向Observer(被动的消费者)推送数据。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e函数\x3c\/strong\x3e 调用后同步计算并返回单一值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e生成器函数 | 遍历器 \x3c\/strong\x3e 遍历过程中同步计算并返回0个到无穷多个值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ePromise\x3c\/strong\x3e 异步执行中返回或者不返回单一值\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eObservable\x3c\/strong\x3e 同步或者异步计算并返回0个到无穷多个值\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eObservable 是函数概念的拓展\x3c\/h2\x3e\n\x3cp\x3eObservable既不像EventEmitter，也不像是Promise。Observable 中的 Subject 进行多路推送时与 EventEmitter \x3cstrong\x3e行为上\x3c\/strong\x3e有些类似，但是实际上Observable与EventEmitter并不相同。\x3c\/p\x3e\n\x3cp\x3eObservable 更像是一个不需要传入参数的函数，它拓展了函数的概念使得它可以返回多个值。\x3c\/p\x3e\n\x3cp\x3e看看下面的例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo() {\n  console.log(\x27Hello\x27);\n  return 42;\n}\n\nvar x = foo.call(); \/\/ same as foo()\nconsole.log(x);\nvar y = foo.call(); \/\/ same as foo()\nconsole.log(y);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = foo.call(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ same as foo()\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e y = foo.call(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ same as foo()\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(y);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;Hello\x26quot;\n42\n\x26quot;Hello\x26quot;\n42\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过Observable可以实现同样的行为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var foo = Rx.Observable.create(function (observer) {\n  console.log(\x27Hello\x27);\n  observer.next(42);\n});\n\nfoo.subscribe(function (x) {\n  console.log(x);\n});\nfoo.subscribe(function (y) {\n  console.log(y);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e);\n});\n\nfoo.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n});\nfoo.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ey\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(y);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果相同：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;Hello\x26quot;\n42\n\x26quot;Hello\x26quot;\n42\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不论Observable还是函数都是在运行时进行求值计算的。如果不调用函数，\x3ccode\x3econsole.log(\x27Hello\x27)\x3c\/code\x3e就不会执行；如果如果不\x3ccode\x3esubscribe\x3c\/code\x3e（订阅）Observable，\x3ccode\x3econsole.log(\x27Hello\x27)\x3c\/code\x3e也不会执行。此外，\x3cstrong\x3e调用\x3c\/strong\x3e或者\x3cstrong\x3e订阅\x3c\/strong\x3e都是独立的：两次调用产生两个独立的作用域，两次订阅同样会产生两个独立的作用域。EventEmitter总是在同一个作用域中，发射前也不会在意自己是否已经被订阅；Observable不会被共享而产生副作用，并且总是在被订阅时才执行。\x3c\/p\x3e\n\x3cp\x3e订阅Observable与调用函数类似。\x3c\/p\x3e\n\x3cp\x3e一些人认为Observable总是是异步的，这个观点并不正确，如果在控制台log函数中调用函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(\x27before\x27);\nconsole.log(foo.call());\nconsole.log(\x27after\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27before\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(foo.call());\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27after\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e显然可以看到以下输出：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;before\x26quot;\n\x26quot;Hello\x26quot;\n42\n\x26quot;after\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22before\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22after\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eObservable的行为完全一样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22console.log(\x27before\x27);\nfoo.subscribe(function (x) {\n  console.log(x);\n});\nconsole.log(\x27after\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27before\x27\x3c\/span\x3e);\nfoo.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27after\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;before\x26quot;\n\x26quot;Hello\x26quot;\n42\n\x26quot;after\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22before\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22after\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e订阅 \x3ccode\x3efoo\x3c\/code\x3e完全是同步的，与函数的调用一样。\x3c\/p\x3e\n\x3cp\x3eObservable可以异步或者同步地产生数据。\x3c\/p\x3e\n\x3cp\x3e那Observable 与函数的不同之处在哪里？ \x3cstrong\x3eObservable可以在一个时间过程中‘返回’多个值\x3c\/strong\x3e，而函数却不能。在函数中你不可以这么做：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function foo() {\n  console.log(\x27Hello\x27);\n  return 42;\n  return 100; \/\/ 这个语句永远不会被执行。\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这个语句永远不会被执行。\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e虽然函数只能有一个返回值，但是在Observable中你完全可以这么做：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var foo = Rx.Observable.create(function (observer) {\n  console.log(\x27Hello\x27);\n  observer.next(42);\n  observer.next(100); \/\/ 返回另一个值\n  observer.next(200); \/\/ 返回另一个值\n});\n\nconsole.log(\x27before\x27);\nfoo.subscribe(function (x) {\n  console.log(x);\n});\nconsole.log(\x27after\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回另一个值\x3c\/span\x3e\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回另一个值\x3c\/span\x3e\n});\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27before\x27\x3c\/span\x3e);\nfoo.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27after\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;before\x26quot;\n\x26quot;Hello\x26quot;\n42\n100\n200\n\x26quot;after\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22before\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22after\x22\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你甚至可以异步地返回值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var foo = Rx.Observable.create(function (observer) {\n  console.log(\x27Hello\x27);\n  observer.next(42);\n  observer.next(100);\n  observer.next(200);\n  setTimeout(() =\x3e {\n    observer.next(300); \/\/ happens asynchronously\n  }, 1000);\n});\n\nconsole.log(\x27before\x27);\nfoo.subscribe(function (x) {\n  console.log(x);\n});\nconsole.log(\x27after\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e foo = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Hello\x27\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e);\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ happens asynchronously\x3c\/span\x3e\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n});\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27before\x27\x3c\/span\x3e);\nfoo.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x);\n});\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27after\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\x26quot;before\x26quot;\n\x26quot;Hello\x26quot;\n42\n100\n200\n\x26quot;after\x26quot;\n300\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22before\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22Hello\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e\x22after\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结论：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3efunc.call()\x3c\/code\x3e 意味着“同步地给我一个值”\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eobservable.subscribe()\x3c\/code\x3e 意味着“不管是同步或者异步，给我一些值”\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eObservable 剖析\x3c\/h2\x3e\n\x3cp\x3e通过使用 \x3ccode\x3eRx.Observable.create\x3c\/code\x3e 或者是\x3cem\x3e创建操作符\x3c\/em\x3e，\x3cstrong\x3e创建\x3c\/strong\x3e一个Observable； Observable 被 Observer（观察者） \x3cstrong\x3e订阅\x3c\/strong\x3e； 在\x3cstrong\x3e执行\x3c\/strong\x3e时 向观察者发送\x3ccode\x3enext\x3c\/code\x3e \/ \x3ccode\x3eerror\x3c\/code\x3e \/ \x3ccode\x3ecomplete\x3c\/code\x3e 通知；同时执行过程可以被 \x3cstrong\x3e终止\x3c\/strong\x3e。 \x3cbr\x3eObservable 类型的实例具备了以上四个方面的特性，与其他类型如：Observer 和 Subscription 紧密相关。\x3c\/p\x3e\n\x3cp\x3e我们重点关注以下四个方面：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e创建\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e订阅\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e执行\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e终止\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e创建\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eRx.Observable.create\x3c\/code\x3e 是 \x3ccode\x3eObservable\x3c\/code\x3e 构造函数的别名，接受一个参数： \x3ccode\x3esubscribe\x3c\/code\x3e函数。\x3c\/p\x3e\n\x3cp\x3e以下例子会创建一个Observable，每一秒钟向其订阅者发射一个\x3ccode\x3e\x27hi\x27\x3c\/code\x3e 字符串。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function subscribe(observer) {\n  var id = setInterval(() =\x3e {\n    observer.next(\x27hi\x27)\n  }, 1000);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e id = setInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-string\x22\x3e\x27hi\x27\x3c\/span\x3e)\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了使用\x3ccode\x3ecreate\x3c\/code\x3e创建Observable，我们通常还使用\x3ca\x3e创建操作符\x3c\/a\x3e, 如 \x3ccode\x3eof\x3c\/code\x3e，\x3ccode\x3efrom\x3c\/code\x3e， \x3ccode\x3einterval\x3c\/code\x3e, 等来创建Observable。\x3c\/p\x3e\n\x3cp\x3e上面例子中，\x3ccode\x3esubscribe\x3c\/code\x3e函数是定义Observable最重要的部分。我们接下来了解订阅的含义。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e订阅\x3c\/h3\x3e\n\x3cp\x3e上面例子中的\x3ccode\x3eobservable\x3c\/code\x3e 可以以如下方式 \x3cem\x3e订阅\x3c\/em\x3e ：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22observable.subscribe(x =\x3e console.log(x));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eobservable.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eobservable.subscribe\x3c\/code\x3e 和 \x3ccode\x3eObservable.create(function subscribe(observer) {...})\x3c\/code\x3e中的\x3ccode\x3esubscribe\x3c\/code\x3e 同名并非巧合。虽然在Rx中它们不是同一个对象，但是在工程中，我们可以在概念上视两者为等价物。\x3c\/p\x3e\n\x3cp\x3e调用\x3ccode\x3esubscribe\x3c\/code\x3e的观察者并不会共享同一个Observable。观察者调用\x3ccode\x3eobservable.subscribe\x3c\/code\x3e 时，\x3ccode\x3eObservable.create(function subscribe(observer) {...})\x3c\/code\x3e中的\x3ccode\x3esubscribe\x3c\/code\x3e会在调用它的观察者作用域中执行。每一次\x3ccode\x3eobservable.subscribe\x3c\/code\x3e的调用，都是彼此独立的。\x3c\/p\x3e\n\x3cp\x3e订阅Observable如同调用函数，需要提供相应的回调方法。\x3c\/p\x3e\n\x3cp\x3e订阅机制与处理事件的\x3ccode\x3eaddEventListener\x3c\/code\x3e \/ \x3ccode\x3eremoveEventListener\x3c\/code\x3eAPI完全不同。通过\x3ccode\x3eobservable.subscribe\x3c\/code\x3e，观察者并不需要在Observable中进行注册，Observable也不需要维护订阅者的列表。\x3c\/p\x3e\n\x3cp\x3e订阅后便进入了Observable的执行阶段，在执行阶段值和事件将会被传递给观察者供其消费。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e执行\x3c\/h3\x3e\n\x3cp\x3e只有在被订阅之后Observable才会执行，执行的逻辑在\x3ccode\x3eObservable.create(function subscribe(observer) {...})\x3c\/code\x3e中描述，执行后将会在特定时间段内，同步或者异步地成产多个数据值。\x3c\/p\x3e\n\x3cp\x3eObservable在执行过程中，可以推送三种类型的值：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x22Next\x22 通知： 实际产生的数据，包括数字、字符串、对象等\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x22Error\x22 通知：一个JavaScript错误或者异常\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x22Complete\x22 通知：一个不带有值的事件\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e“Next” 通知是最重要和常用的类型：表示事件传递给观察者的数据。错误和完成通知仅会在执行阶段推送其一，并不会同时推送错误和完成通知。\x3c\/p\x3e\n\x3cp\x3e通过所谓的“Observable语法”或者“契约”可以最好地表达这个规则，“Observable语法”借助于正则表达式：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22next*(error|complete)?\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lua\x22\x3e\x3ccode class=\x22none\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3enext\x3c\/span\x3e*(\x3cspan class=\x22hljs-built_in\x22\x3eerror\x3c\/span\x3e|complete)?\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在Observable的执行过程中，0个或者多个“Next”通知会被推送。在错误或者完成通知被推送后，Observable不会再推送任何其他通知。\x3c\/p\x3e\n\x3cp\x3e下面代码展示了Observable 在执行过程中推送3个“Next” 通知然后结束：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function subscribe(observer) {\n  observer.next(1);\n  observer.next(2);\n  observer.next(3);\n  observer.complete();\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n  observer.complete();\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eObservable 严格遵守 Observable 契约，后面值为\x3ccode\x3e4\x3c\/code\x3e的“Next” 通知永远不会被推送：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function subscribe(observer) {\n  observer.next(1);\n  observer.next(2);\n  observer.next(3);\n  observer.complete();\n  observer.next(4); \/\/ 由于违法契约，4不会被推送\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n  observer.complete();\n  observer.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 由于违法契约，4不会被推送\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用\x3ccode\x3etry\x3c\/code\x3e\/\x3ccode\x3ecatch\x3c\/code\x3e块包裹 \x3ccode\x3esubscribe\x3c\/code\x3e 代码是一个很赞的想法，如果捕获了异常，可以推送错误通知：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function subscribe(observer) {\n  try {\n    observer.next(1);\n    observer.next(2);\n    observer.next(3);\n    observer.complete();\n  } catch (err) {\n    observer.error(err); \/\/ 捕获异常后推送错误通知\n  }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n    observer.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n    observer.complete();\n  } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (err) {\n    observer.error(err); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 捕获异常后推送错误通知\x3c\/span\x3e\n  }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e终止\x3c\/h3\x3e\n\x3cp\x3eObservable的执行可能是无限的，作为观察者需要主动中断执行：我们需要特定的API去终止执行过程。因为特定的观察者都有特定的执行过程，一旦观察者获得想要的数据后就需要终止执行过程以免带来计算时对内存资源的浪费。\x3c\/p\x3e\n\x3cp\x3e在\x3ccode\x3eobservable.subscribe\x3c\/code\x3e被调用时，观察者会与其执行作用域绑定，同时返回一个\x3ccode\x3eSubscription\x3c\/code\x3e类型的对象：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subscription = observable.subscribe(x =\x3e console.log(x));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subscription = observable.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eSubscription对象表示执行过程，通过极简的API，你可以终止执行过程。详情请阅读\x3ca\x3e\x3ccode\x3eSubscription\x3c\/code\x3e 相关文档\x3c\/a\x3e。通过调用\x3ccode\x3esubscription.unsubscribe()\x3c\/code\x3e 你可以终止执行过程：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.from([10, 20, 30]);\nvar subscription = observable.subscribe(x =\x3e console.log(x));\n\/\/ Later:\nsubscription.unsubscribe();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.from([\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subscription = observable.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Later:\x3c\/span\x3e\nsubscription.unsubscribe();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在Observable被订阅后，代表执行过程的Subscription 对象将被返回。对其调用\x3ccode\x3eunsubscribe()\x3c\/code\x3e就可以终止执行。\x3c\/p\x3e\n\x3cp\x3e每一个Observable都需要在 \x3ccode\x3ecreate()\x3c\/code\x3e的创建过程中定义终止的逻辑。在\x3ccode\x3efunction subscribe()\x3c\/code\x3e中返回自定义的\x3ccode\x3eunsubscribe\x3c\/code\x3e就可以实现。\x3c\/p\x3e\n\x3cp\x3e下面的例子说明了如何在终止后释放\x3ccode\x3esetInterval\x3c\/code\x3e的句柄：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var observable = Rx.Observable.create(function subscribe(observer) {\n  \/\/ 获得定时函数的句柄\n  var intervalID = setInterval(() =\x3e {\n    observer.next(\x27hi\x27);\n  }, 1000);\n  \n  \/\/ 提供终止方法释放定时函数的句柄\n  return function unsubscribe() {\n    clearInterval(intervalID);\n  };\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.create(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获得定时函数的句柄\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e intervalID = setInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-string\x22\x3e\x27hi\x27\x3c\/span\x3e);\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n  \n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 提供终止方法释放定时函数的句柄\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eunsubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    clearInterval(intervalID);\n  };\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e类似于\x3ccode\x3eobservable.subscribe\x3c\/code\x3e 和 \x3ccode\x3eObservable.create(function subscribe() {...})\x3c\/code\x3e的关系，我们在\x3ccode\x3esubscribe\x3c\/code\x3e中返回的 \x3ccode\x3eunsubscribe\x3c\/code\x3e 也与\x3ccode\x3esubscription.unsubscribe\x3c\/code\x3e在概念上等价。事实上，如果我们除去Rx的包装，纯粹的JavaScript代码简单清晰：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function subscribe(observer) {\n  var intervalID = setInterval(() =\x3e {\n    observer.next(\x27hi\x27);\n  }, 1000);\n  \n  return function unsubscribe() {\n    clearInterval(intervalID);\n  };\n}\n\nvar unsubscribe = subscribe({next: (x) =\x3e console.log(x)});\n\n\/\/ 一段时间后:\nunsubscribe(); \/\/ 终止\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobserver\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e intervalID = setInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    observer.next(\x3cspan class=\x22hljs-string\x22\x3e\x27hi\x27\x3c\/span\x3e);\n  }, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n  \n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eunsubscribe\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    clearInterval(intervalID);\n  };\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e unsubscribe = subscribe({\x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ex\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(x)});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一段时间后:\x3c\/span\x3e\nunsubscribe(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 终止\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用Observable、 Observer 和 Subscription这些概念的原因是，我们可以在Observable 契约之下安全、兼容地调用操作符。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>RxJs 核心概念之Observable</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005051034">https://segmentfault.com/a/1190000005051034</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gnukqsopvw/" target="_blank">https://alili.tech/archive/gnukqsopvw/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>