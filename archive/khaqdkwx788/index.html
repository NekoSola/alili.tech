<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="纯 CSS 实现多行文字截断"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>纯 CSS 实现多行文字截断 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/khaqdkwx788/",
				"appid": "1613049289050283", 
				"title": "纯 CSS 实现多行文字截断 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-14T02:30:37"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wf4rk7udv3k/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/pln1wv8utp/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&text=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&text=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&title=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&is_video=false&description=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&title=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&title=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&title=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkhaqdkwx788%2f&title=%e7%ba%af%20CSS%20%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8c%e6%96%87%e5%ad%97%e6%88%aa%e6%96%ad"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">纯 CSS 实现多行文字截断</h1><div class="meta"><div class="postdate"><time datetime="2019-02-14" itemprop="datePublished">2019-02-14</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e做响应式系统设计的时候遇到需要对标题进行多行文字截取的效果，如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZjB?w=698\x26amp;h=332\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZjB?w=698\x26amp;h=332\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e看似十分简单的标题截断效果，但是竟然没有一个统一 CSS 属性实现标准，需要用到一些奇淫妙计来实现，一般来说，在做这样文字截断效果时我们更多是希望：\x3c\/p\x3e\n\x3cp\x3e兼容性好，对各大主流浏览器有好的支持\x3cbr\x3e响应式截断，根据不同宽度做出调整\x3cbr\x3e文本超出范围才显示省略号，否则不显示省略号\x3cbr\x3e省略号位置显示刚好\x3cbr\x3e基于上述的准则，下面我就讲介绍各种技巧实现截断效果，并根据上述的评判标准得出最优解。(代码我都传到 jsfiddle 平台，可点击 demo 地址查看)\x3c\/p\x3e\n\x3cp\x3e单行文本截断 text-overflow\x3cbr\x3e文本溢出我们经常用到的应该就是 text-overflow: ellipsis 了，相信大家也很熟悉，只需轻松几行代码就可以实现单行文本截断。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22div {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3ewhite-space\x3c\/span\x3e: nowrap;\n  \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n  \x3cspan class=\x22hljs-attribute\x22\x3etext-overflow\x3c\/span\x3e: ellipsis;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实现效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZjH?w=898\x26amp;h=395\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZjH?w=898\x26amp;h=395\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e属性浏览器原生支持，各大浏览器兼容性好，缺点就是只支持单行文本截断，并不支持多行文本截取。\x3c\/p\x3e\n\x3cp\x3e适用场景：单行文字截断最简单实现，效果最好，放心使用。\x3c\/p\x3e\n\x3cp\x3e如果是多行文字截取效果，实现起来就没有那么轻松。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e-webkit-line-clamp 实现\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e先介绍第一种方式，就是通过 -webkit-line-clamp 属性实现。具体的方式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22div {\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: -webkit-box;\n  \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n  \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-line-clamp\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3e-webkit-box-orient\x3c\/span\x3e: vertical;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e它需要和 display、-webkit-box-orient 和 overflow 结合使用：\x3c\/p\x3e\n\x3cp\x3edisplay: -webkit-box; 必须结合的属性，将对象作为弹性伸缩盒子模型显示。\x3cbr\x3e-webkit-box-orient; 必须结合的属性，设置或检索伸缩盒对象的子元素的排列方式。\x3cbr\x3etext-overflow: ellipsis; 可选属性，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本。\x3c\/p\x3e\n\x3cp\x3e实现效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZjI?w=898\x26amp;h=395\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZjI?w=898\x26amp;h=395\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e从效果上来看，它的优点有：\x3c\/p\x3e\n\x3cp\x3e1.响应式截断，根据不同宽度做出调整\x3cbr\x3e2.文本超出范围才显示省略号，否则不显示省略号\x3cbr\x3e3.浏览器原生实现，所以省略号位置显示刚好\x3c\/p\x3e\n\x3cp\x3e但是缺点也是很直接，因为 -webkit-line-clamp 是一个不规范的属性，它没有出现在 CSS 规范草案中。也就是说只有 webkit 内核的浏览器才支持这个属性，像 Firefox, IE 浏览器统统都不支持这个属性，浏览器兼容性不好。\x3c\/p\x3e\n\x3cp\x3e使用场景：多用于移动端页面，因为移动设备浏览器更多是基于 webkit 内核，除了兼容性不好，实现截断的效果不错。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e定位元素实现多行文本截断\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e另外还有一种靠谱简单的做法就是设置相对定位的容器高度，用包含省略号(…)的元素模拟实现，实现方式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22p {\n    position: relative;\n    line-height: 18px;\n    height: 36px;\n    overflow: hidden;\n}\np::after {\n    content:\x26quot;...\x26quot;;\n    font-weight:bold;\n    position:absolute;\n    bottom:0;\n    right:0;\n    padding:0 20px 1px 45px;\n    \n    \/* 为了展示效果更好 *\/\n    background: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), to(white), color-stop(50%, white));\n    background: -moz-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n    background: -o-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n    background: -ms-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n    \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e18px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e36px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n}\n\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e::after\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22...\x22\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3efont-weight\x3c\/span\x3e:bold;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e:absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eright\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e45px\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 为了展示效果更好 *\/\x3c\/span\x3e\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3e-webkit-gradient\x3c\/span\x3e(linear, left top, right top, from(rgba(255, 255, 255, 0)), \x3cspan class=\x22hljs-built_in\x22\x3eto\x3c\/span\x3e(white), \x3cspan class=\x22hljs-built_in\x22\x3ecolor-stop\x3c\/span\x3e(50%, white));\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3e-moz-linear-gradient\x3c\/span\x3e(to right, rgba(255, 255, 255, 0), white \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e, white);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3e-o-linear-gradient\x3c\/span\x3e(to right, rgba(255, 255, 255, 0), white \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e, white);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3e-ms-linear-gradient\x3c\/span\x3e(to right, rgba(255, 255, 255, 0), white \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e, white);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3elinear-gradient\x3c\/span\x3e(to right, rgba(255, 255, 255, 0), white \x3cspan class=\x22hljs-number\x22\x3e50%\x3c\/span\x3e, white);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实现原理很好理解，就是通过伪元素绝对定位到行尾并遮住文字，再通过 overflow: hidden 隐藏多余文字。\x3c\/p\x3e\n\x3cp\x3e实现效果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZj4?w=898\x26amp;h=395\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZj4?w=898\x26amp;h=395\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e从实现效果来看，它所具备的优点：\x3c\/p\x3e\n\x3cp\x3e1.兼容性好，对各大主流浏览器有好的支持\x3cbr\x3e2.响应式截断，根据不同宽度做出调整\x3c\/p\x3e\n\x3cp\x3e但是它无法识别文字的长短，即文本超出范围才显示省略号，否则不显示省略号。还有因为是我们人为地在文字末尾添加一个省略号效果，就会导致它跟文字其实没有贴合的很紧密，遇到这种情况可以通过添加 word-break: break-all; 使一个单词能够在换行时进行拆分。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZko?w=898\x26amp;h=395\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZko?w=898\x26amp;h=395\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e适合场景：文字内容较多，确定文字内容一定会超过容器的，那么选择这种方式不错。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3efloat 特性实现多行文本截断\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e回到一开始我要做的内容是多行标题文字截取效果，显然是无法控制标题的长度的，显然是无法使用上述的方式。回到事情的本质来看：我们希望 CSS 能够有一种属性，能够在文字溢出的情况下显示省略号，不溢出时不显示省略号。(两种形式，两种效果)\x3c\/p\x3e\n\x3cp\x3e正当我以为 CSS 已经无能为力，只能通过 JS 去实现的时候，后来看到了一个方法非常巧妙，而且能够满足上述提到的所有准则，下面我就介绍如何通过 float 特性实现多行文本截断效果。\x3c\/p\x3e\n\x3cp\x3e基本原理：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZkp?w=1720\x26amp;h=1106\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZkp?w=1720\x26amp;h=1106\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e有个三个盒子 div，粉色盒子左浮动，浅蓝色盒子和黄色盒子右浮动，\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e1.当浅蓝色盒子的高度低于粉色盒子，黄色盒子仍会处于浅蓝色盒子右下方。\x3c\/strong\x3e\x3cbr\x3e\x3cstrong\x3e2.如果浅蓝色盒子文本过多，高度超过了粉色盒子，则黄色盒子不会停留在右下方，而是掉到了粉色盒子下。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e好了，这样两种状态的两种展示形式已经区分开了，那么我们可以将黄色盒子进行相对定位，将内容溢出的黄色盒子移动到文本内容右下角，而未溢出的则会被移到外太空去了，只要我们使用 overflow: hidden 就可以隐藏掉。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZkw?w=1820\x26amp;h=1112\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZkw?w=1820\x26amp;h=1112\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e基本原理就是这样，我们可以将浅蓝色区域想象成标题，黄色区域想象为省略号效果。那么你可能会觉得粉色盒子占了空间，那岂不是标题会整体延后了吗，这里可以通过 margin 的负值来出来，设置浅蓝色盒子的 margin-left 的负值与粉色盒子的宽度相同，标题也能正常显示。\x3c\/p\x3e\n\x3cp\x3e那么我们将前面的 DOM 结构简化下，变成下面这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;wrap\x26quot;\x3e\n  \x3cdiv class=\x26quot;text\x26quot;\x3eLorem ipsum dolor sit amet, consectetur adipisicing elit. Dignissimos labore sit vel itaque delectus atque quos magnam assumenda quod architecto perspiciatis animi.\x3c\/div\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22wrap\x22\x3c\/span\x3e\x26gt;\n  \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\x22\x3c\/span\x3e\x26gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dignissimos labore sit vel itaque delectus atque quos magnam assumenda quod architecto perspiciatis animi.\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e刚才的粉色盒子和黄色盒子都可以用伪元素来代替。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.wrap {\n  height: 40px;\n  line-height: 20px;\n  overflow: hidden;\n}\n.wrap .text {\n  float: right;\n  margin-left: -5px;\n  width: 100%;\n  word-break: break-all;\n}\n.wrap::before {\n  float: left;\n  width: 5px;\n  content: \x27\x27;\n  height: 40px;\n}\n.wrap::after {\n  float: right;\n  content: \x26quot;...\x26quot;;\n  height: 20px;\n  line-height: 20px;\n  \/* 为三个省略号的宽度 *\/\n  width: 3em;\n  \/* 使盒子不占位置 *\/\n  margin-left: -3em;\n  \/* 移动省略号位置 *\/\n  position: relative;\n  left: 100%;\n  top: -20px;\n  padding-right: 5px;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.wrap\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e: hidden;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.wrap\x3c\/span\x3e \x3cspan class=\x22hljs-selector-class\x22\x3e.text\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: right;\n  \x3cspan class=\x22hljs-attribute\x22\x3emargin-left\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eword-break\x3c\/span\x3e: break-all;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.wrap\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e::before\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.wrap\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e::after\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: right;\n  \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22...\x22\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3eline-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* 为三个省略号的宽度 *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3em\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* 使盒子不占位置 *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attribute\x22\x3emargin-left\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e3em\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/* 移动省略号位置 *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n  \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: -\x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3epadding-right\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e实现效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVbiZkx?w=898\x26amp;h=395\x22 src=\x22https:\/\/static.alili.tech\/img\/bVbiZkx?w=898\x26amp;h=395\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里我目前看到最巧妙的方式了。只需要支持 CSS 2.1 的特性就可以了，它的优点有：\x3c\/p\x3e\n\x3cp\x3e1.兼容性好，对各大主流浏览器有好的支持\x3cbr\x3e2.响应式截断，根据不同宽度做出调整\x3cbr\x3e3.文本超出范围才显示省略号，否则不显示省略号\x3c\/p\x3e\n\x3cp\x3e至于缺点，因为我们是模拟省略号，所以显示位置有时候没办法刚刚好，所以可以考虑：\x3c\/p\x3e\n\x3cp\x3e1.加一个渐变效果，贴合文字，就像上述 demo 效果一样\x3cbr\x3e2.添加 word-break: break-all; 使一个单词能够在换行时进行拆分，这样文字和省略号贴合效果更佳。\x3c\/p\x3e\n\x3cp\x3e这个方法应该是我看到最好的用纯 CSS 处理的方式了，如果你有更好的方法，欢迎留言交流！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>纯 CSS 实现多行文字截断</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016879657">https://segmentfault.com/a/1190000016879657</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/khaqdkwx788/" target="_blank">https://alili.tech/archive/khaqdkwx788/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>