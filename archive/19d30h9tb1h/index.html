<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="谈谈JavaScript的词法环境和闭包（一）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>谈谈JavaScript的词法环境和闭包（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/19d30h9tb1h/",
				"appid": "1613049289050283", 
				"title": "谈谈JavaScript的词法环境和闭包（一） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-05T02:30:09"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/1s7lz4xxo6n/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/s51fbtfllui/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&text=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&text=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&title=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&is_video=false&description=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&title=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&title=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&title=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f19d30h9tb1h%2f&title=%e8%b0%88%e8%b0%88JavaScript%e7%9a%84%e8%af%8d%e6%b3%95%e7%8e%af%e5%a2%83%e5%92%8c%e9%97%ad%e5%8c%85%ef%bc%88%e4%b8%80%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">谈谈JavaScript的词法环境和闭包（一）</h1><div class="meta"><div class="postdate"><time datetime="2019-02-05" itemprop="datePublished">2019-02-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e一个资深的同事在我出发去面试前告诫我，问JS知识点的时候千万别主动提闭包，它就是一个坑啊！坑啊！啊！\x3c\/p\x3e\n\x3cp\x3e闭包确实是js的难点和重点，其实也没那么可怕，关键是机制的理解，可以和函数一起单独拿出来说说，其实关于闭包的解释很多文章都写得比较详细了，这篇文章就作为自己学习过程的记录吧。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e闭包的概念\x3c\/h1\x3e\n\x3cp\x3e首先明确一下闭包的概念：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/cn\/docs\/Web\/JavaScript\/Closures\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN (Mozilla Develop Network) \x3c\/a\x3e上的对闭包的定义：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e闭包是指能够访问自由变量的函数 (变量在本地使用，但在闭包中定义)。换句话说，定义在闭包中的函数可以“记忆”它被创建时候的环境。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e分析：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e闭包由函数和与其相关的引用环境（词法环境）的组合而成\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e闭包允许函数访问其引用环境（词法环境）中的变量（又称自由变量）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e广义上来说，\x3cstrong\x3e所有JS的函数都可以称为闭包\x3c\/strong\x3e，因为JS函数在创建时保存了当前的词法环境\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e还是很拗口有木有，一脸懵逼的时候就应该从基础的概念开始找，所以我们来谈谈词法环境。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e词法环境的概念\x3c\/h1\x3e\n\x3cp\x3e定义（摘自\x3ca href=\x22https:\/\/www.w3.org\/html\/ig\/zh\/wiki\/ES5\/%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E4%B8%8E%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83#.E8.AF.8D.E6.B3.95.E7.8E.AF.E5.A2.83\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewiki百科\x3c\/a\x3e）。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e词法环境\x3c\/strong\x3e是一个用于定义特定变量和函数标识符在ECMAScript代码的词法嵌套结构上关联关系的规范类型。一个词法环境由一个\x3cstrong\x3e环境记录项\x3c\/strong\x3e和可能为空的\x3cstrong\x3e外部词法环境引用\x3c\/strong\x3e构成。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e变量作用域\x3c\/h2\x3e\n\x3cp\x3e一般来说，在编程语言中都有变量作用域的概念，每个变量都有自己的生命周期和作用范围。\x3cbr\x3e作用域有两种解析方式：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e静态作用域\x3cbr\x3e又称为词法作用域，在编译阶就可以决定变量的引用，由程序定义的位置决定，和代码执行顺序无关，用嵌套的方式解析。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e动态作用域\x3cbr\x3e在程序运行时候，和代码的执行顺序决定。用动态栈动态管理。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var x = 10;\nfunction getX() {\n    alert(x);\n}\nfunction foo() {\n    var x = 20;\n    getX();\n}\nfoo();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetX\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    alert(x);\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e;\n    getX();\n}\nfoo();\x3c\/code\x3e\x3c\/pre\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e在静态作用域下：\x3cbr\x3e全局作用域下有\x3ccode\x3ex\x3c\/code\x3e, \x3ccode\x3egetX\x3c\/code\x3e, \x3ccode\x3efoo\x3c\/code\x3e三个变量，\x3ccode\x3egetX\x3c\/code\x3e和\x3ccode\x3efoo\x3c\/code\x3e都有自己的作用域。执行foo函数的时候，getX()被执行，但是getX的\x3cstrong\x3e定义位置\x3c\/strong\x3e在全局作用域下的，取到的x是\x3ccode\x3e10\x3c\/code\x3e，而不是\x3ccode\x3e20\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在动态作用域下：\x3cbr\x3e运行这段代码时，先把\x3ccode\x3ex=10\x3c\/code\x3e、\x3ccode\x3egetX\x3c\/code\x3e、\x3ccode\x3efoo\x3c\/code\x3e按顺序压栈，然后执行\x3ccode\x3efoo\x3c\/code\x3e函数，在函数中把\x3ccode\x3ex=20\x3c\/code\x3e压栈，然后执行\x3ccode\x3egetX()\x3c\/code\x3e，此时距离栈顶最近的\x3ccode\x3ex\x3c\/code\x3e值为\x3ccode\x3e20\x3c\/code\x3e，因此alert的值也是\x3ccode\x3e20\x3c\/code\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cstrong\x3eJavaScript使用的变量作用域是静态作用域。\x3c\/strong\x3eJS中作用域简单分为两部分：全局作用域和函数作用域。ES5中使用\x3cstrong\x3e词法环境\x3c\/strong\x3e管理静态作用域。\x3c\/p\x3e\n\x3cp\x3e词法环境包含两部分\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e环境记录\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e形参\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e函数声明\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e变量\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e其它...\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e对外部词法环境的引用(outer)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e环境记录初始化\x3c\/h2\x3e\n\x3cp\x3e一段JS代码执行之前，会对环境记录进行初始化（声明提前），即将函数的形参、函数声明和变量先放入函数的环境记录中，特别需要注意的是：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e形参会在初始化的时候定义值，但是函数内部定义的变量只声明不定义（不赋值），这个需要用JS中的Hoisting机制来解释，具体可以看这一篇文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000000348228\x22\x3e《理解 JavaScript（二）：Scoping \x26amp; Hoisting》\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e以下面这段代码为例，解析环境记录初始化和代码执行的过程：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var x = 10;\nfunction foo(y) {\n    var z  = 30;\n    function bar(q) {\n        return x \x2b y \x2b z \x2b q;\n    }\n    return bar;\n}\nvar bar = foo(20);\nbar(40);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efoo\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(y)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e z  = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebar\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(q)\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e x \x2b y \x2b z \x2b q;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e bar;\n}\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e bar = foo(\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e);\nbar(\x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep1:初始化全局环境\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth colspan=\x222\x22\x3e全局环境\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd rowspan=\x223\x22\x3e环境记录(record)\x3c\/td\x3e\n   \x3ctd\x3efoo: \x26lt;function\x26gt;\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ex: undefined（声明变量而非定义变量）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebar: undefined（声明变量而非定义变量）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e外部环境(outer)\x3c\/td\x3e\n   \x3ctd\x3enull\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep2: 执行\x3ccode\x3ex=10\x3c\/code\x3e\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth colspan=\x222\x22\x3e全局环境\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd rowspan=\x223\x22\x3e环境记录(record)\x3c\/td\x3e\n   \x3ctd\x3efoo: \x26lt;function\x26gt;\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ex: 10（）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebar: undefined（声明变量而非定义变量）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e外部环境(outer)\x3c\/td\x3e\n   \x3ctd\x3enull\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep3：执行var bar = foo(20)语句之前，将foo函数的环境记录初始化\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth colspan=\x222\x22\x3efoo 环境\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd rowspan=\x223\x22\x3e环境记录(record)\x3c\/td\x3e\n   \x3ctd\x3e\x3cstrong\x3ey: 20（定义形参）\x3c\/strong\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebar: \x26lt;function\x26gt;\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ez: undefined（声明变量而非定义变量）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e外部环境(outer)\x3c\/td\x3e\n   \x3ctd\x3e全局环境\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep4：执行var bar = foo(20)语句，变量bar接收foo函数中返回的bar函数\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth colspan=\x222\x22\x3efoo 环境\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd rowspan=\x223\x22\x3e环境记录(record)\x3c\/td\x3e\n   \x3ctd\x3e\x3cstrong\x3ey: 20\x3c\/strong\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3ebar: \x26lt;function\x26gt;\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e\x3cstrong\x3ez: 30（定义z）\x3c\/strong\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e外部环境(outer)\x3c\/td\x3e\n   \x3ctd\x3e全局环境\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep5：执行bar函数之前，初始化bar的词法环境\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth colspan=\x222\x22\x3ebar环境\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e环境记录(record)\x3c\/td\x3e\n   \x3ctd\x3e\x3cstrong\x3eq: 40（定义形参q）\x3c\/strong\x3e\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e外部环境(outer)\x3c\/td\x3e\n   \x3ctd\x3efoo环境\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3cstrong\x3estep6：在foo函数内执行bar函数\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    x \x2b y \x2b z \x2b q = 10 \x2b 20 \x2b 30 \x2b 40 = 100 \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e    x \x2b y \x2b z \x2b q = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e = \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其实说了那么多，也是想强调一点：形参的值在环境初始化的时候就赋值了！因此形参的作用之一就是\x3cstrong\x3e保存外部变量的值\x3c\/strong\x3e！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e一道闭包的面试题\x3c\/h1\x3e\n\x3cp\x3e查了一下关于闭包的面试题，用具体的例子说明闭包的应用场景。\x3cbr\x3e最常见的答案来自于《JavaScript高级程序设计（第3版）》p181：\x3c\/p\x3e\n\x3cp\x3e例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function creacteFunctions() {\n    var result = new Array();\n    for (var i = 0; i \x3c 10; i\x2b\x2b) {\n        result[i] = function () {\n            return i;\n        }\n    }\n    return result;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreacteFunctions\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; i\x2b\x2b) {\n        result[i] = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e i;\n        }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个函数返回了长度为10的函数数组，假设我们调用函数数组的第3个函数，在控制台中输入\x3ccode\x3ecreacteFunctions()[2]()\x3c\/code\x3e，即执行函数数组里面的第三个函数，\x3ccode\x3ecreacteFunctions()\x3c\/code\x3e返回函数数组，[2]是取第三个函数的引用，最后一个()是执行第三个函数，返回结果却并不是预期的\x3ccode\x3e2\x3c\/code\x3e，而是\x3ccode\x3e10\x3c\/code\x3e.\x3c\/p\x3e\n\x3cp\x3e因此，为了能够让闭包的行为符合预期，需要创建一个匿名函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function creacteFunctions() {\n    var result = new Array();\n    for (var i = 0; i \x3c 10; i\x2b\x2b) {\n        result[i] = function (num) {\n            return function() {\n                return num;\n            }\n        }(i);\n    }\n    return result;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreacteFunctions\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; i\x2b\x2b) {\n        result[i] = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3enum\x3c\/span\x3e) \x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num;\n            }\n        }(i);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此时在控制台中输入\x3ccode\x3ecreacteFunctions()[2]()\x3c\/code\x3e，即执行函数数组里面的第三个函数，返回的就是预期中的\x3ccode\x3e2\x3c\/code\x3e。\x3cbr\x3e有了词法环境的初始化过程，这里也就非常容易理解了。匿名函数的形参num保存了每次执行的i的值。在\x3ccode\x3efunction(num){...}(i)\x3c\/code\x3e这个结构中，i作为形参num的实际值执行这个匿名函数，因此每次循环中的num直接初始化为i的值。\x3cbr\x3e为了更清楚的提取这部分结构，我们将匿名函数命名为helper：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var helper = function (num) {\n    return function() {\n        return num;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e helper = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(num)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用helper函数重写第二段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var helper = function (num) {\n    return function() {\n        return num;\n    }\n}\nfunction creacteFunctions() {\n    var result = new Array();\n    for (var i = 0; i \x3c 10; i\x2b\x2b) {\n        result[i] = helper(i);\n    }\n    return result;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e helper = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3enum\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e num;\n    }\n}\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreacteFunctions\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e();\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e; i\x2b\x2b) {\n        result[i] = helper(i);\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在控制台中输入\x3ccode\x3ecreacteFunctions()[2]()\x3c\/code\x3e，输出的也是预期中的\x3ccode\x3e2\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e未完待续哦，闭包可以讲的东西太多啦！\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e一句话总结\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e真正理解了作用域也就理解了闭包.\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>谈谈JavaScript的词法环境和闭包（一）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006719728">https://segmentfault.com/a/1190000006719728</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/19d30h9tb1h/" target="_blank">https://alili.tech/archive/19d30h9tb1h/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>