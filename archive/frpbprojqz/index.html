<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="【从前端到全栈】- koa快速入门指南"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>【从前端到全栈】- koa快速入门指南 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/frpbprojqz/",
				"appid": "1613049289050283", 
				"title": "【从前端到全栈】- koa快速入门指南 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-15T02:30:44"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ikrupunvjq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/x55qb8uciq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&text=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&text=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&title=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&is_video=false&description=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&title=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&title=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&title=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffrpbprojqz%2f&title=%e3%80%90%e4%bb%8e%e5%89%8d%e7%ab%af%e5%88%b0%e5%85%a8%e6%a0%88%e3%80%91-%20koa%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8%e6%8c%87%e5%8d%97"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">【从前端到全栈】- koa快速入门指南</h1><div class="meta"><div class="postdate"><time datetime="2019-02-15" itemprop="datePublished">2019-02-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e随着技术的不断发展，前端工程师也被赋予了越来越多的职责。不再是从前只需要切个图，加个css样式就能完成任务的切图仔了。接下来这篇文章，完成一个简单的登录注册，能让你快速上手，成为一个‘小全栈工程师’，here we go ！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726034?w=300\x26amp;h=300\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726034?w=300\x26amp;h=300\x22 alt=\x2215371488705139\x22 title=\x2215371488705139\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3ekoa快速开始\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e安装\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e因为node.js v7.6.x已经完全支持async\/await语法，所以请保证node的版本在7.6以上\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e推荐一个node的多版本管理工具：nvm。如何安装这里不再赘述，网上的教程有很多\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/creationix\/nvm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/creationix...\x3c\/a\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/ 初始化package.json\nnpm init\n\n\/\/ 安装koa2 \nnpm install koa\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化package.json\x3c\/span\x3e\nnpm init\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装koa2 \x3c\/span\x3e\nnpm install koa\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e一个hello world\x3c\/h3\x3e\n\x3cp\x3e新建一个index.js，敲上以下代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/index.js\n\nconst Koa = require(\x27koa\x27)\nconst app = new Koa()\n\napp.use( async (ctx, next) =\x3e {\n  ctx.response.body = \x27你好，我是内地吴彦祖\x27\n})\n\napp.listen(3333, ()=\x3e{\n  console.log(\x27server is running at http:\/\/localhost:3333\x27)\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/index.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa()\n\napp.use( \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.response.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好，我是内地吴彦祖\x27\x3c\/span\x3e\n})\n\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e, ()=\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27server is running at http:\/\/localhost:3333\x27\x3c\/span\x3e)\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在我们的命令行敲上\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22node index.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eindex\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就可以看到运行结果啦:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726035?w=331\x26amp;h=161\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726035?w=331\x26amp;h=161\x22 alt=\x2215371507388772\x22 title=\x2215371507388772\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e几个核心概念\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e中间件好基友ctx和next\x3c\/h3\x3e\n\x3cp\x3e在上面的代码中，我们可以看到app.use后面使用了2个参数，\x3cstrong\x3ectx\x3c\/strong\x3e和\x3cstrong\x3enext\x3c\/strong\x3e，下面我们介绍一个这哥俩到底干嘛的\x3c\/p\x3e\n\x3ch4\x3ectx\x3c\/h4\x3e\n\x3cp\x3ectx作为上下文使用，Koa将 node 的 \x3cstrong\x3erequest\x3c\/strong\x3e, \x3cstrong\x3eresponse\x3c\/strong\x3e 对象封装进一个单独对象。即\x3cstrong\x3ectx.request\x3c\/strong\x3e 、 \x3cstrong\x3ectx.response\x3c\/strong\x3e。Koa 内部又对一些常用的属性或者方法做了代理操作，使得我们可以直接通过 ctx 获取。比如，\x3cstrong\x3ectx.request.url\x3c\/strong\x3e 可以写成 \x3cstrong\x3ectx.url\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch4\x3enext\x3c\/h4\x3e\n\x3cp\x3enext 参数的作用是将处理的控制权转交给下一个中间件\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726036?w=478\x26amp;h=435\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726036?w=478\x26amp;h=435\x22 alt=\x2215371520197565\x22 title=\x2215371520197565\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e经典的洋葱图概念能很好的解释next的执行，请求从最外层进去，又从最里层出来。我们看一个例子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Koa = require(\x27koa\x27)\nconst app = new Koa()\n\napp.use(async (ctx, next)=\x3e{\n  let startTime = new Date().getTime()\n  await next()\n  let endTime = new Date().getTime()\n  console.log(`此次的响应时间为：${endTime - startTime}ms`)\n})\n\napp.use(async (ctx, next) =\x3e {\n  console.log(\x27111, 然后doSomething\x27)\n  await next()\n  console.log(\x27111 end\x27)\n})\n\napp.use(async (ctx, next) =\x3e {\n  console.log(\x27222, 然后doSomething\x27)\n  await next()\n  console.log(\x27222 end\x27)\n})\n\napp.use(async (ctx, next) =\x3e {\n  console.log(\x27333, 然后doSomething\x27)\n  await next()\n  console.log(\x27333 end\x27)\n})\n\napp.listen(3333, ()=\x3e{\n  console.log(\x27server is running at http:\/\/localhost:3333\x27)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa()\n\napp.use(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next)=\x26gt;{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e startTime = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e().getTime()\n  \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e next()\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e endTime = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e().getTime()\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`此次的响应时间为：\x3cspan class=\x22hljs-subst\x22\x3e${endTime - startTime}\x3c\/span\x3ems`\x3c\/span\x3e)\n})\n\napp.use(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27111, 然后doSomething\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e next()\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27111 end\x27\x3c\/span\x3e)\n})\n\napp.use(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27222, 然后doSomething\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e next()\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27222 end\x27\x3c\/span\x3e)\n})\n\napp.use(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27333, 然后doSomething\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e next()\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27333 end\x27\x3c\/span\x3e)\n})\n\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e, ()=\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27server is running at http:\/\/localhost:3333\x27\x3c\/span\x3e)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看一下运行结果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726037?w=432\x26amp;h=342\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726037?w=432\x26amp;h=342\x22 alt=\x2215371528106452\x22 title=\x2215371528106452\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果将\x3cstrong\x3e‘222’\x3c\/strong\x3e函数的next()去掉的话，会发生什么呢？\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726038?w=660\x26amp;h=280\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726038?w=660\x26amp;h=280\x22 alt=\x2215371529369320\x22 title=\x2215371529369320\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到，后面的\x3cstrong\x3e‘333’\x3c\/strong\x3e中间件直接不执行了。所以中间件的顺序对next的执行有很大的影响\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e路由 koa-router\x3c\/h3\x3e\n\x3cp\x3e我们常用koa-router来处理URL\x3c\/p\x3e\n\x3cp\x3e安装\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i koa-router --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm i koa-router --save\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看一个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Koa = require(\x27koa\x27)\nconst app = new Koa()\nconst Router = require(\x27koa-router\x27)\n\nconst router = new Router()\n\nrouter.get(\x27\/\x27, async (ctx, next) =\x3e {\n  ctx.body = \x27你好，我这里是index页\x27\n})\n\nrouter.get(\x27\/user\x27, async (ctx, next) =\x3e {\n  ctx.body = \x27你好，我这里是user页\x27\n})\n\nrouter.get(\x27\/error\x27, async (ctx, next) =\x3e {\n  ctx.body = \x27你好，我这里是error页\x27\n})\n\napp.use(router.routes())\n\napp.listen(3333, ()=\x3e{\n  console.log(\x27server is running at http:\/\/localhost:3333\x27)\n})\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa()\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Router = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-router\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router()\n\nrouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好，我这里是index页\x27\x3c\/span\x3e\n})\n\nrouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/user\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好，我这里是user页\x27\x3c\/span\x3e\n})\n\nrouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/error\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好，我这里是error页\x27\x3c\/span\x3e\n})\n\napp.use(router.routes())\n\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e, ()=\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27server is running at http:\/\/localhost:3333\x27\x3c\/span\x3e)\n})\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726039?w=300\x26amp;h=158\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726039?w=300\x26amp;h=158\x22 alt=\x2215371540305250\x22 title=\x2215371540305250\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726040?w=344\x26amp;h=174\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726040?w=344\x26amp;h=174\x22 alt=\x2215371540448439\x22 title=\x2215371540448439\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726041?w=353\x26amp;h=164\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726041?w=353\x26amp;h=164\x22 alt=\x2215371540585094\x22 title=\x2215371540585094\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3ekoa-router也支持嵌套写法，通过一个总路由装载所有子路由，也非常的方便。看一个例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Koa = require(\x27koa\x27)\nconst app = new Koa()\nconst Router = require(\x27koa-router\x27)\n\n\/\/ 子路由1\nlet oneRouter = new Router()\n\noneRouter.get(\x27\/\x27, async (ctx, next) =\x3e {\n  ctx.body = \x27你好，我这里是oneRouter页\x27\n})\n\n\/\/ 子路由2\nlet twoRouter = new Router()\n\ntwoRouter.get(\x27\/\x27, async (ctx, next) =\x3e {\n  ctx.body = \x27你好, 我这里是twoRouter页\x27\n}).get(\x27\/home\x27, async (ctx , next) =\x3e {\n  ctx.body = \x27你好, 我这里是home页\x27\n})\n\n\/\/ 装载所有子路由\nlet indexRouter = new Router()\n\nindexRouter.use(\x27\/one\x27,oneRouter.routes(), oneRouter.allowedMethods())\nindexRouter.use(\x27\/two\x27,twoRouter.routes(), twoRouter.allowedMethods())\n\napp\n  .use(indexRouter.routes())\n  .use(indexRouter.allowedMethods())\n\napp.listen(3333, ()=\x3e{\n  console.log(\x27server is running at http:\/\/localhost:3333\x27)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa()\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Router = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-router\x27\x3c\/span\x3e)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 子路由1\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e oneRouter = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router()\n\noneRouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好，我这里是oneRouter页\x27\x3c\/span\x3e\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 子路由2\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e twoRouter = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router()\n\ntwoRouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好, 我这里是twoRouter页\x27\x3c\/span\x3e\n}).get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/home\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx , next) =\x26gt; {\n  ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27你好, 我这里是home页\x27\x3c\/span\x3e\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 装载所有子路由\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e indexRouter = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router()\n\nindexRouter.use(\x3cspan class=\x22hljs-string\x22\x3e\x27\/one\x27\x3c\/span\x3e,oneRouter.routes(), oneRouter.allowedMethods())\nindexRouter.use(\x3cspan class=\x22hljs-string\x22\x3e\x27\/two\x27\x3c\/span\x3e,twoRouter.routes(), twoRouter.allowedMethods())\n\napp\n  .use(indexRouter.routes())\n  .use(indexRouter.allowedMethods())\n\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e, ()=\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27server is running at http:\/\/localhost:3333\x27\x3c\/span\x3e)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看一下运行结果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726042?w=317\x26amp;h=150\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726042?w=317\x26amp;h=150\x22 alt=\x2215371560100616\x22 title=\x2215371560100616\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726043?w=315\x26amp;h=159\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726043?w=315\x26amp;h=159\x22 alt=\x2215371560354693\x22 title=\x2215371560354693\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726044?w=351\x26amp;h=164\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726044?w=351\x26amp;h=164\x22 alt=\x2215371560521654\x22 title=\x2215371560521654\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e获取请求数据\x3c\/h3\x3e\n\x3cp\x3ekoa-router提供了常见的 .get .put .post .del 接口来处理各种需求。实际开发中我们用的比较多的是get和post，我们来看看\x3cstrong\x3eget\x3c\/strong\x3e例子:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Koa = require(\x27koa\x27)\nconst app = new Koa()\nconst Router = require(\x27koa-router\x27)\nconst router = new Router()\n\nrouter.get(\x27\/data\x27, async (ctx , next)=\x3e {\n  let url = ctx.url\n\n  \/\/ 从ctx的request中拿到我们想要的数据\n  let data = ctx.request.query\n  let dataQueryString = ctx.request.querystring\n\n  ctx.body = {\n    url,\n    data,\n    dataQueryString\n  }\n})\n\napp.use(router.routes())\n\napp.listen(3333, ()=\x3e{\n  console.log(\x27server is running at http:\/\/localhost:3333\x27)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Koa = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Koa()\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Router = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-router\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e router = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Router()\n\nrouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/data\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx , next)=\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e url = ctx.url\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 从ctx的request中拿到我们想要的数据\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = ctx.request.query\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e dataQueryString = ctx.request.querystring\n\n  ctx.body = {\n    url,\n    data,\n    dataQueryString\n  }\n})\n\napp.use(router.routes())\n\napp.listen(\x3cspan class=\x22hljs-number\x22\x3e3333\x3c\/span\x3e, ()=\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27server is running at http:\/\/localhost:3333\x27\x3c\/span\x3e)\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在浏览器里输入\x3ca href=\x22http:\/\/localhost\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost\x3c\/a\x3e:3333\/data?user=wuyanzu\x26amp;id=123456 ,可以看到运行结果\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726045?w=545\x26amp;h=304\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726045?w=545\x26amp;h=304\x22 alt=\x2215371636443212\x22 title=\x2215371636443212\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到区别，\x3ccode\x3e.query\x3c\/code\x3e返回的结果是对象，而\x3ccode\x3e.querystring\x3c\/code\x3e返回的是字符串，这个很好理解。（chrome插件显示成json格式）\x3c\/p\x3e\n\x3cp\x3e如果遵从 RESTful 规范,比如请求要以 \x27\/user\/:id\x27的方式发出的话，我们可以用下面的例子来获取到想要的数据\x3c\/p\x3e\n\x3cp\x3e添加代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22router.get(\x27\/data\/:id\x27, async (ctx, next) =\x3e {\n\n  \/\/ 也从ctx中拿到我们想要的数据，不过使用的是params对象\n  let data = ctx.params\n\n  ctx.body = data\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3erouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/data\/:id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 也从ctx中拿到我们想要的数据，不过使用的是params对象\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e data = ctx.params\n\n  ctx.body = data\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e浏览器运行 \x3ca href=\x22http:\/\/localhost\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/localhost\x3c\/a\x3e:3333\/data\/4396 看到结果\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726046?w=376\x26amp;h=193\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726046?w=376\x26amp;h=193\x22 alt=\x2215371643392037\x22 title=\x2215371643392037\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e接下来我们看看\x3cstrong\x3epost\x3c\/strong\x3e的例子\x3c\/p\x3e\n\x3cp\x3e我们常用的请求post，它的数据是放在body当中的。这个时候就推荐一个非常常用且好用的中间件-\x3ccode\x3ekoa-bodyparser\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e首先安装\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i koa-bodyparser --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm i koa-bodyparser --save\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后我们在刚才的代码里添加\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22router.get(\x27\/post\x27, async (ctx, next) =\x3e {\n    \/\/ 模拟一段提交页面\n  let html = `    \n    \x3cform action=\x26quot;\/post\/result\x26quot; method=\x26quot;post\x26quot;\x3e\n        \x3cp\x3e你长的最像哪位明星\x3c\/p\x3e\n        \x3cinput name=\x26quot;name\x26quot; type=\x26quot;text\x26quot; placeholder=\x26quot;请输入名字：\x26quot;\/\x3e \n        \x3cbr\/\x3e\n        \x3cp\x3e输入一段你知道的车牌号\x3c\/p\x3e\n        \x3cinput name=\x26quot;num\x26quot; type=\x26quot;text\x26quot; placeholder=\x26quot;请输入车牌号：\x26quot;\/\x3e\n        \x3cbr\/\x3e \n        \x3cbutton\x3e确定不改了哦\x3c\/button\x3e\n     \x3c\/form\x3e `\n  ctx.body = html\n})\n\nrouter.post(\x27\/post\/result\x27, async (ctx, next) =\x3e {\n  \/\/ 我们可以从ctx的request.body拿到提交上来的数据\n  let {name, num} = ctx.request.body\n\n  if (name \x26amp;\x26amp; num) {\n    ctx.body = `hello，你最像的明星是:${name},ch你知道的车牌号是:${num}`\n  } else {\n    ctx.body = \x27啊哦~你填写的信息有误\x27\n  }\n\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3erouter.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/post\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 模拟一段提交页面\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e html = \x3cspan class=\x22hljs-string\x22\x3e`    \n    \x26lt;form action=\x22\/post\/result\x22 method=\x22post\x22\x26gt;\n        \x26lt;p\x26gt;你长的最像哪位明星\x26lt;\/p\x26gt;\n        \x26lt;input name=\x22name\x22 type=\x22text\x22 placeholder=\x22请输入名字：\x22\/\x26gt; \n        \x26lt;br\/\x26gt;\n        \x26lt;p\x26gt;输入一段你知道的车牌号\x26lt;\/p\x26gt;\n        \x26lt;input name=\x22num\x22 type=\x22text\x22 placeholder=\x22请输入车牌号：\x22\/\x26gt;\n        \x26lt;br\/\x26gt; \n        \x26lt;button\x26gt;确定不改了哦\x26lt;\/button\x26gt;\n     \x26lt;\/form\x26gt; `\x3c\/span\x3e\n  ctx.body = html\n})\n\nrouter.post(\x3cspan class=\x22hljs-string\x22\x3e\x27\/post\/result\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 我们可以从ctx的request.body拿到提交上来的数据\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {name, num} = ctx.request.body\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (name \x26amp;\x26amp; num) {\n    ctx.body = \x3cspan class=\x22hljs-string\x22\x3e`hello，你最像的明星是:\x3cspan class=\x22hljs-subst\x22\x3e${name}\x3c\/span\x3e,ch你知道的车牌号是:\x3cspan class=\x22hljs-subst\x22\x3e${num}\x3c\/span\x3e`\x3c\/span\x3e\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27啊哦~你填写的信息有误\x27\x3c\/span\x3e\n  }\n\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看一下运行结果\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726047?w=380\x26amp;h=297\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726047?w=380\x26amp;h=297\x22 alt=\x222018-09-17 14 26 24\x22 title=\x222018-09-17 14 26 24\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3ecache\x3c\/h3\x3e\n\x3cp\x3ekoa操作cookie是非常方便的，也是从上下文ctx中获取。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ectx.cookies.get(name, [options]) 读取上下文请求中的cookie\x3c\/li\x3e\n\x3cli\x3ectx.cookies.set(name, value, [options]) 在上下文中写入cookie\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在我们刚才的post请求的代码中加入:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22router.post(\x27\/post\/result\x27, async (ctx, next) =\x3e {\n  \/\/ 我们可以从ctx的request.body拿到提交上来的数据\n  let {name, num} = ctx.request.body\n\n  if (name \x26amp;\x26amp; num) {\n    ctx.body = `hello，你最像的明星是:${name},ch你知道的车牌号是:${num}`\n    ctx.cookies.set(\n      \x27xunleiCode\x27,num,\n      {\n        domain: \x27localhost\x27,  \/\/ 写cookie所在的域名\n        path: \x27\/post\/result\x27,       \/\/ 写cookie所在的路径\n        maxAge: 10 * 60 * 1000, \/\/ cookie有效时长\n        expires: new Date(\x272018-09-17\x27),  \/\/ cookie失效时间\n        httpOnly: false,  \/\/ 是否只用于http请求中获取\n        overwrite: false  \/\/ 是否允许重写\n      }\n    )\n  } else {\n    ctx.body = \x27啊哦~你填写的信息有误\x27\n  }\n\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3erouter.post(\x3cspan class=\x22hljs-string\x22\x3e\x27\/post\/result\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (ctx, next) =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 我们可以从ctx的request.body拿到提交上来的数据\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {name, num} = ctx.request.body\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (name \x26amp;\x26amp; num) {\n    ctx.body = \x3cspan class=\x22hljs-string\x22\x3e`hello，你最像的明星是:\x3cspan class=\x22hljs-subst\x22\x3e${name}\x3c\/span\x3e,ch你知道的车牌号是:\x3cspan class=\x22hljs-subst\x22\x3e${num}\x3c\/span\x3e`\x3c\/span\x3e\n    ctx.cookies.set(\n      \x3cspan class=\x22hljs-string\x22\x3e\x27xunleiCode\x27\x3c\/span\x3e,num,\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3edomain\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27localhost\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 写cookie所在的域名\x3c\/span\x3e\n        path: \x3cspan class=\x22hljs-string\x22\x3e\x27\/post\/result\x27\x3c\/span\x3e,       \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 写cookie所在的路径\x3c\/span\x3e\n        maxAge: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ cookie有效时长\x3c\/span\x3e\n        expires: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x272018-09-17\x27\x3c\/span\x3e),  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ cookie失效时间\x3c\/span\x3e\n        httpOnly: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否只用于http请求中获取\x3c\/span\x3e\n        overwrite: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否允许重写\x3c\/span\x3e\n      }\n    )\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    ctx.body = \x3cspan class=\x22hljs-string\x22\x3e\x27啊哦~你填写的信息有误\x27\x3c\/span\x3e\n  }\n\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e看一下运行结果：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726048?w=529\x26amp;h=143\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726048?w=529\x26amp;h=143\x22 alt=\x2215371681204265\x22 title=\x2215371681204265\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000016726049?w=552\x26amp;h=340\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000016726049?w=552\x26amp;h=340\x22 alt=\x2215371681313023\x22 title=\x2215371681313023\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3ekoa操作session的话，需要用到koa-session，🌰：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nconst session = require(\x27koa-session\x27)\n\napp.keys = [\x27some secret hurr\x27];\nconst CONFIG = {\n  key: \x27koa:sess\x27,   \/\/cookie key (default is koa:sess)\n  maxAge: 86400000,  \/\/ cookie的过期时间 maxAge in ms (default is 1 days)\n  overwrite: true,  \/\/是否可以overwrite    (默认default true)\n  httpOnly: true, \/\/cookie是否只有服务器端可以访问 httpOnly or not (default true)\n  signed: true,   \/\/签名默认true\n  rolling: false,  \/\/在每次请求时强行设置cookie，这将重置cookie过期时间（默认：false）\n  renew: false,  \/\/(boolean) renew session when session is nearly expired,\n};\napp.use(session(CONFIG, app));\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e session = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27koa-session\x27\x3c\/span\x3e)\n\napp.keys = [\x3cspan class=\x22hljs-string\x22\x3e\x27some secret hurr\x27\x3c\/span\x3e];\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CONFIG = {\n  \x3cspan class=\x22hljs-attr\x22\x3ekey\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27koa:sess\x27\x3c\/span\x3e,   \x3cspan class=\x22hljs-comment\x22\x3e\/\/cookie key (default is koa:sess)\x3c\/span\x3e\n  maxAge: \x3cspan class=\x22hljs-number\x22\x3e86400000\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ cookie的过期时间 maxAge in ms (default is 1 days)\x3c\/span\x3e\n  overwrite: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/是否可以overwrite    (默认default true)\x3c\/span\x3e\n  httpOnly: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/cookie是否只有服务器端可以访问 httpOnly or not (default true)\x3c\/span\x3e\n  signed: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,   \x3cspan class=\x22hljs-comment\x22\x3e\/\/签名默认true\x3c\/span\x3e\n  rolling: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/在每次请求时强行设置cookie，这将重置cookie过期时间（默认：false）\x3c\/span\x3e\n  renew: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,  \x3cspan class=\x22hljs-comment\x22\x3e\/\/(boolean) renew session when session is nearly expired,\x3c\/span\x3e\n};\napp.use(session(CONFIG, app));\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e小结\x3c\/h3\x3e\n\x3cp\x3e在涉及到自己没有接触过的领域时，我一直推崇先看看要怎么玩，等自己会玩了以后，再看看“究竟”怎么玩。我们通过上面的代码和描述，已经对koa及node有一个初步的印象和概念。下篇文章我们会有中间件的拆分，单元测试，记录日志，管理规范等。让我们共同成长！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e广而告之\x3c\/h2\x3e\n\x3cp\x3e本文发布于\x3ca href=\x22https:\/\/github.com\/BooheeFE\/weekly\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e薄荷前端周刊\x3c\/a\x3e，欢迎Watch \x26amp; Star ★，转载请注明出处。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e欢迎讨论，点个赞再走吧  ｡◕‿◕｡ ～\x3c\/h3\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>【从前端到全栈】- koa快速入门指南</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000016726031">https://segmentfault.com/a/1190000016726031</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/frpbprojqz/" target="_blank">https://alili.tech/archive/frpbprojqz/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>