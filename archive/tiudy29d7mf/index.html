<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用 webpack &#43; react &#43; redux &#43; es6 开发组件化前端项目"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用 webpack &#43; react &#43; redux &#43; es6 开发组件化前端项目 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/tiudy29d7mf/",
				"appid": "1613049289050283", 
				"title": "使用 webpack &#43; react &#43; redux &#43; es6 开发组件化前端项目 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-07T02:30:15"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/myqkan4pjzg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/kj45uromsdt/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&text=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&text=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&title=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&is_video=false&description=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&title=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&title=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&title=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftiudy29d7mf%2f&title=%e4%bd%bf%e7%94%a8%20webpack%20%2b%20react%20%2b%20redux%20%2b%20es6%20%e5%bc%80%e5%8f%91%e7%bb%84%e4%bb%b6%e5%8c%96%e5%89%8d%e7%ab%af%e9%a1%b9%e7%9b%ae"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用 webpack &#43; react &#43; redux &#43; es6 开发组件化前端项目</h1><div class="meta"><div class="postdate"><time datetime="2019-02-07" itemprop="datePublished">2019-02-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e因为最近在工作中尝试了 \x3ca href=\x22https:\/\/github.com\/webpack\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e、\x3ca href=\x22https:\/\/github.com\/facebook\/react\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact\x3c\/a\x3e、\x3ca href=\x22https:\/\/github.com\/reactjs\/redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eredux\x3c\/a\x3e、\x3ca href=\x22http:\/\/babeljs.io\/docs\/learn-es2015\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ees6\x3c\/a\x3e 技术栈，所以总结出了一套 \x3ca href=\x22https:\/\/github.com\/xiaoyann\/webpack-best-practice\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eboilerplate\x3c\/a\x3e，以便下次做项目时可以快速开始，并进行持续优化。对应的项目地址：\x3ca href=\x22https:\/\/github.com\/xiaoyann\/webpack-best-practice\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-best-practice\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e该项目的 webpack 配置做了不少优化，所以构建速度还不错。文章的最后还对使用 webpack 的问题及性能优化作出了总结。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e项目结构规划\x3c\/h2\x3e\n\x3cp\x3e每个模块相关的 css、img、js 文件都放在一起，比较直观，删除模块时也会方便许多。测试文件也同样放在一起，哪些模块有没有写测试，哪些测试应该一起随模块删除，一目了然。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22build\n|-- webpack.config.js               # 公共配置\n|-- webpack.dev.js                  # 开发配置\n|-- webpack.release.js              # 发布配置\ndocs                                # 项目文档\nnode_modules                        \nsrc                                 # 项目源码\n|-- conf                            # 配置文件\n|-- pages                           # 页面目录\n|   |-- page1                       \n|   |   |-- index.js                # 页面逻辑\n|   |   |-- index.scss              # 页面样式\n|   |   |-- img                     # 页面图片\n|   |   |   |-- xx.png          \n|   |   |-- __tests__               # 测试文件\n|   |   |   |-- xx.js\n|   |-- app.html                    # 入口页\n|   |-- app.js                      # 入口JS\n|-- components                      # 组件目录\n|   |-- loading\n|   |   |-- index.js\n|   |   |-- index.scss\n|   |   |-- __tests__               \n|   |   |   |-- xx.js\n|-- js\n|   |-- actions\n|   |   |-- index.js\n|   |   |-- __tests__               \n|   |   |   |-- xx.js\n|   |-- reducers \n|   |   |-- index.js\n|   |   |-- __tests__               \n|   |   |   |-- xx.js\n|   |-- xx.js                 \n|-- css                             # 公共CSS目录\n|   |-- common.scss\n|-- img                             # 公共图片目录\n|   |-- xx.png\ntests                               # 其他测试文件\npackage.json                        \nREADNE.md                           \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gherkin\x22\x3e\x3ccode class=\x22shell\x22\x3ebuild\n|\x3cspan class=\x22hljs-string\x22\x3e-- webpack.config.js               # 公共配置\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- webpack.dev.js                  # 开发配置\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- webpack.release.js              # 发布配置\ndocs                                # 项目文档\nnode_modules                        \nsrc                                 # 项目源码\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- conf                            # 配置文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- pages                           # 页面目录\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- page1                       \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.js                # 页面逻辑\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.scss              # 页面样式\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- img                     # 页面图片\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.png          \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- __tests__               # 测试文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- app.html                    # 入口页\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- app.js                      # 入口JS\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- components                      # 组件目录\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- loading\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.scss\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- __tests__               \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- actions\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- __tests__               \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- reducers \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- index.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- __tests__               \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.js\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.js                 \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- css                             # 公共CSS目录\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- common.scss\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- img                             # 公共图片目录\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e-- xx.png\ntests                               # 其他测试文件\npackage.json                        \nREADNE.md                           \x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e要完成的功能\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e编译 jsx、es6、scss 等资源\x3c\/li\x3e\n\x3cli\x3e自动引入静态资源到相应 html 页面\x3c\/li\x3e\n\x3cli\x3e实时编译和刷新浏览器\x3c\/li\x3e\n\x3cli\x3e按指定模块化规范自动包装模块\x3c\/li\x3e\n\x3cli\x3e自动给 css 添加浏览器内核前缀\x3c\/li\x3e\n\x3cli\x3e按需打包合并 js、css\x3c\/li\x3e\n\x3cli\x3e压缩 js、css、html\x3c\/li\x3e\n\x3cli\x3e图片路径处理、压缩、CssSprite\x3c\/li\x3e\n\x3cli\x3e对文件使用 hash 命名，做强缓存\x3c\/li\x3e\n\x3cli\x3e语法检查\x3c\/li\x3e\n\x3cli\x3e全局替换指定字符串\x3c\/li\x3e\n\x3cli\x3e本地接口模拟服务\x3c\/li\x3e\n\x3cli\x3e发布到远端机\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e针对以上的几点功能，接下来将一步一步的来完成这个 \x3ca href=\x22https:\/\/github.com\/xiaoyann\/webpack-react-redux-es6-boilerplate\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eboilerplate\x3c\/a\x3e 项目， 并记录下每一步的要点。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e准备工作\x3c\/h3\x3e\n\x3cp\x3e1、根据前面的项目结构规划创建项目骨架\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ make dir webpack-react-redux-es6-boilerplate\n$ cd webpack-react-redux-es6-boilerplate\n$ mkdir build docs src mock tests\n$ touch build\/webpack.config.js build\/webpack.dev.js build\/webpack.release.js\n\/\/ 创建 package.json\n$ npm init\n$ ...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22shell\x22\x3e$ make dir webpack-react-redux-es6-boilerplate\n$ cd webpack-react-redux-es6-boilerplate\n$ mkdir build docs src mock tests\n$ touch build\/webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.config\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e build\/webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.dev\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e build\/webpack\x3cspan class=\x22hljs-selector-class\x22\x3e.release\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建 package.json\x3c\/span\x3e\n$ npm init\n$ ...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2、安装最基本的几个 npm 包\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i webpack webpack-dev-server --save-dev\n$ npm i react react-dom react-router redux react-redux redux-thunk --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode class=\x22shell\x22\x3e$ npm i webpack webpack-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e-server --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\n$ npm i react react-dom react-router redux react-redux redux-thunk --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3、编写示例代码，最终代码直接查看 \x3ca href=\x22https:\/\/github.com\/xiaoyann\/webpack-react-redux-es6-boilerplate\/tree\/master\/src\/pages\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eboilerplate\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e4、根据 \x3ca href=\x22http:\/\/webpack.github.io\/docs\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e 文档编写最基本的 webpack 配置，直接使用 NODE API 的方式\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* webpack.config.js *\/\n\nvar webpack = require(\x27webpack\x27);\n\n\/\/ 辅助函数\nvar utils = require(\x27.\/utils\x27);\nvar fullPath  = utils.fullPath;\nvar pickFiles = utils.pickFiles;\n\n\/\/ 项目根路径\nvar ROOT_PATH = fullPath(\x27..\/\x27);\n\/\/ 项目源码路径\nvar SRC_PATH = ROOT_PATH \x2b \x27\/src\x27;\n\/\/ 产出路径\nvar DIST_PATH = ROOT_PATH \x2b \x27\/dist\x27;\n\n\/\/ 是否是开发环境\nvar __DEV__ = process.env.NODE_ENV !== \x27production\x27;\n\n\/\/ conf\nvar alias = pickFiles({\n  id: \/(conf\\\/[^\\\/]\x2b).js$\/,\n  pattern: SRC_PATH \x2b \x27\/conf\/*.js\x27\n});\n\n\/\/ components\nalias = Object.assign(alias, pickFiles({\n  id: \/(components\\\/[^\\\/]\x2b)\/,\n  pattern: SRC_PATH \x2b \x27\/components\/*\/index.js\x27\n}));\n\n\/\/ reducers\nalias = Object.assign(alias, pickFiles({\n  id: \/(reducers\\\/[^\\\/]\x2b).js\/,\n  pattern: SRC_PATH \x2b \x27\/js\/reducers\/*\x27\n}));\n\n\/\/ actions\nalias = Object.assign(alias, pickFiles({\n  id: \/(actions\\\/[^\\\/]\x2b).js\/,\n  pattern: SRC_PATH \x2b \x27\/js\/actions\/*\x27\n}));\n\n\nvar config = {\n  context: SRC_PATH,\n  entry: {\n    app: [\x27.\/pages\/app.js\x27]\n  },\n  output: {\n    path: DIST_PATH,\n    filename: \x27js\/bundle.js\x27\n  },\n  module: {},\n  resolve: {\n    alias: alias\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      \/\/ http:\/\/stackoverflow.com\/questions\/30030031\/passing-environment-dependent-variables-in-webpack\n      \x26quot;process.env.NODE_ENV\x26quot;: JSON.stringify(process.env.NODE_ENV || \x27development\x27)\n    })\n  ]\n};\n\nmodule.exports = config;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* webpack.config.js *\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e webpack = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 辅助函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e utils = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/utils\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fullPath  = utils.fullPath;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pickFiles = utils.pickFiles;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 项目根路径\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ROOT_PATH = fullPath(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 项目源码路径\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e SRC_PATH = ROOT_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/src\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 产出路径\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e DIST_PATH = ROOT_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/dist\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否是开发环境\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e __DEV__ = process.env.NODE_ENV !== \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ conf\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e alias = pickFiles({\n  \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/(conf\\\/[^\\\/]\x2b).js$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epattern\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/conf\/*.js\x27\x3c\/span\x3e\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ components\x3c\/span\x3e\nalias = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(alias, pickFiles({\n  \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/(components\\\/[^\\\/]\x2b)\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epattern\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/components\/*\/index.js\x27\x3c\/span\x3e\n}));\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reducers\x3c\/span\x3e\nalias = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(alias, pickFiles({\n  \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/(reducers\\\/[^\\\/]\x2b).js\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epattern\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/js\/reducers\/*\x27\x3c\/span\x3e\n}));\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ actions\x3c\/span\x3e\nalias = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(alias, pickFiles({\n  \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/(actions\\\/[^\\\/]\x2b).js\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epattern\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/js\/actions\/*\x27\x3c\/span\x3e\n}));\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e config = {\n  \x3cspan class=\x22hljs-attr\x22\x3econtext\x3c\/span\x3e: SRC_PATH,\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3eapp\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27.\/pages\/app.js\x27\x3c\/span\x3e]\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: DIST_PATH,\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27js\/bundle.js\x27\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {},\n  \x3cspan class=\x22hljs-attr\x22\x3eresolve\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3ealias\x3c\/span\x3e: alias\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.DefinePlugin({\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ http:\/\/stackoverflow.com\/questions\/30030031\/passing-environment-dependent-variables-in-webpack\x3c\/span\x3e\n      \x3cspan class=\x22hljs-string\x22\x3e\x22process.env.NODE_ENV\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(process.env.NODE_ENV || \x3cspan class=\x22hljs-string\x22\x3e\x27development\x27\x3c\/span\x3e)\n    })\n  ]\n};\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = config;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* webpack.dev.js *\/\n\nvar webpack = require(\x27webpack\x27);\nvar WebpackDevServer = require(\x27webpack-dev-server\x27);\nvar config = require(\x27.\/webpack.config\x27);\nvar utils = require(\x27.\/utils\x27);\n\nvar PORT = 8080;\nvar HOST = utils.getIP();\nvar args = process.argv;\nvar hot = args.indexOf(\x27--hot\x27) \x3e -1;\nvar deploy = args.indexOf(\x27--deploy\x27) \x3e -1;\n\n\/\/ 本地环境静态资源路径\nvar localPublicPath = \x27http:\/\/\x27 \x2b HOST \x2b \x27:\x27 \x2b PORT \x2b \x27\/\x27;\n\nconfig.output.publicPath = localPublicPath; \nconfig.entry.app.unshift(\x27webpack-dev-server\/client?\x27 \x2b localPublicPath);\n\nnew WebpackDevServer(webpack(config), {\n  hot: hot,\n  inline: true,\n  compress: true,\n  stats: {\n    chunks: false,\n    children: false,\n    colors: true\n  },\n  \/\/ Set this as true if you want to access dev server from arbitrary url.\n  \/\/ This is handy if you are using a html5 router.\n  historyApiFallback: true,\n}).listen(PORT, HOST, function() {\n  console.log(localPublicPath);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* webpack.dev.js *\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e webpack = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e WebpackDevServer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack-dev-server\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/webpack.config\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e utils = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/utils\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e PORT = \x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e HOST = utils.getIP();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e args = process.argv;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hot = args.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x27--hot\x27\x3c\/span\x3e) \x26gt; \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e deploy = args.indexOf(\x3cspan class=\x22hljs-string\x22\x3e\x27--deploy\x27\x3c\/span\x3e) \x26gt; \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 本地环境静态资源路径\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e localPublicPath = \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/\x27\x3c\/span\x3e \x2b HOST \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27:\x27\x3c\/span\x3e \x2b PORT \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e;\n\nconfig.output.publicPath = localPublicPath; \nconfig.entry.app.unshift(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack-dev-server\/client?\x27\x3c\/span\x3e \x2b localPublicPath);\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e WebpackDevServer(webpack(config), {\n  \x3cspan class=\x22hljs-attr\x22\x3ehot\x3c\/span\x3e: hot,\n  \x3cspan class=\x22hljs-attr\x22\x3einline\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ecompress\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3estats\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3ecolors\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Set this as true if you want to access dev server from arbitrary url.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ This is handy if you are using a html5 router.\x3c\/span\x3e\n  historyApiFallback: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n}).listen(PORT, HOST, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(localPublicPath);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的配置写好后就可以开始构建了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ node build\/webpack.dev.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\/webpack.dev.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为项目中使用了 jsx、es6、scss，所以还要添加相应的 loader，否则会报如下类似错误：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ERROR in .\/src\/pages\/app.js\nModule parse failed: \/Users\/xiaoyan\/working\/webpack-react-redux-es6-boilerplate\/src\/pages\/app.js Unexpected token (18:6)\nYou may need an appropriate loader to handle this file type.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eERROR \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e .\/src\/pages\/app.js\nModule parse failed: \x3cspan class=\x22hljs-regexp\x22\x3e\/Users\/\x3c\/span\x3exiaoyan\/working\/webpack-react-redux-es6-boilerplate\/src\/pages\/app.js Unexpected token (\x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e)\nYou may need an appropriate loader to handle \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e file type.\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e编译 jsx、es6、scss 等资源\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e使用 \x3ca href=\x22http:\/\/babeljs.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebael\x3c\/a\x3e 和 \x3ca href=\x22https:\/\/github.com\/babel\/babel-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-loader\x3c\/a\x3e 编译 jsx、es6\x3c\/li\x3e\n\x3cli\x3e安装插件: \x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/preset-es2015\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-preset-es2015\x3c\/a\x3e 用于解析 \x3ccode\x3ees6\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e安装插件：\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/preset-react\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-preset-react\x3c\/a\x3e 用于解析 \x3ccode\x3ejsx\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 首先需要安装 babel \n$ npm i babel-core --save-dev\n\/\/ 安装插件 \n$ npm i babel-preset-es2015 babel-preset-react --save-dev\n\/\/ 安装 loader\n$ npm i babel-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 首先需要安装 babel \x3c\/span\x3e\n$ npm i babel-core --save-dev\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装插件 \x3c\/span\x3e\n$ npm i babel-preset-es2015 babel-preset-react --save-dev\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装 loader\x3c\/span\x3e\n$ npm i babel-loader --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在项目根目录创建 \x3ccode\x3e.babelrc\x3c\/code\x3e 文件:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;: [\x26quot;es2015\x26quot;, \x26quot;react\x26quot;]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs json\x22\x3e\x3ccode\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 webpack.config.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 使用缓存\nvar CACHE_PATH = ROOT_PATH \x2b \x27\/cache\x27;\n\/\/ loaders\nconfig.module.loaders = [];\n\/\/ 使用 babel 编译 jsx、es6\nconfig.module.loaders.push({\n  test: \/\\.js$\/,\n  exclude: \/node_modules\/,\n  include: SRC_PATH,\n  \/\/ 这里使用 loaders ，因为后面还需要添加 loader\n  loaders: [\x27babel?cacheDirectory=\x27 \x2b CACHE_PATH]\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用缓存\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e CACHE_PATH = ROOT_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/cache\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ loaders\x3c\/span\x3e\nconfig.module.loaders = [];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用 babel 编译 jsx、es6\x3c\/span\x3e\nconfig.module.loaders.push({\n  \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3einclude\x3c\/span\x3e: SRC_PATH,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里使用 loaders ，因为后面还需要添加 loader\x3c\/span\x3e\n  loaders: [\x3cspan class=\x22hljs-string\x22\x3e\x27babel?cacheDirectory=\x27\x3c\/span\x3e \x2b CACHE_PATH]\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来使用 \x3ca href=\x22https:\/\/github.com\/jtangelder\/sass-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esass-loader\x3c\/a\x3e 编译 sass:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i sass-loader node-sass css-loader style-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm i sass-loader \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e\x3cspan class=\x22hljs-title\x22\x3e-sass\x3c\/span\x3e css-loader style-loader --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/webpack\/css-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecss-loader\x3c\/a\x3e 用于将 css 当做模块一样来 \x3ccode\x3eimport\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/webpack\/style-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estyle-loader\x3c\/a\x3e 用于自动将 css 添加到页面\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在 webpack.config.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 编译 sass\nconfig.module.loaders.push({\n  test: \/\\.(scss|css)$\/,\n  loaders: [\x27style\x27, \x27css\x27, \x27sass\x27]\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 编译 sass\x3c\/span\x3e\nconfig.module.loaders.push({\n  \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(scss|css)$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eloaders\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27style\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27sass\x27\x3c\/span\x3e]\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e自动引入静态资源到相应 html 页面\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e使用 \x3ca href=\x22https:\/\/github.com\/ampedandwired\/html-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehtml-webpack-plugin\x3c\/a\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i html-webpack-plugin --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm i html-webpack-plugin --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 webpack.config.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ html 页面\nvar HtmlwebpackPlugin = require(\x27html-webpack-plugin\x27);\nconfig.plugins.push(\n  new HtmlwebpackPlugin({\n    filename: \x27index.html\x27,\n    chunks: [\x27app\x27],\n    template: SRC_PATH \x2b \x27\/pages\/app.html\x27\n  })\n);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ html 页面\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e HtmlwebpackPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27html-webpack-plugin\x27\x3c\/span\x3e);\nconfig.plugins.push(\n  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlwebpackPlugin({\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27app\x27\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/pages\/app.html\x27\x3c\/span\x3e\n  })\n);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e至此，整个项目就可以正常跑起来了\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ node build\/webpack.dev.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\/webpack.dev.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e实时编译和刷新浏览器\x3c\/h3\x3e\n\x3cp\x3e完成前面的配置后，项目就已经可以实时编译和自动刷新浏览器了。接下来就配置下热更新，使用 \x3ca href=\x22https:\/\/github.com\/gaearon\/react-hot-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-hot-loader\x3c\/a\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i react-hot-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm i react-hot-loader --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为热更新只需要在开发时使用，所以在 webpack.dev.config 里添加如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 开启热替换相关设置\nif (hot === true) {\n  config.entry.app.unshift(\x27webpack\/hot\/only-dev-server\x27);\n  \/\/ 注意这里 loaders[0] 是处理 .js 文件的 loader\n  config.module.loaders[0].loaders.unshift(\x27react-hot\x27);\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开启热替换相关设置\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (hot === \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n  config.entry.app.unshift(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack\/hot\/only-dev-server\x27\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意这里 loaders[0] 是处理 .js 文件的 loader\x3c\/span\x3e\n  config.module.loaders[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].loaders.unshift(\x3cspan class=\x22hljs-string\x22\x3e\x27react-hot\x27\x3c\/span\x3e);\n  config.plugins.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.HotModuleReplacementPlugin());\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行下面的命令，并尝试更改 js、css：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ node build\/webpack.dev.js --hot\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebuild\x3c\/span\x3e\/webpack.dev.js --hot\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e按指定模块化规范自动包装模块\x3c\/h3\x3e\n\x3cp\x3ewebpack 支持 CommonJS、AMD 规范，具体如何使用直接查看文档\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e自动给 css 添加浏览器内核前缀\x3c\/h3\x3e\n\x3cp\x3e使用 \x3ca href=\x22https:\/\/github.com\/postcss\/postcss-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3epostcss-loader\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm i postcss-loader precss autoprefixer --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs q\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm i postcss-loader precss autoprefixer --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-\x3cspan class=\x22hljs-built_in\x22\x3edev\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 webpack.config.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 编译 sass\nconfig.module.loaders.push({\n  test: \/\\.(scss|css)$\/,\n  loaders: [\x27style\x27, \x27css\x27, \x27sass\x27, \x27postcss\x27]\n});\n\n\/\/ css autoprefix\nvar precss = require(\x27precss\x27);\nvar autoprefixer = require(\x27autoprefixer\x27);\nconfig.postcss = function() {\n  return [precss, autoprefixer];\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 编译 sass\x3c\/span\x3e\nconfig.module.loaders.push({\n  \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(scss|css)$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eloaders\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27style\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27css\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27sass\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27postcss\x27\x3c\/span\x3e]\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ css autoprefix\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e precss = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27precss\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e autoprefixer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27autoprefixer\x27\x3c\/span\x3e);\nconfig.postcss = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [precss, autoprefixer];\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e打包合并 js、css\x3c\/h3\x3e\n\x3cp\x3ewebpack 默认将所有模块都打包成一个 bundle，并提供了 \x3ca href=\x22http:\/\/webpack.github.io\/docs\/code-splitting.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCode Splitting\x3c\/a\x3e 功能便于我们按需拆分。在这个例子里我们把框架和库都拆分出来：\x3c\/p\x3e\n\x3cp\x3e在 webpack.config.js 添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22config.entry.lib = [\n  \x27react\x27, \x27react-dom\x27, \x27react-router\x27,\n  \x27redux\x27, \x27react-redux\x27, \x27redux-thunk\x27\n]\n\nconfig.output.filename = \x27js\/[name].js\x27;\n\nconfig.plugins.push(\n    new webpack.optimize.CommonsChunkPlugin(\x27lib\x27, \x27js\/lib.js\x27)\n);\n\n\/\/ 别忘了将 lib 添加到 html 页面\n\/\/ chunks: [\x27app\x27, \x27lib\x27]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3econfig.entry.lib = [\n  \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27redux-thunk\x27\x3c\/span\x3e\n]\n\nconfig.output.filename = \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].js\x27\x3c\/span\x3e;\n\nconfig.plugins.push(\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.CommonsChunkPlugin(\x3cspan class=\x22hljs-string\x22\x3e\x27lib\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27js\/lib.js\x27\x3c\/span\x3e)\n);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 别忘了将 lib 添加到 html 页面\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ chunks: [\x27app\x27, \x27lib\x27]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如何拆分 CSS：\x3ca href=\x22http:\/\/webpack.github.io\/docs\/stylesheets.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eseparate css bundle\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e压缩 js、css、html、png 图片\x3c\/h3\x3e\n\x3cp\x3e压缩资源最好只在生产环境时使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 压缩 js、css\nconfig.plugins.push(\n    new webpack.optimize.UglifyJsPlugin({\n        compress: {\n            warnings: false\n        }\n    })\n);\n\n\/\/ 压缩 html\n\/\/ html 页面\nvar HtmlwebpackPlugin = require(\x27html-webpack-plugin\x27);\nconfig.plugins.push(\n  new HtmlwebpackPlugin({\n    filename: \x27index.html\x27,\n    chunks: [\x27app\x27, \x27lib\x27],\n    template: SRC_PATH \x2b \x27\/pages\/app.html\x27,\n    minify: {\n      collapseWhitespace: true,\n      collapseInlineTagWhitespace: true,\n      removeRedundantAttributes: true,\n      removeEmptyAttributes: true,\n      removeScriptTypeAttributes: true,\n      removeStyleLinkTypeAttributes: true,\n      removeComments: true\n    }\n  })\n);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 压缩 js、css\x3c\/span\x3e\nconfig.plugins.push(\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.optimize.UglifyJsPlugin({\n        \x3cspan class=\x22hljs-attr\x22\x3ecompress\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3ewarnings\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        }\n    })\n);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 压缩 html\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ html 页面\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e HtmlwebpackPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27html-webpack-plugin\x27\x3c\/span\x3e);\nconfig.plugins.push(\n  \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e HtmlwebpackPlugin({\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27index.html\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3echunks\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27app\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27lib\x27\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3etemplate\x3c\/span\x3e: SRC_PATH \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27\/pages\/app.html\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eminify\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3ecollapseWhitespace\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecollapseInlineTagWhitespace\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eremoveRedundantAttributes\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eremoveEmptyAttributes\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eremoveScriptTypeAttributes\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eremoveStyleLinkTypeAttributes\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eremoveComments\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n    }\n  })\n);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e图片路径处理、压缩、CssSprite\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e压缩图片使用 \x3ca href=\x22https:\/\/github.com\/tcoopman\/image-webpack-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eimage-webpack-loader\x3c\/a\x3e\n\x3c\/li\x3e\n\x3cli\x3e图片路径处理使用 \x3ca href=\x22https:\/\/github.com\/webpack\/url-loader\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eurl-loader\x3c\/a\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i url-loader image-webpack-loader --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs maxima\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm i url-loader \x3cspan class=\x22hljs-built_in\x22\x3eimage\x3c\/span\x3e-webpack-loader --\x3cspan class=\x22hljs-built_in\x22\x3esave\x3c\/span\x3e-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 webpack.config.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 图片路径处理，压缩\nconfig.module.loaders.push({\n  test: \/\\.(?:jpg|gif|png|svg)$\/,\n  loaders: [\n    \x27url?limit=8000\x26amp;name=img\/[hash].[ext]\x27,\n    \x27image-webpack\x27\n  ]\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 图片路径处理，压缩\x3c\/span\x3e\nconfig.module.loaders.push({\n  \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(?:jpg|gif|png|svg)$\/\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eloaders\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x27url?limit=8000\x26amp;name=img\/[hash].[ext]\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x27image-webpack\x27\x3c\/span\x3e\n  ]\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e雪碧图处理：\x3ca href=\x22http:\/\/kyon-df.com\/2016\/03\/16\/webpack_auto_sprites\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack_auto_sprites\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e对文件使用 hash 命名，做强缓存\x3c\/h3\x3e\n\x3cp\x3e根据 \x3ca href=\x22http:\/\/webpack.github.io\/docs\/long-term-caching.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edocs\x3c\/a\x3e，在产出文件命名中加上 \x3ccode\x3e[hash]\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22config.output.filename = \x27js\/[name].[hash].js\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3econfig.output.filename = \x3cspan class=\x22hljs-string\x22\x3e\x27js\/[name].[hash].js\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e本地接口模拟服务\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 直接使用 epxress 创建一个本地服务\n$ npm install epxress --save-dev\n$ mkdir mock \x26amp;\x26amp; cd mock\n$ touch app.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode class=\x22shell\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 直接使用 epxress 创建一个本地服务\x3c\/span\x3e\n$ npm install epxress --\x3cspan class=\x22hljs-keyword\x22\x3esave\x3c\/span\x3e-dev\n$ \x3cspan class=\x22hljs-keyword\x22\x3emkdir\x3c\/span\x3e mock \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e mock\n$ touch \x3cspan class=\x22hljs-keyword\x22\x3eapp\x3c\/span\x3e.js\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var express = require(\x27express\x27);\nvar app = express();\n\n\/\/ 设置跨域访问，方便开发\napp.all(\x27*\x27, function(req, res, next) {\n    res.header(\x27Access-Control-Allow-Origin\x27, \x27*\x27);\n    next();\n});\n\n\/\/ 具体接口设置\napp.get(\x27\/api\/test\x27, function(req, res) {\n    res.send({ code: 200, data: \x27your data\x27 });\n});\n\nvar server = app.listen(3000, function() {\n    var host = server.address().address;\n    var port = server.address().port;\n    console.log(\x27Mock server listening at http:\/\/%s:%s\x27, host, port);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e express = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27express\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = express();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置跨域访问，方便开发\x3c\/span\x3e\napp.all(\x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res, next\x3c\/span\x3e) \x3c\/span\x3e{\n    res.header(\x3cspan class=\x22hljs-string\x22\x3e\x27Access-Control-Allow-Origin\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27*\x27\x3c\/span\x3e);\n    next();\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 具体接口设置\x3c\/span\x3e\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/api\/test\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e) \x3c\/span\x3e{\n    res.send({ \x3cspan class=\x22hljs-attr\x22\x3ecode\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3edata\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27your data\x27\x3c\/span\x3e });\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e server = app.listen(\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e host = server.address().address;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e port = server.address().port;\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Mock server listening at http:\/\/%s:%s\x27\x3c\/span\x3e, host, port);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 启动服务，如果用 PM2 管理会更方便，增加接口不用自己手动重启服务\n$ node app.js \x26amp;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22\x3e\/\/ 启动服务，如果用 PM2 管理会更方便，增加接口不用自己手动重启服务\n$ \x3cspan class=\x22hljs-keyword\x22\x3enode\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eapp\x3c\/span\x3e.js \x26amp;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e发布到远端机\x3c\/h3\x3e\n\x3cp\x3e写一个 deploy 插件，使用 \x3ca href=\x22https:\/\/github.com\/mscdex\/node-ftp\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eftp\x3c\/a\x3e 上传文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i ftp --save-dev\n$ touch build\/deploy.plugin.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22shell\x22\x3e$ npm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e ftp --save-dev\n$ touch build\/deploy\x3cspan class=\x22hljs-selector-class\x22\x3e.plugin\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ build\/deploy.plugin.js\n\nvar Client = require(\x27ftp\x27);\nvar client = new Client();\n\n\/\/ 待上传的文件\nvar __assets__ = [];\n\/\/ 是否已连接\nvar __connected__ = false;\n\nvar __conf__ = null;\n\nfunction uploadFile(startTime) {\n  var file = __assets__.shift();\n  \/\/ 没有文件就关闭连接\n  if (!file) return client.end();\n  \/\/ 开始上传\n  client.put(file.source, file.remotePath, function(err) {\n    \/\/ 本次上传耗时\n    var timming = Date.now() - startTime;\n    if (err) {\n      console.log(\x27error \x27, err);\n      console.log(\x27upload fail -\x27, file.remotePath);\n    } else {\n      console.log(\x27upload success -\x27, file.remotePath, timming \x2b \x27ms\x27);\n    }\n    \/\/ 每次上传之后检测下是否还有文件需要上传，如果没有就关闭连接\n    if (__assets__.length === 0) {\n      client.end();\n    } else {\n      uploadFile();\n    }\n  });\n}\n\n\/\/ 发起连接\nfunction connect(conf) {\n  if (!__connected__) {\n    client.connect(__conf__);\n  }\n}\n\n\/\/ 连接成功\nclient.on(\x27ready\x27, function() {\n  __connected__ = true;\n  uploadFile(Date.now());\n});\n\n\/\/ 连接已关闭\nclient.on(\x27close\x27, function() {\n  __connected__ = false;\n  \/\/ 连接关闭后，如果发现还有文件需要上传就重新发起连接\n  if (__assets__.length \x3e 0) connect();\n});\n\n\/**\n * [deploy description]\n * @param  {Array}   assets  待 deploy 的文件\n * file.source      buffer\n * file.remotePath  path\n *\/\nfunction deployWithFtp(conf, assets, callback) {\n  __conf__ = conf;\n  __assets__ = __assets__.concat(assets);\n  connect();\n}\n\n\n\nvar path = require(\x27path\x27);\n\n\/**\n * [DeployPlugin description]\n * @param {Array} options\n * option.reg \n * option.to \n *\/\nfunction DeployPlugin(conf, options) {\n  this.conf = conf;\n  this.options = options;\n}\n\nDeployPlugin.prototype.apply = function(compiler) {\n  var conf = this.conf;\n  var options = this.options;\n  compiler.plugin(\x27done\x27, function(stats) {\n    var files = [];\n    var assets = stats.compilation.assets;\n    for (var name in assets) {\n      options.map(function(cfg) {\n        if (cfg.reg.test(name)) {\n          files.push({\n            localPath: name,\n            remotePath: path.join(cfg.to, name),\n            source: new Buffer(assets[name].source(), \x27utf-8\x27)\n          });\n        }\n      });\n    }\n    deployWithFtp(conf, files);\n  });\n};\n\n\nmodule.exports = DeployPlugin;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ build\/deploy.plugin.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Client = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27ftp\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e client = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Client();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 待上传的文件\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e __assets__ = [];\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否已连接\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e __connected__ = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e __conf__ = \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3euploadFile\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estartTime\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = __assets__.shift();\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 没有文件就关闭连接\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!file) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e client.end();\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 开始上传\x3c\/span\x3e\n  client.put(file.source, file.remotePath, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 本次上传耗时\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e timming = \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e.now() - startTime;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27error \x27\x3c\/span\x3e, err);\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27upload fail -\x27\x3c\/span\x3e, file.remotePath);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27upload success -\x27\x3c\/span\x3e, file.remotePath, timming \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27ms\x27\x3c\/span\x3e);\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 每次上传之后检测下是否还有文件需要上传，如果没有就关闭连接\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (__assets__.length === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n      client.end();\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n      uploadFile();\n    }\n  });\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发起连接\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3econnect\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econf\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!__connected__) {\n    client.connect(__conf__);\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 连接成功\x3c\/span\x3e\nclient.on(\x3cspan class=\x22hljs-string\x22\x3e\x27ready\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  __connected__ = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n  uploadFile(\x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e.now());\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 连接已关闭\x3c\/span\x3e\nclient.on(\x3cspan class=\x22hljs-string\x22\x3e\x27close\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  __connected__ = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 连接关闭后，如果发现还有文件需要上传就重新发起连接\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (__assets__.length \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) connect();\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * [deploy description]\n * @param  {Array}   assets  待 deploy 的文件\n * file.source      buffer\n * file.remotePath  path\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edeployWithFtp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econf, assets, callback\x3c\/span\x3e) \x3c\/span\x3e{\n  __conf__ = conf;\n  __assets__ = __assets__.concat(assets);\n  connect();\n}\n\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * [DeployPlugin description]\n * @param {Array} options\n * option.reg \n * option.to \n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eDeployPlugin\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3econf, options\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.conf = conf;\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.options = options;\n}\n\nDeployPlugin.prototype.apply = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecompiler\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e conf = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.conf;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e options = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.options;\n  compiler.plugin(\x3cspan class=\x22hljs-string\x22\x3e\x27done\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estats\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e files = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e assets = stats.compilation.assets;\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e name \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e assets) {\n      options.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecfg\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cfg.reg.test(name)) {\n          files.push({\n            \x3cspan class=\x22hljs-attr\x22\x3elocalPath\x3c\/span\x3e: name,\n            \x3cspan class=\x22hljs-attr\x22\x3eremotePath\x3c\/span\x3e: path.join(cfg.to, name),\n            \x3cspan class=\x22hljs-attr\x22\x3esource\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Buffer(assets[name].source(), \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e)\n          });\n        }\n      });\n    }\n    deployWithFtp(conf, files);\n  });\n};\n\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = DeployPlugin;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运用上面写的插件，实现同时在本地、测试环境开发，并能自动刷新和热更新。在 webpack.dev.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var DeployPlugin = require(\x27.\/deploy.plugin\x27);\n\/\/ 是否发布到测试环境\nif (deploy === true) {\n  config.plugins.push(\n    new DeployPlugin({\n      user: \x27username\x27,\n      password: \x27password\x27, \n      host: \x27your host\x27, \n      keepalive: 10000000\n    }, \n    [{reg: \/html$\/, to: \x27\/xxx\/xxx\/xxx\/app\/views\/\x27}])\n  );\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e DeployPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/deploy.plugin\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 是否发布到测试环境\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (deploy === \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e) {\n  config.plugins.push(\n    \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e DeployPlugin({\n      \x3cspan class=\x22hljs-attr\x22\x3euser\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27username\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3epassword\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27password\x27\x3c\/span\x3e, \n      \x3cspan class=\x22hljs-attr\x22\x3ehost\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27your host\x27\x3c\/span\x3e, \n      \x3cspan class=\x22hljs-attr\x22\x3ekeepalive\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e10000000\x3c\/span\x3e\n    }, \n    [{\x3cspan class=\x22hljs-attr\x22\x3ereg\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/html$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3eto\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/xxx\/xxx\/xxx\/app\/views\/\x27\x3c\/span\x3e}])\n  );\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这个例子里，只将 html 文件发布到测试环境，静态资源还是使用的本地的webpack-dev-server，所以热更新、自动刷新还是可以正常使用\x3c\/p\x3e\n\x3cp\x3e其他的发布插件：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ca href=\x22https:\/\/github.com\/xiaoyann\/deploy-kit\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edeploy-kit\x3c\/a\x3e (推荐)\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/iAmHades\/sftp-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esftp-webpack-plugin\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/sqhtiamo\/webpack-sftp-client\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-sftp-client\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3ewebpack 问题及优化\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e改变代码时所有的 chunkhash 都会改变\x3c\/h3\x3e\n\x3cp\x3e在这个项目中我们把框架和库都打包到了一个 chunk，这部分我们自己是不会修改的，但是当我们更改业务代码时这个 chunk 的 hash 却同时发生了变化。这将导致上线时用户又得重新下载这个根本没有变化的文件。\x3c\/p\x3e\n\x3cp\x3e所以我们不能使用 webpack 提供的 chunkhash 来命名文件，那我们自己根据文件内容来计算 hash 命名不就好了吗。\x3cbr\x3e开发的时候不需要使用 hash，或者使用 hash 也没问题，最终产出时我们使用自己的方式重新命名：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i md5 --save-dev\n$ touch build\/rename.plugin.js\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22shell\x22\x3e$ npm \x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e md5 --save-dev\n$ touch build\/rename\x3cspan class=\x22hljs-selector-class\x22\x3e.plugin\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ rename.plugin.js\n\nvar fs = require(\x27fs\x27);\nvar path = require(\x27path\x27);\nvar md5 = require(\x27md5\x27);\n\n\nfunction RenamePlugin() {\n}\n\nRenamePlugin.prototype.apply = function(compiler) {\n  compiler.plugin(\x27done\x27, function(stats) {\n    var htmlFiles = [];\n    var hashFiles = [];\n    var assets = stats.compilation.assets;\n\n    Object.keys(assets).forEach(function(fileName) {\n      var file = assets[fileName];\n      if (\/\\.(css|js)$\/.test(fileName)) {\n        var hash = md5(file.source());\n        var newName = fileName.replace(\/(.js|.css)$\/, \x27.\x27 \x2b hash \x2b \x27$1\x27);\n        hashFiles.push({\n          originName: fileName,\n          hashName: newName\n        });\n        fs.rename(file.existsAt, file.existsAt.replace(fileName, newName));\n      } \n      else if (\/\\.html$\/) {\n        htmlFiles.push(fileName);\n      }\n    });\n\n    htmlFiles.forEach(function(fileName) {\n      var file = assets[fileName];\n      var contents = file.source();\n      hashFiles.forEach(function(item) {\n        contents = contents.replace(item.originName, item.hashName);\n      });\n      fs.writeFile(file.existsAt, contents, \x27utf-8\x27);\n    });\n  });\n};\n\nmodule.exports = RenamePlugin;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ rename.plugin.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e md5 = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27md5\x27\x3c\/span\x3e);\n\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eRenamePlugin\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n}\n\nRenamePlugin.prototype.apply = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecompiler\x3c\/span\x3e) \x3c\/span\x3e{\n  compiler.plugin(\x3cspan class=\x22hljs-string\x22\x3e\x27done\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estats\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e htmlFiles = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hashFiles = [];\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e assets = stats.compilation.assets;\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.keys(assets).forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efileName\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = assets[fileName];\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(css|js)$\/\x3c\/span\x3e.test(fileName)) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hash = md5(file.source());\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e newName = fileName.replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/(.js|.css)$\/\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27.\x27\x3c\/span\x3e \x2b hash \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27$1\x27\x3c\/span\x3e);\n        hashFiles.push({\n          \x3cspan class=\x22hljs-attr\x22\x3eoriginName\x3c\/span\x3e: fileName,\n          \x3cspan class=\x22hljs-attr\x22\x3ehashName\x3c\/span\x3e: newName\n        });\n        fs.rename(file.existsAt, file.existsAt.replace(fileName, newName));\n      } \n      \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-regexp\x22\x3e\/\\.html$\/\x3c\/span\x3e) {\n        htmlFiles.push(fileName);\n      }\n    });\n\n    htmlFiles.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efileName\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e file = assets[fileName];\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e contents = file.source();\n      hashFiles.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) \x3c\/span\x3e{\n        contents = contents.replace(item.originName, item.hashName);\n      });\n      fs.writeFile(file.existsAt, contents, \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e);\n    });\n  });\n};\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = RenamePlugin;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在 webpack.release.js 里添加：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ webpack.release.js\n\nvar RenamePlugin = require(\x27.\/rename.plugin\x27);\nconfig.plugins.push(new RenamePlugin());\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ webpack.release.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e RenamePlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/rename.plugin\x27\x3c\/span\x3e);\nconfig.plugins.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e RenamePlugin());\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后也推荐使用自己的方式，根据最终文件内容计算 hash，因为这样无论谁发布代码，或者无论在哪台机器上发布，计算出来的 hash 都是一样的。不会因为下次上线换了台机器就改变了不需要改变的 hash。\x3c\/p\x3e\n\x3ch5\x3e2016年07月20日20:34:46 更新：\x3c\/h5\x3e\n\x3cp\x3e上面的关于hash的说法有点武断了，抱歉。\x3c\/p\x3e\n\x3cp\x3e关于这个问题有两个点需要知道：\x3c\/p\x3e\n\x3cp\x3e1、 webpack 会根据模块第一次被引用的顺序来将模块放到一个数组里面，模块 id 就是它在数组中的位置。比如下面这个模块的 id 是 3, 如果这个模块第一次被引用的顺序变了，它就不是 3 了，所以最终文件的内容还是可能会发生不必要的改变。也就是说，即使我们使用自己的方式计算 hash，还是没有彻底解决这个问题。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/* 3 *\/\n\/***\/ function(module, exports) {\n\n    module.exports = \x27module is \x27;\n\n\/***\/ }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* 3 *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/***\/\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emodule, exports\x3c\/span\x3e) \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-string\x22\x3e\x27module is \x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/***\/\x3c\/span\x3e }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2、我们使用webpack就不需要再使用其他的模块加载器，因为webpack自己实现了。这块代码保留了一份 chunk map，而这块代码被打包到了 lib。也就是说 lib 的内容会因为我们增加 chunk，或减少 chunk 而变，尤其是使用了 webpack hash 后，只要其他代码的内容变了，map 里的 hash 随着更新，lib 的内容又得变了，而这都不是我们期望的。坑啊。。。。。。。。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/******\/             script.src = __webpack_require__.p \x2b \x26quot;\x26quot; \x2b chunkId \x2b \x26quot;.\x26quot; \x2b ({\x26quot;0\x26quot;:\x26quot;app\x26quot;}[chunkId]||chunkId) \x2b \x26quot;.\x26quot; \x2b {\x26quot;0\x26quot;:\x26quot;f829bbd875a74dae32a2\x26quot;}[chunkId] \x2b \x26quot;.js\x26quot;;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/******\/\x3c\/span\x3e             script.src = __webpack_require__.p \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e \x2b chunkId \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22.\x22\x3c\/span\x3e \x2b ({\x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22app\x22\x3c\/span\x3e}[chunkId]||chunkId) \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22.\x22\x3c\/span\x3e \x2b {\x3cspan class=\x22hljs-string\x22\x3e\x220\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22f829bbd875a74dae32a2\x22\x3c\/span\x3e}[chunkId] \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22.js\x22\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e3、我们使用自己计算 hash 重命名产出文件有可能在使用异步加载时造成坑，因为webpack保留chunk map是为了异步加载能映射到正确的文件，但我们把名字给改了。衰。。。。。。。。\x3c\/p\x3e\n\x3ch4\x3e2016年07月21日11:44:08 更新：\x3c\/h4\x3e\n\x3cp\x3e看了下这个 \x3ca href=\x22https:\/\/github.com\/webpack\/webpack\/issues\/1315\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eissue\x3c\/a\x3e，这个问题已经算是完美解决了：\x3c\/p\x3e\n\x3cp\x3e1、 针对数字索引module id，解决方法有:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e使用\x3ca href=\x22http:\/\/webpack.github.io\/docs\/configuration.html#recordspath-recordsinputpath-recordsoutputpath\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erecordsPath option\x3c\/a\x3e记录每次编译的结果，也就是知道哪些 ID 被使用了\x3c\/li\x3e\n\x3cli\x3e不再使用数字索引做 module id，而使用 hash name，这也是社区上都赞成并希望的支持的方式，经过测试这种方式并不会对文件的大小造成大的影响。而且webpack已经完成了一个\x3ca href=\x22https:\/\/github.com\/webpack\/webpack\/blob\/master\/lib\/HashedModuleIdsPlugin.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e插件\x3c\/a\x3e来支持，会在2.0正式发布\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e2、针对 chunk map 那段代码，抽取出来就好了，插件 \x3ca href=\x22https:\/\/github.com\/diurnalist\/chunk-manifest-webpack-plugin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/diurnalist...\x3c\/a\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/webpack\/webpack\/issues\/1150\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub issue 对这个问题的讨论\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000005969643\x22\x3e使用webpack的dll功能解决这个问题\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e原文地址：\x3ca href=\x22https:\/\/52dachu.com\/post\/201606271753\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/52dachu.com\/post\/201606271753\x3c\/a\x3e\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用 webpack + react + redux + es6 开发组件化前端项目</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005969488">https://segmentfault.com/a/1190000005969488</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/tiudy29d7mf/" target="_blank">https://alili.tech/archive/tiudy29d7mf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>