<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Redux 入门"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Redux 入门 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/56s39pc6n5u/",
				"appid": "1613049289050283", 
				"title": "Redux 入门 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-07T02:30:15"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/y89j6qezpo/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/a0xwc6kfr5/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&text=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&text=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&title=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&is_video=false&description=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Redux%20%e5%85%a5%e9%97%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&title=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&title=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&title=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f56s39pc6n5u%2f&title=Redux%20%e5%85%a5%e9%97%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Redux 入门</h1><div class="meta"><div class="postdate"><time datetime="2019-02-07" itemprop="datePublished">2019-02-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\n\x3cp\x3e系列文章:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3eRedux 入门(本文)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000006056167\x22\x3eRedux 进阶\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000006673171\x22 target=\x22_blank\x22\x3e番外篇: Vuex — The core of Vue application\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e状态管理，第一次听到这个词要追溯到去年年底。那时，\x3ca href=\x22https:\/\/facebook.github.io\/flux\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eFlux\x3c\/a\x3e 红透半边天，而 \x3ca href=\x22https:\/\/github.com\/reflux\/refluxjs\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReflux\x3c\/a\x3e 也是风华正茂。然而，前一阵一直在忙其他的事，一直没时间学学这两个库，到现在 \x3ca href=\x22http:\/\/redux.js.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRedux\x3c\/a\x3e 似乎又有一统天下的趋势。\x3c\/p\x3e\n\x3cp\x3e那就来看看，Redux 是凭借什么做到异军突起的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3eWhat\x27s Redux\x3c\/h3\x3e\n\x3cp\x3eRedux 是一个 JavaScript 应用状态管理的库，它帮助你编写行为一致，并易于测试的代码，而且它非常迷你，只有 2KB。\x3c\/p\x3e\n\x3cp\x3eRedux 有一点和别的前端库或框架不同，它不单单是一套类库，它更是一套方法论，告诉你如何去构建一个状态可预测的应用。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eWhy using Redux\x3c\/h3\x3e\n\x3cp\x3e随着单页应用变得越来越复杂，前端代码需要管理各种各样的状态，它可以是服务器的响应，也可能是前端界面的状态。当这个状态变得任意可变，那么你就可能在某个时间点失去对整个应用状态的控制。\x3c\/p\x3e\n\x3cp\x3eRedux 就是为了解决这个问题而诞生的。\x3c\/p\x3e\n\x3cp\x3e简短地说，Redux 为整个应用创建并管理一棵状态树，并通过限制更新发生的时间和方式，而使得整个应用状态的变化变得可以被预测。\x3c\/p\x3e\n\x3cp\x3e除此之外，Redux 有着一整套丰富的生态圈，包括教程、中间件、开发者工具及文档，这些都可以在\x3ca href=\x22http:\/\/redux.js.org\/docs\/introduction\/Ecosystem.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e中找到。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eHow to use Redux\x3c\/h3\x3e\n\x3ch4\x3e三大原则\x3c\/h4\x3e\n\x3cp\x3e在使用 Redux 之前，你必须要谨记它的三大原则：单一数据源、\x3ccode\x3estate\x3c\/code\x3e 是只读的和使用纯函数执行修改。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e单一数据源\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e整个应用的 \x3ccode\x3estate\x3c\/code\x3e 都被储存在一棵树中，并且这棵状态树只存在于\x3cstrong\x3e唯一\x3c\/strong\x3e一个 \x3ccode\x3estore\x3c\/code\x3e 中。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这使得来自服务端的 \x3ccode\x3estate\x3c\/code\x3e 可以轻易地注入到客户端中；并且，由于是单一的 \x3ccode\x3estate\x3c\/code\x3e 树，代码调试、以及“撤销\/重做”这类功能的实现也变得轻而易举。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e只读的 \x3ccode\x3estate\x3c\/code\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e唯一改变 \x3ccode\x3estate\x3c\/code\x3e 的方法就是触发 \x3ccode\x3eaction\x3c\/code\x3e，\x3ccode\x3eaction\x3c\/code\x3e 是一个用于描述已发生事件的普通对象。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这就表示无论是用户操作或是请求数据都不能直接修改 \x3ccode\x3estate\x3c\/code\x3e，相反它们只能通过触发 \x3ccode\x3eaction\x3c\/code\x3e 来变更当前应用状态。其次，\x3ccode\x3eaction\x3c\/code\x3e 就是普通对象，因此它们可以被日志打印、序列化、储存，以及用于调试或测试的后期回放。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e使用纯函数执行修改\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e为每个 \x3ccode\x3eaction\x3c\/code\x3e 用\x3cstrong\x3e纯函数\x3c\/strong\x3e编写 \x3ccode\x3ereducer\x3c\/code\x3e 来描述如何修改 \x3ccode\x3estate\x3c\/code\x3e 树\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e或许你是第一次听到纯函数这个概念，但它是函数话编程的基础。\x3c\/p\x3e\n\x3cp\x3e纯函数在\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Pure_function\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e维基百科\x3c\/a\x3e上的解释简单来说是满足以下两项：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e函数在有相同的输入值时，产生相同的输出\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e函数中不包含任何会产生副作用的语句\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e在这里，\x3ccode\x3ereducer\x3c\/code\x3e 要做到\x3cstrong\x3e只要传入参数相同，返回计算得到的下一个 state 就一定相同。没有特殊情况、没有副作用，没有 API 请求、没有变量修改，只进行单纯执行计算。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e知道了三大原则之后，那就可以开始了解如何创建一个基于 Redux 的应用。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3eAction\x3c\/h4\x3e\n\x3cp\x3e就如之前提到的，\x3ccode\x3eaction\x3c\/code\x3e 是一个描述事件的简单对象，它是改变 \x3ccode\x3estore\x3c\/code\x3e 中 \x3ccode\x3estate\x3c\/code\x3e 的唯一方法，它通过 \x3ccode\x3estore.dispatch()\x3c\/code\x3e 方法来将 \x3ccode\x3eaction\x3c\/code\x3e 传到 \x3ccode\x3estore\x3c\/code\x3e 中。\x3c\/p\x3e\n\x3cp\x3e下面就是一个 \x3ccode\x3eaction\x3c\/code\x3e 的例子，它表示添加一个新的 todo 项。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const ADD_TODO = \x27ADD_TODO\x27\n\/\/ action\n{\n  type: ADD_TODO,\n  text: \x27Build my first Redux app\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ADD_TODO = \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ action\x3c\/span\x3e\n{\n  \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ADD_TODO,\n  \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Build my first Redux app\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到 \x3ccode\x3eaction\x3c\/code\x3e 就是一个简单的 JavaScript 对象。\x3c\/p\x3e\n\x3cp\x3e用一个字符串类型的 \x3ccode\x3etype\x3c\/code\x3e 字段来表示将要执行的动作，\x3ccode\x3etype\x3c\/code\x3e 最好用常量来定义，当应用扩大时，可以使用单独的模块来存放 \x3ccode\x3eaction\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e除了 \x3ccode\x3etype\x3c\/code\x3e 字段外，\x3ccode\x3eaction\x3c\/code\x3e 对象的结构完全由你自己决定（也可以借鉴 \x3ca href=\x22https:\/\/github.com\/acdlite\/flux-standard-action\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eflux-standard-action\x3c\/a\x3e 来构建你的 \x3ccode\x3eaction\x3c\/code\x3e）。\x3c\/p\x3e\n\x3cp\x3e在现实场景中，\x3ccode\x3eaction\x3c\/code\x3e 所传递的值很少会是一个固定的值，都是动态产生的。所以，要为每个 \x3ccode\x3eaction\x3c\/code\x3e 创建它的工厂方法，工厂方法返回一个 \x3ccode\x3eaction\x3c\/code\x3e 对象。\x3c\/p\x3e\n\x3cp\x3e上面的那个例子就会变为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function addTodo(text) {\n  return {\n    type: ADD_TODO,\n    text\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddTodo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ADD_TODO,\n    text\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eAction\x3c\/code\x3e 的创建工厂可以是异步非纯函数。牵扯到异步的问题内容就比较多，放到下一篇再分享了。\x3c\/p\x3e\n\x3ch4\x3eReducer\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3eAction\x3c\/code\x3e 只是一个描述事件的简单对象，并没有告诉应用该如何更新 \x3ccode\x3estate\x3c\/code\x3e，而这正是 \x3ccode\x3ereducer\x3c\/code\x3e 的工作。\x3c\/p\x3e\n\x3cp\x3e在 Redux 应用中，所有的 \x3ccode\x3estate\x3c\/code\x3e 都被保存在一个单一对象中。所以，建议在写代码前先确定这个对象的结构。如何才能以最简的形式把应用的 \x3ccode\x3estate\x3c\/code\x3e 用对象描述出来？\x3c\/p\x3e\n\x3cp\x3e在设计过程中，你会发现你有时需要在 \x3ccode\x3estate\x3c\/code\x3e 中存储一些如 UI 的 \x3ccode\x3estate\x3c\/code\x3e，尽量将应用数据和 UI \x3ccode\x3estate\x3c\/code\x3e 分开存放。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  todos: [\n    {\n      text: \x27Consider using Redux\x27,\n      completed: true,\n    },\n    {\n      text: \x27Keep all state in a single tree\x27,\n      completed: false\n    }\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: [\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Consider using Redux\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    },\n    {\n      \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Keep all state in a single tree\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e在处理复杂应用时，建议尽可能地把 \x3ccode\x3estate\x3c\/code\x3e 范式化，把所有数据放到一个对象里，每个数据以 ID 为主键，不同实体或列表间通过 ID 相互引用数据，这种方法在 \x3ca href=\x22https:\/\/github.com\/paularmstrong\/normalizr\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enormalizr\x3c\/a\x3e 文档里有详细阐述。\x3c\/p\x3e\n\x3cp\x3e现在我们已经确定了 \x3ccode\x3estate\x3c\/code\x3e 对象的结构，就可以开始开发 \x3ccode\x3ereducer\x3c\/code\x3e。\x3ccode\x3ereducer\x3c\/code\x3e 是一个纯函数，它接收旧的 \x3ccode\x3estate\x3c\/code\x3e 和 \x3ccode\x3eaction\x3c\/code\x3e，返回新的 \x3ccode\x3estate\x3c\/code\x3e，就像这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(previousState, action) =\x3e newState\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e(previousState, action) =\x26gt; newState\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e还记不记得\x3cstrong\x3e三大原则\x3c\/strong\x3e？\x3c\/p\x3e\n\x3cp\x3e没错，最后一点\x3cstrong\x3e使用纯函数进行修改\x3c\/strong\x3e，所以，\x3cstrong\x3e永远不要\x3c\/strong\x3e在 \x3ccode\x3ereducer\x3c\/code\x3e 里做这些操作：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e修改传入的参数（即之前的 \x3ccode\x3estate\x3c\/code\x3e 或 \x3ccode\x3eaction\x3c\/code\x3e 对象）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e执行有副作用的操作，如 API 请求或路由跳转\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e调用非纯函数，如 \x3ccode\x3eDate.now()\x3c\/code\x3e 或 \x3ccode\x3eMath.random()\x3c\/code\x3e 等\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e将这些铭记于心后，就能创建对应之前 \x3ccode\x3eaction\x3c\/code\x3e 的 \x3ccode\x3ereducer\x3c\/code\x3e 了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const initialState = {\n  todos: []\n}\n\nfunction todoApp(state = initialState, action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return {\n        ...state,\n        todos: [\n          ...state.todos,\n          {\n            text: action.text,\n            completed: false\n          }\n        ]\n      }\n    default:\n      return state\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e initialState = {\n  \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: []\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodoApp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = initialState, action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e ADD_TODO:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        ...state,\n        \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: [\n          ...state.todos,\n          {\n            \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: action.text,\n            \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n          }\n        ]\n      }\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e不要修改传入的 \x3ccode\x3estate\x3c\/code\x3e，否则它就不是个纯函数\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在遇到未知 \x3ccode\x3eaction\x3c\/code\x3e type 的时候，默认返回之前的 \x3ccode\x3estate\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e这样一个 \x3ccode\x3ereducer\x3c\/code\x3e 就创建好了，是不是很简单？多个 \x3ccode\x3eaction\x3c\/code\x3e 也是如此，我们再来添加一个\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22case TOGGLE_TODO:\n  return {\n    ...state,\n    todos: state.todos.map((todo, index) =\x3e {\n      if (index === action.index) {\n        return {\n          ...todo,\n          completed: !todo.completed\n        } \/\/ 时刻谨记不要修改 state，保证 reducer 是纯函数\n      }\n      return todo\n    })\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e TOGGLE_TODO:\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    ...state,\n    \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: state.todos.map(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3etodo, index\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (index === action.index) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n          ...todo,\n          \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: !todo.completed\n        } \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 时刻谨记不要修改 state，保证 reducer 是纯函数\x3c\/span\x3e\n      }\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e todo\n    })\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e从例子中可以发现，当对 \x3ccode\x3estate\x3c\/code\x3e 的一部分进行操作时，不会影响 \x3ccode\x3estate\x3c\/code\x3e 的其他部分，但仍需复制 \x3ccode\x3estate\x3c\/code\x3e 树的其他部分。当项目的规模成长时，\x3ccode\x3estate\x3c\/code\x3e 树的层次也会随之增长，对树深层节点的操作将会带来大量的复制。\x3c\/p\x3e\n\x3cp\x3e此时，我们就可以将这些相互独立的 \x3ccode\x3ereducer\x3c\/code\x3e 拆分开来，我们之前的例子就可以改成这样(官网的例子更能体现这一点，为了缩减篇幅我这里省略了另一个 \x3ccode\x3ereducer\x3c\/code\x3e)。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ todos reducer\nfunction todos(state = [], action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return [\n        ...state,\n        {\n          text: action.text,\n          completed: false\n        }\n      ]\n    case TOGGLE_TODO:\n      return state.map((todo, index) =\x3e {\n        if (index === action.index) {\n          return {\n            ...todo,\n            completed: !todo.completed\n          } \/\/ 时刻谨记不要修改 state，保证 reducer 是纯函数\n        }\n        return todo\n      })\n    default:\n      return state\n  }\n}\n\n\/\/ main reducer\nfunction todoApp(state = initialState, action) {\n  switch (action.type) {\n    case ADD_TODO:\n    case TOGGLE_TODO:\n      return {\n        ...state,\n        todos: todos(state.todos, action)\n      }\n   default:\n      return state\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ todos reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodos\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = [], action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e ADD_TODO:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n        ...state,\n        {\n          \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: action.text,\n          \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        }\n      ]\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e TOGGLE_TODO:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state.map(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3etodo, index\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (index === action.index) {\n          \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n            ...todo,\n            \x3cspan class=\x22hljs-attr\x22\x3ecompleted\x3c\/span\x3e: !todo.completed\n          } \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 时刻谨记不要修改 state，保证 reducer 是纯函数\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e todo\n      })\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ main reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodoApp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = initialState, action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e ADD_TODO:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e TOGGLE_TODO:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        ...state,\n        \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: todos(state.todos, action)\n      }\n   \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这就是所谓的 \x3ccode\x3ereducer\x3c\/code\x3e 合成，它是开发 Redux 应用的基础。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e每个 \x3ccode\x3ereducer\x3c\/code\x3e 应当只负责管理全局 \x3ccode\x3estate\x3c\/code\x3e 中它负责的一部分；并且，每个 \x3ccode\x3ereducer\x3c\/code\x3e 的 \x3ccode\x3estate\x3c\/code\x3e 参数分别对应它管理的那部分 \x3ccode\x3estate\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e由于，每个 \x3ccode\x3ereducer\x3c\/code\x3e 应当只负责管理全局 \x3ccode\x3estate\x3c\/code\x3e 中它负责的一部分，那么上面的 main \x3ccode\x3ereducer\x3c\/code\x3e 就能改为\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ main reducer\nfunction todoApp(state = initialState, action) {\n  return {\n    todos: todos(state.todos, action)\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ main reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodoApp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = initialState, action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attr\x22\x3etodos\x3c\/span\x3e: todos(state.todos, action)\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e最后，Redux 提供了 \x3ccode\x3ecombineReducers()\x3c\/code\x3e 工具类，它能帮我们减少很多重复的模板代码。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ecombineReducers()\x3c\/code\x3e 就像一个工厂，它根据传入对象的 key 来筛选出 \x3ccode\x3estate\x3c\/code\x3e 中 key 所对应的值传给对应的 \x3ccode\x3ereducer\x3c\/code\x3e，最终它返回一个符合规范的 reducer 函数。 \x3c\/p\x3e\n\x3cp\x3e最终，我们的 main \x3ccode\x3ereducer\x3c\/code\x3e 就变为\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ main reducer\nconst todoApp = combineReducers({\n  todos \/\/ 等价于 todos: todos(state.todos, action)\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ main reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e todoApp = combineReducers({\n  todos \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 等价于 todos: todos(state.todos, action)\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e随着应用的膨胀，你可以将拆分后的 \x3ccode\x3ereducer\x3c\/code\x3e 放到不同的文件中, 以保持其独立性。然后，你的代码就可以变成这样...\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { combineReducers } from \x27redux\x27\nimport * as reducers from \x27.\/reducers\x27\n\nconst todoApp = combineReducers(reducers)\n\nexport default todoApp\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { combineReducers } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e reducers \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/reducers\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e todoApp = combineReducers(reducers)\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e todoApp\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006760718\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006760718\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3eStore\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3eStore\x3c\/code\x3e 用来存放整个应用的 \x3ccode\x3estate\x3c\/code\x3e，并将 \x3ccode\x3eaction\x3c\/code\x3e 和 \x3ccode\x3ereducer\x3c\/code\x3e 联系起来。它主要有以下几个职能：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e存储整个应用的 \x3ccode\x3estate\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提供 \x3ccode\x3egetState()\x3c\/code\x3e 方法获取 \x3ccode\x3estate\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提供 \x3ccode\x3edispatch(action)\x3c\/code\x3e 方法更新 \x3ccode\x3estate\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提供 \x3ccode\x3esubscribe(listener)\x3c\/code\x3e 来注册、取消监听器\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e根据已有的 \x3ccode\x3ereducer\x3c\/code\x3e 来创建 \x3ccode\x3estore\x3c\/code\x3e 非常容易，只需将 \x3ccode\x3ereducer\x3c\/code\x3e 作为参数传递给 \x3ccode\x3ecreateStore()\x3c\/code\x3e 方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createStore } from \x27redux\x27\nimport todoApp from \x27.\/reducers\x27\nlet store = createStore(todoApp)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e todoApp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/reducers\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e store = createStore(todoApp)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样，整个应用的 \x3ccode\x3estore\x3c\/code\x3e 就创建完成了。虽然还没有界面，但我们已经可以测试数据处理逻辑了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { addTodo, toggleTodo } from \x27.\/actions\x27\n\n\/\/ 打印初始状态\nconsole.log(store.getState())\n\n\/\/ 注册监听器，在每次 state 更新时，打印日志\nconst unsubscribe = store.subscribe(() =\x3e\n  console.log(store.getState())\n)\n\n\/\/ 发起 actions\nstore.dispatch(addTodo(\x27Learn about actions\x27))\nstore.dispatch(addTodo(\x27Learn about reducers\x27))\nstore.dispatch(addTodo(\x27Learn about store\x27))\nstore.dispatch(actions.toggleTodo(0))\nstore.dispatch(actions.toggleTodo(1))\n\n\/\/ 停止监听\nunsubscribe();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { addTodo, toggleTodo } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 打印初始状态\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(store.getState())\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册监听器，在每次 state 更新时，打印日志\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e unsubscribe = store.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(store.getState())\n)\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 发起 actions\x3c\/span\x3e\nstore.dispatch(addTodo(\x3cspan class=\x22hljs-string\x22\x3e\x27Learn about actions\x27\x3c\/span\x3e))\nstore.dispatch(addTodo(\x3cspan class=\x22hljs-string\x22\x3e\x27Learn about reducers\x27\x3c\/span\x3e))\nstore.dispatch(addTodo(\x3cspan class=\x22hljs-string\x22\x3e\x27Learn about store\x27\x3c\/span\x3e))\nstore.dispatch(actions.toggleTodo(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e))\nstore.dispatch(actions.toggleTodo(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e))\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 停止监听\x3c\/span\x3e\nunsubscribe();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行代码，控制台中就能看到下面的输出。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006760719\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006760719\x22 alt=\x22控制台输出\x22 title=\x22控制台输出\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eData flow\x3c\/h3\x3e\n\x3cp\x3e时刻谨记一点：\x3cstrong\x3e严格的单向数据流是 Redux 架构的设计核心\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e也就是说，对 \x3ccode\x3estate\x3c\/code\x3e 树的任何修改都该通过 \x3ccode\x3eaction\x3c\/code\x3e 发起，然后经过一系列 \x3ccode\x3ereducer\x3c\/code\x3e 组合的处理，最后返回一个新的 \x3ccode\x3estate\x3c\/code\x3e 对象。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eTake a try with Angular\x3c\/h3\x3e\n\x3cp\x3e之前的举例已经将 redux 最基本的一套生命周期处理展示完毕了，但没有个界面显示总是不那么令人信服。Redux 官网的例子是将 Redux 同 React 一起使用，但如同一开始说的，Redux 更是一套方法论，它不单可以和 React 一同使用，也可以和 Angular 等其他框架一同使用。\x3c\/p\x3e\n\x3cp\x3e虽然，同官网用的是不同的框架，但概念是相通的。\x3c\/p\x3e\n\x3cp\x3e首先，页面都是由组件构成，组件又分为两大类：\x3cstrong\x3e容器组件（Smart\/Container Components）\x3c\/strong\x3e和\x3cstrong\x3e展示组件（Dumb\/Presentational Components）\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth\x3e \x3c\/th\x3e\n\x3cth align=\x22center\x22\x3e容器组件\x3c\/th\x3e\n\x3cth align=\x22center\x22\x3e展示组件\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd\x3e目的\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e数据处理，state 更新\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e界面展示\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e受 redux 影响\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e是\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e否\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e数据来源\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e\x3ccode\x3estore.subscribe()\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e组件属性传递\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd\x3e修改数据\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e\x3ccode\x3estore.dispatch()\x3c\/code\x3e\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e调用通过组件属性传递的方法\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3e简单来说，容器组件就是通过 \x3ccode\x3estore.subscribe()\x3c\/code\x3e 这个方法监听 \x3ccode\x3estore\x3c\/code\x3e 中 \x3ccode\x3estate\x3c\/code\x3e 的变化，而展示组件，就是平常使用的普通的组件，只有一点需要注意的是，所有数据修改都是通过父组件中传递下来的 \x3ccode\x3estore.dispatch()\x3c\/code\x3e 方法来修改。\x3c\/p\x3e\n\x3cp\x3e可以说，容器组件是整个界面显示的核心。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ todos\/index.js\nimport angular from \x27angular\x27\nimport template from \x27.\/todos.html\x27\nimport controller from \x27.\/todos\x27\n\nconst todoContainer = {\n    controller,\n    template\n}\n\nexport default angular.module(\x27todoContainer\x27, [])\n    .component(\x27todoContainer\x27, todoContainer)\n    .name\n    \n\/\/ todos\/todos.js\nimport store from \x27..\/..\/store\x27\nimport actions from \x27..\/..\/actions\x27\n\nexport default class TodosContainController {\n\n    $onInit() {\n        \/\/ 注册监听器，在每次 state 更新时，更新页面绑定内容\n        this.unsubscribe = store.subscribe(() =\x3e {\n                console.log(store.getState())\n                this.todos = store.getState().todos\n        })\n    }\n\n    addTodoItem(text) {\n        store.dispatch(actions.addTodo(text))\n    }\n\n    toggleTodoItem(index) {\n        store.dispatch(actions.toggleTodo(index))\n    }\n\n    $onDistory() {\n        \/\/ 销毁监听器\n        this.unsubscribe()\n    }\n}    \n\n\/\/ todos\/todos.html\n\x3cdiv\x3e\n    \x3cadd-todo add-todo-fn=\x26quot;$ctrl.addTodoItem(text)\x26quot;\x3e\x3c\/add-todo\x3e\n    \x3ctodo-list todo-list=\x26quot;$ctrl.todos\x26quot; toggle-todo-fn=\x26quot;$ctrl.toggleTodoItem(index)\x26quot;\x3e\x3c\/todo-list\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22JavaScript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ todos\/index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e angular \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27angular\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e template \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/todos.html\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e controller \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/todos\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e todoContainer = {\n    controller,\n    template\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e angular.module(\x3cspan class=\x22hljs-string\x22\x3e\x27todoContainer\x27\x3c\/span\x3e, [])\n    .component(\x3cspan class=\x22hljs-string\x22\x3e\x27todoContainer\x27\x3c\/span\x3e, todoContainer)\n    .name\n    \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ todos\/todos.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/store\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e actions \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTodosContainController\x3c\/span\x3e \x3c\/span\x3e{\n\n    $onInit() {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册监听器，在每次 state 更新时，更新页面绑定内容\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.unsubscribe = store.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(store.getState())\n                \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.todos = store.getState().todos\n        })\n    }\n\n    addTodoItem(text) {\n        store.dispatch(actions.addTodo(text))\n    }\n\n    toggleTodoItem(index) {\n        store.dispatch(actions.toggleTodo(index))\n    }\n\n    $onDistory() {\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 销毁监听器\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.unsubscribe()\n    }\n}    \n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ todos\/todos.html\x3c\/span\x3e\n\x26lt;div\x26gt;\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eadd-todo\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eadd-todo-fn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$ctrl.addTodoItem(text)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eadd-todo\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etodo-list\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etodo-list\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$ctrl.todos\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etoggle-todo-fn\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22$ctrl.toggleTodoItem(index)\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etodo-list\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eRedux 官网并不建议直接这样使用 \x3ccode\x3estore.subscribe()\x3c\/code\x3e 来监听数据的变化，而是调用 React Redux 库的 \x3ccode\x3econnect()\x3c\/code\x3e 方法，因为 \x3ccode\x3econnect\x3c\/code\x3e 方法做了许多性能上的优化。相对于 Angular，也有 \x3ca href=\x22https:\/\/github.com\/angular-redux\/ng-redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eng-redux\x3c\/a\x3e 和 \x3ca href=\x22https:\/\/github.com\/angular-redux\/ng2-redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eng2-redux\x3c\/a\x3e 提供了相同的方法。\x3c\/p\x3e\n\x3cp\x3e鉴于展示组件与 redux 并没有太大的相关，就不在这里赘述了，有兴趣可以去 \x3ca href=\x22https:\/\/github.com\/DiscipleD\/Redux-demo\/tree\/master\/src\/todoMVC\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e 上查看。\x3c\/p\x3e\n\x3cp\x3e至此，一个简单的基于 Angular 并运用 Redux 的 todo MVC 应用就完成了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e最后\x3c\/h3\x3e\n\x3cp\x3e如果你熟悉 Flux，那么这篇图文并茂的\x3ca href=\x22https:\/\/github.com\/jasonslyvia\/a-cartoon-intro-to-redux-cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e文章\x3c\/a\x3e获取会对你有很大的帮助。\x3c\/p\x3e\n\x3cp\x3e如果你是和我一样直接接触 Redux，那\x3ca href=\x22http:\/\/redux.js.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e是你的首选。\x3c\/p\x3e\n\x3cp\x3e当然，你一定得看看 Redux 作者 Dan Abramov 自己录制的\x3ca href=\x22https:\/\/egghead.io\/courses\/getting-started-with-redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e视频\x3c\/a\x3e，它会对你理解 Redux 有极大的帮助。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Redux 入门</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005925630">https://segmentfault.com/a/1190000005925630</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/56s39pc6n5u/" target="_blank">https://alili.tech/archive/56s39pc6n5u/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>