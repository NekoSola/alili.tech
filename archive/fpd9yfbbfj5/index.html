<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="RxJS 核心概念之Subject"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>RxJS 核心概念之Subject | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/fpd9yfbbfj5/",
				"appid": "1613049289050283", 
				"title": "RxJS 核心概念之Subject | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-10T02:30:42"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/bk0wso6scif/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rz5d1kp841/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&text=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&text=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&title=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&is_video=false&description=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&title=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&title=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&title=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ffpd9yfbbfj5%2f&title=RxJS%20%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5%e4%b9%8bSubject"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">RxJS 核心概念之Subject</h1><div class="meta"><div class="postdate"><time datetime="2019-02-10" itemprop="datePublished">2019-02-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cstrong\x3e什么是Subject？\x3c\/strong\x3e 在RxJS中，Subject是一类特殊的Observable，它可以向多个Observer多路推送数值。普通的Observable并不具备多路推送的能力（每一个Observer都有自己独立的执行环境），而Subject可以共享一个执行环境。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eSubject是一种可以多路推送的可观察对象。与EventEmitter类似，Subject维护着自己的Observer。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e每一个Subject都是一个Observable（可观察对象）\x3c\/strong\x3e 对于一个Subject，你可以订阅（\x3ccode\x3esubscribe\x3c\/code\x3e）它，Observer会和往常一样接收到数据。从Observer的视角看，它并不能区分自己的执行环境是普通Observable的单路推送还是基于Subject的多路推送。\x3c\/p\x3e\n\x3cp\x3eSubject的内部实现中，并不会在被订阅（\x3ccode\x3esubscribe\x3c\/code\x3e）后创建新的执行环境。它仅仅会把新的Observer注册在由它本身维护的Observer列表中，这和其他语言、库中的\x3ccode\x3eaddListener\x3c\/code\x3e机制类似。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e每一个Subject也可以作为Observer（观察者）\x3c\/strong\x3e Subject同样也是一个由\x3ccode\x3enext(v)\x3c\/code\x3e，\x3ccode\x3eerror(e)\x3c\/code\x3e，和 \x3ccode\x3ecomplete()\x3c\/code\x3e这些方法组成的对象。调用\x3ccode\x3enext(theValue)\x3c\/code\x3e方法后，Subject会向所有已经在其上注册的Observer多路推送\x3ccode\x3etheValue\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e下面的例子中，我们在Subject上注册了两个Observer，并且多路推送了一些数值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.Subject();\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\nsubject.next(1);\nsubject.next(2);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.Subject();\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e控制台输出结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 1\nobserverB: 1\nobserverA: 2\nobserverB: 2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e既然Subject是一个Observer，你可以把它作为\x3ccode\x3esubscribe\x3c\/code\x3e（订阅）普通Observable时的参数，如下面例子所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.Subject();\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\nvar observable = Rx.Observable.from([1, 2, 3]);\n\nobservable.subscribe(subject); \/\/ 你可以传递Subject来订阅observable\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.Subject();\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e observable = Rx.Observable.from([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]);\n\nobservable.subscribe(subject); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 你可以传递Subject来订阅observable\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行后结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 1\nobserverB: 1\nobserverA: 2\nobserverB: 2\nobserverA: 3\nobserverB: 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e通过上面的实现：我们发现可以通过Subject将普通的Observable单路推送转换为多路推送。这说明了Subject的作用——作为单路Observable转变为多路Observable的桥梁。\x3c\/p\x3e\n\x3cp\x3e还有几种特殊的\x3ccode\x3eSubject\x3c\/code\x3e 类型，分别是\x3ccode\x3eBehaviorSubject\x3c\/code\x3e，\x3ccode\x3eReplaySubject\x3c\/code\x3e，和 \x3ccode\x3eAsyncSubject\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e多路推送的Observable\x3c\/h2\x3e\n\x3cp\x3e在以后的语境中，每当提到“多路推送的Observable”，我们特指通过Subject构建的Observable执行环境。否则“普通的Observable”只是一个不会共享执行环境并且被订阅后才生效的一系列值。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e通过使用Subject可以创建拥有相同执行环境的多路的Observable。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e下面展示了\x3ccode\x3e多路\x3c\/code\x3e的运作方式：Subject从普通的Observable订阅了数据，然后其他Observer又订阅了这个Subject，示例如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var source = Rx.Observable.from([1, 2, 3]);\nvar subject = new Rx.Subject();\nvar multicasted = source.multicast(subject);\n\n\/\/ 通过`subject.subscribe({...})`订阅Subject的Observer：\nmulticasted.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\nmulticasted.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\n\/\/ 让Subject从数据源订阅开始生效：\nmulticasted.connect();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e source = Rx.Observable.from([\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.Subject();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e multicasted = source.multicast(subject);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过`subject.subscribe({...})`订阅Subject的Observer：\x3c\/span\x3e\nmulticasted.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\nmulticasted.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 让Subject从数据源订阅开始生效：\x3c\/span\x3e\nmulticasted.connect();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3emulticast\x3c\/code\x3e方法返回一个类似于Observable的可观察对象，但是在其被订阅后，它会表现Subject的特性。  \x3ccode\x3emulticast\x3c\/code\x3e 返回的对象同时是\x3ccode\x3eConnectableObservable\x3c\/code\x3e类型的，拥有\x3ccode\x3econnect()\x3c\/code\x3e 方法。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3econnect()\x3c\/code\x3e方法非常的重要，它决定Observable何时开始执行。由于调用\x3ccode\x3econnect()\x3c\/code\x3e后，Observable开始执行，因此，\x3ccode\x3econnect()\x3c\/code\x3e会返回一个\x3ccode\x3eSubscription\x3c\/code\x3e供调用者来终止执行。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e引用计数\x3c\/h3\x3e\n\x3cp\x3e通过手动调用\x3ccode\x3econnect()\x3c\/code\x3e返回的Subscription控制执行十分繁杂。通常，我们希望在有第一个Observer订阅Subject后\x3cem\x3e自动\x3c\/em\x3e\x3ccode\x3econnnect\x3c\/code\x3e，当所有Observer都取消订阅后终止这个Subject。\x3c\/p\x3e\n\x3cp\x3e我们来分析一下下面例子中subscription的过程：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e第一个Observer 订阅了多路推送的 Observable\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e多路Observable被连接\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e向第一个Observer发送 值为\x3ccode\x3e0\x3c\/code\x3e的\x3ccode\x3enext\x3c\/code\x3e通知\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第二个Observer订阅了多路推送的 Observable\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e向第一个Observer发送 值为\x3ccode\x3e1\x3c\/code\x3e的\x3ccode\x3enext\x3c\/code\x3e通知\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e向第二个Observer发送 值为\x3ccode\x3e1\x3c\/code\x3e的\x3ccode\x3enext\x3c\/code\x3e通知\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第一个Observer取消了对多路推送的Observable的订阅\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e向第二个Observer发送 值为\x3ccode\x3e2\x3c\/code\x3e的\x3ccode\x3enext\x3c\/code\x3e通知\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第二个Observer取消了对多路推送的Observable的订阅\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e取消对多路推送的Observable的连接\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e通过显式地调用\x3ccode\x3econnect()\x3c\/code\x3e，代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var source = Rx.Observable.interval(500);\nvar subject = new Rx.Subject();\nvar multicasted = source.multicast(subject);\nvar subscription1, subscription2, subscriptionConnect;\n\nsubscription1 = multicasted.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\nsubscriptionConnect = multicasted.connect();\n\nsetTimeout(() =\x3e {\n  subscription2 = multicasted.subscribe({\n    next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n  });\n}, 600);\n\nsetTimeout(() =\x3e {\n  subscription1.unsubscribe();\n}, 1200);\n\nsetTimeout(() =\x3e {\n  subscription2.unsubscribe();\n  subscriptionConnect.unsubscribe(); \n}, 2000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e source = Rx.Observable.interval(\x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.Subject();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e multicasted = source.multicast(subject);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subscription1, subscription2, subscriptionConnect;\n\nsubscription1 = multicasted.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\nsubscriptionConnect = multicasted.connect();\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  subscription2 = multicasted.subscribe({\n    \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n  });\n}, \x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e);\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  subscription1.unsubscribe();\n}, \x3cspan class=\x22hljs-number\x22\x3e1200\x3c\/span\x3e);\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  subscription2.unsubscribe();\n  subscriptionConnect.unsubscribe(); \n}, \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你不想显式地调用\x3ccode\x3econnect()\x3c\/code\x3e方法，可以在ConnectableObservable类型的Observable上调用\x3ccode\x3erefCount()\x3c\/code\x3e方法。方法会进行引用计数：记录Observable被订阅的行为。当订阅数从 \x3ccode\x3e0\x3c\/code\x3e 到 \x3ccode\x3e1\x3c\/code\x3e时\x3ccode\x3erefCount()\x3c\/code\x3e 会调用\x3ccode\x3econnect()\x3c\/code\x3e 方法。到订阅数从\x3ccode\x3e1\x3c\/code\x3e 到 \x3ccode\x3e0\x3c\/code\x3e，他会终止整个执行过程。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e\x3ccode\x3erefCount\x3c\/code\x3e 使得多路推送的Observable在被订阅后自动执行，在所有观察者取消订阅后，停止执行。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e下面是示例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var source = Rx.Observable.interval(500);\nvar subject = new Rx.Subject();\nvar refCounted = source.multicast(subject).refCount();\nvar subscription1, subscription2, subscriptionConnect;\n\nconsole.log(\x27observerA subscribed\x27);\nsubscription1 = refCounted.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\n\nsetTimeout(() =\x3e {\n  console.log(\x27observerB subscribed\x27);\n  subscription2 = refCounted.subscribe({\n    next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n  });\n}, 600);\n\nsetTimeout(() =\x3e {\n  console.log(\x27observerA unsubscribed\x27);\n  subscription1.unsubscribe();\n}, 1200);\n\nsetTimeout(() =\x3e {\n  console.log(\x27observerB unsubscribed\x27);\n  subscription2.unsubscribe();\n}, 2000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e source = Rx.Observable.interval(\x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.Subject();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e refCounted = source.multicast(subject).refCount();\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subscription1, subscription2, subscriptionConnect;\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA subscribed\x27\x3c\/span\x3e);\nsubscription1 = refCounted.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB subscribed\x27\x3c\/span\x3e);\n  subscription2 = refCounted.subscribe({\n    \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n  });\n}, \x3cspan class=\x22hljs-number\x22\x3e600\x3c\/span\x3e);\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA unsubscribed\x27\x3c\/span\x3e);\n  subscription1.unsubscribe();\n}, \x3cspan class=\x22hljs-number\x22\x3e1200\x3c\/span\x3e);\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB unsubscribed\x27\x3c\/span\x3e);\n  subscription2.unsubscribe();\n}, \x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行输出结果如下:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA subscribed\nobserverA: 0\nobserverB subscribed\nobserverA: 1\nobserverB: 1\nobserverA unsubscribed\nobserverB: 2\nobserverB unsubscribed\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\nobserverA subscribed\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\nobserverB subscribed\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\nobserverA unsubscribed\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\nobserverB unsubscribed\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e只有ConnectableObservables拥有\x3ccode\x3erefCount()\x3c\/code\x3e方法，调用后会返回一个\x3ccode\x3eObservable\x3c\/code\x3e而不是新的ConnectableObservable。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eBehaviorSubject\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eBehaviorSubject\x3c\/code\x3e是Subject的一个衍生类，具有“最新的值”的概念。它总是保存最近向数据消费者发送的值，当一个Observer订阅后，它会即刻从\x3ccode\x3eBehaviorSubject\x3c\/code\x3e收到“最新的值”。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eBehaviorSubjects非常适于表示“随时间推移的值”。举一个形象的例子，Subject表示一个人的生日，而Behavior则表示一个人的岁数。（生日只是一天，一个人的岁数会保持到下一次生日之前。）\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e下面例子中，展示了如何用 \x3ccode\x3e0\x3c\/code\x3e初始化BehaviorSubject，当Observer订阅它时，\x3ccode\x3e0\x3c\/code\x3e是第一个被推送的值。紧接着，在第二个Observer订阅BehaviorSubject之前，它推送了\x3ccode\x3e2\x3c\/code\x3e，虽然订阅在推送\x3ccode\x3e2\x3c\/code\x3e之后，但是第二个Observer仍然能接受到\x3ccode\x3e2\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.BehaviorSubject(0 \/* 初始值 *\/);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\n\nsubject.next(1);\nsubject.next(2);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\nsubject.next(3);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.BehaviorSubject(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/* 初始值 *\/\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 0\nobserverA: 1\nobserverA: 2\nobserverB: 2\nobserverA: 3\nobserverB: 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eReplaySubject\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eReplaySubject\x3c\/code\x3e 如同于\x3ccode\x3eBehaviorSubject\x3c\/code\x3e是 \x3ccode\x3eSubject\x3c\/code\x3e 的子类。通过 \x3ccode\x3eReplaySubject\x3c\/code\x3e可以向新的订阅者推送旧数值，就像一个录像机\x3ccode\x3eReplaySubject\x3c\/code\x3e可以记录Observable的一部分状态（过去时间内推送的值）。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e.一个\x3ccode\x3eReplaySubject\x3c\/code\x3e可以记录Observable执行过程中推送的多个值，并向新的订阅者回放它们。\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e你可以指定回放值的数量：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.ReplaySubject(3 \/* 回放数量 *\/);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\n\nsubject.next(1);\nsubject.next(2);\nsubject.next(3);\nsubject.next(4);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\nsubject.next(5);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.ReplaySubject(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/* 回放数量 *\/\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 1\nobserverA: 2\nobserverA: 3\nobserverA: 4\nobserverB: 2\nobserverB: 3\nobserverB: 4\nobserverA: 5\nobserverB: 5\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了回放数量，你也可以以毫秒为单位去指定“窗口时间”，决定ReplaySubject记录多久以前Observable推送的数值。下面的例子中，我们把回放数量设置为\x3ccode\x3e100\x3c\/code\x3e，把窗口时间设置为\x3ccode\x3e500\x3c\/code\x3e毫秒：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.ReplaySubject(100, 500 \/* windowTime *\/);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\n\nvar i = 1;\nsetInterval(() =\x3e subject.next(i\x2b\x2b), 200);\n\nsetTimeout(() =\x3e {\n  subject.subscribe({\n    next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n  });\n}, 1000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.ReplaySubject(\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/* windowTime *\/\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\nsetInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e subject.next(i\x2b\x2b), \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e);\n\nsetTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  subject.subscribe({\n    \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n  });\n}, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e第二个Observer接受到\x3ccode\x3e3\x3c\/code\x3e（600ms）, \x3ccode\x3e4\x3c\/code\x3e（800ms） 和 \x3ccode\x3e5\x3c\/code\x3e（1000ms），这些值均在订阅之前的\x3ccode\x3e500\x3c\/code\x3e毫秒内推送（窗口长度 1000ms - 600ms = 400ms \x26lt; 500ms）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 1\nobserverA: 2\nobserverA: 3\nobserverA: 4\nobserverA: 5\nobserverB: 3\nobserverB: 4\nobserverB: 5\nobserverA: 6\nobserverB: 6\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eAsyncSubject\x3c\/h2\x3e\n\x3cp\x3eAsyncSubject是Subject的另外一个衍生类，Observable仅会在执行完成后，推送执行环境中的最后一个值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var subject = new Rx.AsyncSubject();\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerA: \x27 \x2b v)\n});\n\nsubject.next(1);\nsubject.next(2);\nsubject.next(3);\nsubject.next(4);\n\nsubject.subscribe({\n  next: (v) =\x3e console.log(\x27observerB: \x27 \x2b v)\n});\n\nsubject.next(5);\nsubject.complete();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e subject = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Rx.AsyncSubject();\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerA: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\n\nsubject.subscribe({\n  \x3cspan class=\x22hljs-attr\x22\x3enext\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ev\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27observerB: \x27\x3c\/span\x3e \x2b v)\n});\n\nsubject.next(\x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e);\nsubject.complete();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e输出结果如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\nobserverA: 5\nobserverB: 5\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode class=\x22none\x22\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverA:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eobserverB:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eAsyncSubject 与 \x3ca href=\x22http:\/\/reactivex.io\/rxjs\/class\/es6\/Observable.js~Observable.html#instance-method-last\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3elast()\x3c\/code\x3e\x3c\/a\x3e 操作符相似，等待完成通知后推送执行过程的最后一个值。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>RxJS 核心概念之Subject</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005069851">https://segmentfault.com/a/1190000005069851</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/fpd9yfbbfj5/" target="_blank">https://alili.tech/archive/fpd9yfbbfj5/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>