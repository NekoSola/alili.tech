<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="初步整理的关于 Progressive Web Apps 的资料"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>初步整理的关于 Progressive Web Apps 的资料 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/rj5s4pit1d/",
				"appid": "1613049289050283", 
				"title": "初步整理的关于 Progressive Web Apps 的资料 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-09T02:30:59"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/97jv67q41s/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yy1gv5h9tn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&text=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&text=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&title=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&is_video=false&description=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&title=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&title=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&title=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2frj5s4pit1d%2f&title=%e5%88%9d%e6%ad%a5%e6%95%b4%e7%90%86%e7%9a%84%e5%85%b3%e4%ba%8e%20Progressive%20Web%20Apps%20%e7%9a%84%e8%b5%84%e6%96%99"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">初步整理的关于 Progressive Web Apps 的资料</h1><div class="meta"><div class="postdate"><time datetime="2019-02-09" itemprop="datePublished">2019-02-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在 Twitter 上看到 Addy Osmani 发的视频被狂转, 开始注意\x3cbr\x3e\x3ca href=\x22https:\/\/twitter.com\/addyosmani\/status\/734753297274306561\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/twitter.com\/addyosmani\/status\/734753297274306561\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/speakerdeck.com\/addyosmani\/progressive-web-apps-across-all-frameworks\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/speakerdeck.com\/addyosmani\/progressive-web-apps-across-all-frameworks\x3c\/a\x3e\x3cbr\x3e之前几乎对这个词语没有印象, 看到是在 IO 的演讲还以为是新技术\x3cbr\x3e在 Youtube 上找一下, 这次好多个视频是关于 Progressive Web Apps 的\x3cbr\x3e视频的内容主要是讲网站优化, 分别用 React, Angular, Ember 做例子\x3cbr\x3e可惜没有 Vue, 大概要等小右补... 方案应该没有问题\x3cbr\x3e从视频看, 优化的效果非常显著, 本来好几秒的应用能优化到一秒内.. 很夸张\x3cbr\x3e所以仔细了解了一下怎么回事, 现在大概了解\x3c\/p\x3e\n\x3cp\x3e视频里给的优化方案大概分成几个步骤(细节还要看视频确认):\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e添加 \x3ccode\x3emanifest.json\x3c\/code\x3e 文件, 生成 Android 主屏打开的网页加载页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e编写 Service Worker 脚本处理缓存, 更快读取缓存\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e服务端渲染, 用 App Shell 带来效果, 然后动态加载\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e启动过程 JavaScript 代码的性能优化\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ww4.sinaimg.cn\/mw1024\/62752320jw1f45ptnt4krj20i008wwew.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ww4.sinaimg.cn\/mw1024\/62752320jw1f45ptnt4krj20i008wwew.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e虽然是新技术, 但文档可以追溯到一年前甚至一年半以前\x3cbr\x3eService Worker 在 2014 年底就在 HTML5 Rocks 上介绍了\x3cbr\x3e\x3ccode\x3emanifest.json\x3c\/code\x3e 的识别功能在 Chrome 39 已经加入\x3cbr\x3eApp Shell 仅仅是模板渲染略过动态内容的一个优化\x3cbr\x3e前两个 API 整体上是 Chrome 支持, 所以兼容性问题较大\x3cbr\x3e那么 Google 既然在大会上推, 说明方案已经比较成熟值得深入了\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3eProgressive Web Apps(PWA)\x3c\/h3\x3e\n\x3cp\x3e简称 PWA 吧, 名字是从 Android Chrome 的\x22添加到主屏幕\x22开始的\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/developers.google.com\/web\/updates\/images\/2015-03-03\/add-to-home-screen.gif\x22 src=\x22https:\/\/static.alili.techhttps:\/\/developers.google.com\/web\/updates\/images\/2015-03-03\/add-to-home-screen.gif\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eProgressive Web Apps: Escaping Tabs Without Losing Our Soul \x3ca href=\x22https:\/\/infrequently.org\/2015\/06\/progressive-apps-escaping-tabs-without-losing-our-soul\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/infrequently.org\/2015\/06\/progressive-apps-escaping-tabs-without-losing-our-soul\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e2015 年六月份的文章, 第一次有了这个提法, 针对这类应用\x3cbr\x3e网页应用在这样的场景下和移动应用很相似了, 可以从主屏打开\x3cbr\x3e而且, 能快速地加载, 可以跑后台进程, 加密的连接, 离线使用等等\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/cdn-images-1.medium.com\/max\/2000\/1*6BUS9ahijjPrr4BfV0Oq8g.jpeg\x22 src=\x22https:\/\/static.alili.techhttps:\/\/cdn-images-1.medium.com\/max\/2000\/1*6BUS9ahijjPrr4BfV0Oq8g.jpeg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3eInstant Loading Web Apps With An Application Shell Architecture \x3ca href=\x22https:\/\/medium.com\/google-developers\/instant-loading-web-apps-with-an-application-shell-architecture-7c0c2f10c73\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/medium.com\/google-developers\/instant-loading-web-apps-with-an-application-shell-architecture-7c0c2f10c73\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e到了年底的时候 Addy Osmani 发了文章, 大致上已经是前面演讲的内容了\x3cbr\x3e首先是渲染 App Shell 也就是页面的框架, 给用户更好的加载体验\x3cbr\x3e而且可以通过 Service Worker 来做 App Shell 渲染, 去掉网络请求的时间\x3cbr\x3e然后再动态地请求更多内容, 填充数据. 整体上看的加载速度会变快\x3c\/p\x3e\n\x3cp\x3e2015 年底还有个 Google Developer Summit, 我以前都没注意到\x3cbr\x3e据说大会上 PWA 已经名声很大了, Medium 上专门介绍了一下\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eChrome Developer Summit Recap \x3ca href=\x22https:\/\/medium.com\/@davideast\/chrome-developer-summit-recap-1137b022b2dc\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/medium.com\/@davideast\/chrome-developer-summit-recap-1137b022b2dc\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eGetting started with Progressive Web Apps \x3ca href=\x22https:\/\/addyosmani.com\/blog\/getting-started-with-progressive-web-apps\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/addyosmani.com\/blog\/getting-started-with-progressive-web-apps\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e演讲视频的话, YouTube 上几个大会录的演讲都挺丰富的:\x3cbr\x3e\x3ca href=\x22https:\/\/www.youtube.com\/results?search_query=progressive\x2bweb\x2bapps\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.youtube.com\/results?search_query=progressive\x2bweb\x2bapps\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e现在已经有做了不少的 PWA 的 Demo 了, 比如第一个 washingtonpost\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eWashington Post \x3ca href=\x22https:\/\/washingtonpost.com\/pwa\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/washingtonpost.com\/pwa\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eList of Progressive Web Apps Build status \x3ca href=\x22https:\/\/github.com\/operasoftware\/pwa-list\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/operasoftware\/pwa-list\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eProgressive Web Apps collection \x3ca href=\x22https:\/\/github.com\/ljinkai\/pwa-collection\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/ljinkai\/pwa-collection\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eHacker news demo \x3ca href=\x22https:\/\/progressive-web-application.herokuapp.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/progressive-web-application.herokuapp.com\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eWeb App Manifest\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3emanifest.json\x3c\/code\x3e 前面说了, 加进来挺久了, 主要是为了添加 Splash Screen\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22https:\/\/developers.google.com\/web\/updates\/images\/2015\/10\/splashscreen.gif\x22 src=\x22https:\/\/static.alili.techhttps:\/\/developers.google.com\/web\/updates\/images\/2015\/10\/splashscreen.gif\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e根据 \x3ccode\x3emanifest.json\x3c\/code\x3e 可以自动生成一个网页(主屏幕按钮打开)的启动界面\x3cbr\x3e这样看上去就很像一个 Native App 了, 包含图片, 文字, 背景\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eSplashscreen \x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2015\/10\/splashscreen\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/developers.google.com\/web\/updates\/2015\/10\/splashscreen\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eAdd to Homescreen \x3ca href=\x22https:\/\/developer.chrome.com\/multidevice\/android\/installtohomescreen\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/developer.chrome.com\/multidevice\/android\/installtohomescreen\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e我尝试的时候主要是图片遇到了问题, \x3ccode\x3e128dp\x3c\/code\x3e 对应最小要求 \x3ccode\x3e192px\x3c\/code\x3e\x3cbr\x3e我当时图片太小了结果很久没显示出来, 到文档上才发现\x3cbr\x3e详细的 \x3ccode\x3emanifest.json\x3c\/code\x3e 内容可以在下面一些界面找到\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eThe W3C App Manifest specification \x3ca href=\x22http:\/\/html5doctor.com\/web-manifest-specification\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/html5doctor.com\/web-manifest-specification\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eWeb app manifest \x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/Manifest\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/developer.mozilla.org\/en-US\/docs\/Web\/Manifest\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eWeb App Manifest, Living Document \x3ca href=\x22http:\/\/manifest.sysapps.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/manifest.sysapps.org\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eManifest Generator \x3ca href=\x22http:\/\/brucelawson.github.io\/manifest\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/brucelawson.github.io\/manifest\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eWeb Manifest Validator \x3ca href=\x22https:\/\/manifest-validator.appspot.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/manifest-validator.appspot.com\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eService Worker\x3c\/h3\x3e\n\x3cp\x3eService Worker 可以简单理解成跑在网络请求的拦截器\x3cbr\x3e或者当做是 Nginx, 它可以监听页面的请求, 判断返回什么内容\x3cbr\x3e它可以通过 \x3ccode\x3eCache\x3c\/code\x3e 处理本地的缓存, 也可以用 \x3ccode\x3efetch\x3c\/code\x3e 抓线上的资源\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ww3.sinaimg.cn\/mw1024\/62752320jw1f45s6ixcomj20zy0kan3l.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ww3.sinaimg.cn\/mw1024\/62752320jw1f45s6ixcomj20zy0kan3l.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/image.slidesharecdn.com\/devoxxfr16-progressive-web-apps-forpeliere-cbalit-160421091441\/95\/devoxx-fr-2016-progressive-web-apps-par-florian-orpelire-cyril-balit-47-638.jpg?cb=1461245212\x22 src=\x22https:\/\/static.alili.techhttp:\/\/image.slidesharecdn.com\/devoxxfr16-progressive-web-apps-forpeliere-cbalit-160421091441\/95\/devoxx-fr-2016-progressive-web-apps-par-florian-orpelire-cyril-balit-47-638.jpg?cb=1461245212\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e另外演讲视频还有介绍处理消息推送功能, 类似离线收发消息, 还没细看.\x3cbr\x3e关于 API 使用需要深入看文档, 已经有很详细的介绍了:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e[译]我的第一个 Service Worker \x3ca href=\x22http:\/\/www.w3ctech.com\/topic\/1593\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.w3ctech.com\/topic\/1593\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eIntroduction to Service Worker \x3ca href=\x22http:\/\/www.html5rocks.com\/en\/tutorials\/service-worker\/introduction\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.html5rocks.com\/en\/tutorials\/service-worker\/introduction\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eThe offline cookbook \x3ca href=\x22https:\/\/jakearchibald.com\/2014\/offline-cookbook\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jakearchibald.com\/2014\/offline-cookbook\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eGoogle 提供了一些类库, 能实现 Express.js 风格的简化写法:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3esw-precache \x3ca href=\x22https:\/\/github.com\/GoogleChrome\/sw-precache\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/GoogleChrome\/sw-precache\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3esw-toolbox \x3ca href=\x22https:\/\/github.com\/GoogleChrome\/sw-toolbox\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/GoogleChrome\/sw-toolbox\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e具体的浏览器兼容性可以看:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eis service worker ready? \x3ca href=\x22https:\/\/jakearchibald.github.io\/isserviceworkerready\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jakearchibald.github.io\/isserviceworkerready\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ecan I use \x3ca href=\x22http:\/\/caniuse.com\/#feat=serviceworkers\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/caniuse.com\/#feat=serviceworkers\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ww4.sinaimg.cn\/mw1024\/62752320gw1f45rdb99vij20qn0iq79i.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ww4.sinaimg.cn\/mw1024\/62752320gw1f45rdb99vij20qn0iq79i.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e关于调试, Google Chrome 试验版本已经更新了 Application Tab\x3cbr\x3e其中 Service Worker 被放到了显眼的位置, 不过, 功能多了还是挺复杂的\x3cbr\x3e另外下面这些链接会有帮助:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eService Worker Debugging \x3ca href=\x22https:\/\/www.chromium.org\/blink\/serviceworker\/service-worker-faq\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.chromium.org\/blink\/serviceworker\/service-worker-faq\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3echrome:\/\/inspect\/#service-workers\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3echrome:\/\/serviceworker-internals\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e其他\x3c\/h3\x3e\n\x3cp\x3e另外了解和尝试 Demo 的时候我也想到一些跟自己项目比较相关的内容\x3c\/p\x3e\n\x3ch5\x3eReact Native 对比\x3c\/h5\x3e\n\x3cp\x3e很 RN 一样这套方案能让网页应用在效果上更接近原生应用\x3cbr\x3ePWA 主要是处理应用加载部分, 让应用能离线打开, 启动过程跟 App 一样变快\x3cbr\x3e因此原来寄托在 RN 的功能已经能做到了, 离线, App 启动界面\x3cbr\x3e我正在考虑把我以前某个 Demo 重写, 看下能有多像 App 的体验\x3c\/p\x3e\n\x3ch5\x3eReact 相关的尝试\x3c\/h5\x3e\n\x3cp\x3e从前简聊优化应用启动用过本地存储整个 Store 数据的办法\x3cbr\x3e普通页面 App Shell 不错了, 而 React 应该能做整个页面放 Service Worker\x3cbr\x3e或者说, Store 放进 Service Worker 里, Virtual DOM 也放进去\x3cbr\x3e那么网页主线程其实只有 DOM 操作部分的代码, 可能启动速度能提升非常大\x3cbr\x3e而且 React 已经有把 DOM Diff 放进 Worker 的尝试, 还可以延伸下\x3c\/p\x3e\n\x3cp\x3e整个这样想, 对 React 应用的整体架构改变将会挺大的\x3cbr\x3e而 Angular, Vue 之类的框架应该也会做类似的架构调整\x3c\/p\x3e\n\x3ch5\x3eService Worker 代码打包问题\x3c\/h5\x3e\n\x3cp\x3e文档里的 Demo 对应的 \x3ccode\x3esw.js\x3c\/code\x3e 代码都是的直接用链接加载的\x3cbr\x3e我们搭配 CDN 使用当有打包以及 revision 方便的考虑\x3cbr\x3e这就要求打包工具要对 service worker 的语法做良好的支持\x3cbr\x3eWebpack 有看到相关的 PR 提交对应的功能, 其他工具不了解:\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/webpack\/worker-loader\/pull\/14\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/webpack\/worker-loader\/pull\/14\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e项目代码引用\x3ccode\x3e sw.js\x3c\/code\x3e 的写法:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22navigator.serviceWorker.register(\x27\/sw.js\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enavigator.serviceWorker.register(\x3cspan class=\x22hljs-string\x22\x3e\x27\/sw.js\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3esw.js\x3c\/code\x3e 内部再引入其他代码的写法:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22importScripts(\x27serviceworker-cache-polyfill.js\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3eimportScripts(\x3cspan class=\x22hljs-string\x22\x3e\x27serviceworker-cache-polyfill.js\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可能的话还需要把 CommonJS ES6 模块打包进去, 会挺复杂的\x3cbr\x3e以及局部更新, 热替换之类的开发环境的打包方案改进等等\x3c\/p\x3e\n\x3ch5\x3eHTTPS\x3c\/h5\x3e\n\x3cp\x3e有点意外, 似乎之前 iOS 有做过强制 HTTPS? 我第一次遇到\x3cbr\x3eService Worker 运行要求网站是 HTTPS 或者 localhost\x3cbr\x3e这样的话本地开发, Android 上做 remote debugging 会有些不便\x3cbr\x3e我找的办法是直接在本地 Nginx 配置不安全的证书来方便开发的:\x3cbr\x3e\x3ca href=\x22https:\/\/serversforhackers.com\/video\/self-signed-ssl-certificates-for-development\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/serversforhackers.com\/video\/self-signed-ssl-certificates-for-development\x3c\/a\x3e\x3cbr\x3e比较直接的办法当然是找个有域名的服务器然后用 HTTPS 开发\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/twitter.com\/fraserxu\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efraserxu\x3c\/a\x3e教了我一招, 回头试试, 可以用 \x3ca href=\x22https:\/\/ngrok.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/ngrok.com\/\x3c\/a\x3e\x3cbr\x3e把本地的端口监听转化成一个在线的 HTTPS 地址...\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e小结\x3c\/h3\x3e\n\x3cp\x3e考虑缓存处理上带来的速度提升, 我对 PWA 整套方案很看好\x3cbr\x3e而且之前的 HTML5 应用缓存来说, PWA 的自由度和体验都改进了很多\x3cbr\x3e所以会逐渐开始考虑现实往这方面做迁移的思路:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e兼容性: 目前主要 Safari 不支持, 而 Chrome 方面已经比较成熟, 国产浏览器就...\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e工具链: 调试工具已经不错, 打包和局部更新还要等待技术支持\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e缓存方案: API 和语法糖都有了, 虽然代码比较啰嗦但是抄代码可以比较快\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e动态数据方案: 动态的数据怎么抓取和推送, 还不大了解, 不过 Google 有演示过一些\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e做到这些基本上已经可以对页面的加载过程做不小的优化了\x3cbr\x3e等待出更多的 Demo 以及大网站公布试验的数据如何...\x3c\/p\x3e\n\x3cp\x3e未来的更多代码被放进 Service Worker 之后, 带来的改变会更大一些\x3cbr\x3e最后贴一张图片膜拜一下前端的复杂度:\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ww2.sinaimg.cn\/mw1024\/62752320jw1f3qq6aw9bkj20sg0e80tv.jpg\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ww2.sinaimg.cn\/mw1024\/62752320jw1f3qq6aw9bkj20sg0e80tv.jpg\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/twitter.com\/sstephenson\/status\/730039913052176384\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/twitter.com\/sstephenson\/status\/730039913052176384\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>初步整理的关于 Progressive Web Apps 的资料</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000005346689">https://segmentfault.com/a/1190000005346689</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/rj5s4pit1d/" target="_blank">https://alili.tech/archive/rj5s4pit1d/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>